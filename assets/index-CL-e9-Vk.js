var ow=t=>{throw TypeError(t)};var Bf=(t,e,n)=>e.has(t)||ow("Cannot "+n);var B=(t,e,n)=>(Bf(t,e,"read from private field"),n?n.call(t):e.get(t)),be=(t,e,n)=>e.has(t)?ow("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),he=(t,e,n,r)=>(Bf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Tt=(t,e,n)=>(Bf(t,e,"access private method"),n);var su=(t,e,n,r)=>({set _(i){he(t,e,i,n)},get _(){return B(t,e,r)}});function KR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ox(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ax={exports:{}},wh={},lx={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yc=Symbol.for("react.element"),YR=Symbol.for("react.portal"),QR=Symbol.for("react.fragment"),XR=Symbol.for("react.strict_mode"),JR=Symbol.for("react.profiler"),ZR=Symbol.for("react.provider"),ek=Symbol.for("react.context"),tk=Symbol.for("react.forward_ref"),nk=Symbol.for("react.suspense"),rk=Symbol.for("react.memo"),ik=Symbol.for("react.lazy"),aw=Symbol.iterator;function sk(t){return t===null||typeof t!="object"?null:(t=aw&&t[aw]||t["@@iterator"],typeof t=="function"?t:null)}var cx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ux=Object.assign,dx={};function _a(t,e,n){this.props=t,this.context=e,this.refs=dx,this.updater=n||cx}_a.prototype.isReactComponent={};_a.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_a.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hx(){}hx.prototype=_a.prototype;function Lg(t,e,n){this.props=t,this.context=e,this.refs=dx,this.updater=n||cx}var jg=Lg.prototype=new hx;jg.constructor=Lg;ux(jg,_a.prototype);jg.isPureReactComponent=!0;var lw=Array.isArray,fx=Object.prototype.hasOwnProperty,Vg={current:null},px={key:!0,ref:!0,__self:!0,__source:!0};function mx(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)fx.call(e,r)&&!px.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:yc,type:t,key:s,ref:o,props:i,_owner:Vg.current}}function ok(t,e){return{$$typeof:yc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Fg(t){return typeof t=="object"&&t!==null&&t.$$typeof===yc}function ak(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var cw=/\/+/g;function $f(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ak(""+t.key):e.toString(36)}function Fu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case yc:case YR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+$f(o,0):r,lw(i)?(n="",t!=null&&(n=t.replace(cw,"$&/")+"/"),Fu(i,e,n,"",function(u){return u})):i!=null&&(Fg(i)&&(i=ok(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(cw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",lw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+$f(s,a);o+=Fu(s,e,n,l,i)}else if(l=sk(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+$f(s,a++),o+=Fu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ou(t,e,n){if(t==null)return t;var r=[],i=0;return Fu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function lk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bt={current:null},Uu={transition:null},ck={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:Uu,ReactCurrentOwner:Vg};function gx(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:ou,forEach:function(t,e,n){ou(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ou(t,function(){e++}),e},toArray:function(t){return ou(t,function(e){return e})||[]},only:function(t){if(!Fg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=_a;me.Fragment=QR;me.Profiler=JR;me.PureComponent=Lg;me.StrictMode=XR;me.Suspense=nk;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ck;me.act=gx;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ux({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Vg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)fx.call(e,l)&&!px.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:yc,type:t.type,key:i,ref:s,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:ek,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ZR,_context:t},t.Consumer=t};me.createElement=mx;me.createFactory=function(t){var e=mx.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:tk,render:t}};me.isValidElement=Fg;me.lazy=function(t){return{$$typeof:ik,_payload:{_status:-1,_result:t},_init:lk}};me.memo=function(t,e){return{$$typeof:rk,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=Uu.transition;Uu.transition={};try{t()}finally{Uu.transition=e}};me.unstable_act=gx;me.useCallback=function(t,e){return Bt.current.useCallback(t,e)};me.useContext=function(t){return Bt.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Bt.current.useDeferredValue(t)};me.useEffect=function(t,e){return Bt.current.useEffect(t,e)};me.useId=function(){return Bt.current.useId()};me.useImperativeHandle=function(t,e,n){return Bt.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Bt.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Bt.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Bt.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Bt.current.useReducer(t,e,n)};me.useRef=function(t){return Bt.current.useRef(t)};me.useState=function(t){return Bt.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Bt.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Bt.current.useTransition()};me.version="18.3.1";lx.exports=me;var w=lx.exports;const G=ox(w),vx=KR({__proto__:null,default:G},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uk=w,dk=Symbol.for("react.element"),hk=Symbol.for("react.fragment"),fk=Object.prototype.hasOwnProperty,pk=uk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mk={key:!0,ref:!0,__self:!0,__source:!0};function yx(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)fk.call(e,r)&&!mk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:dk,type:t,key:s,ref:o,props:i,_owner:pk.current}}wh.Fragment=hk;wh.jsx=yx;wh.jsxs=yx;ax.exports=wh;var p=ax.exports,wx={exports:{}},mn={},_x={exports:{}},Ex={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,W){var J=M.length;M.push(W);e:for(;0<J;){var K=J-1>>>1,ee=M[K];if(0<i(ee,W))M[K]=W,M[J]=ee,J=K;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var W=M[0],J=M.pop();if(J!==W){M[0]=J;e:for(var K=0,ee=M.length,ne=ee>>>1;K<ne;){var De=2*(K+1)-1,it=M[De],Te=De+1,wt=M[Te];if(0>i(it,J))Te<ee&&0>i(wt,it)?(M[K]=wt,M[Te]=J,K=Te):(M[K]=it,M[De]=J,K=De);else if(Te<ee&&0>i(wt,J))M[K]=wt,M[Te]=J,K=Te;else break e}}return W}function i(M,W){var J=M.sortIndex-W.sortIndex;return J!==0?J:M.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,h=3,g=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(M){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=M)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function A(M){if(y=!1,b(M),!v)if(n(l)!==null)v=!0,Z(D);else{var W=n(u);W!==null&&z(A,W.startTime-M)}}function D(M,W){v=!1,y&&(y=!1,T(S),S=-1),g=!0;var J=h;try{for(b(W),f=n(l);f!==null&&(!(f.expirationTime>W)||M&&!N());){var K=f.callback;if(typeof K=="function"){f.callback=null,h=f.priorityLevel;var ee=K(f.expirationTime<=W);W=t.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(l)&&r(l),b(W)}else r(l);f=n(l)}if(f!==null)var ne=!0;else{var De=n(u);De!==null&&z(A,De.startTime-W),ne=!1}return ne}finally{f=null,h=J,g=!1}}var L=!1,P=null,S=-1,C=5,R=-1;function N(){return!(t.unstable_now()-R<C)}function O(){if(P!==null){var M=t.unstable_now();R=M;var W=!0;try{W=P(!0,M)}finally{W?k():(L=!1,P=null)}}else L=!1}var k;if(typeof E=="function")k=function(){E(O)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,oe=H.port2;H.port1.onmessage=O,k=function(){oe.postMessage(null)}}else k=function(){x(O,0)};function Z(M){P=M,L||(L=!0,k())}function z(M,W){S=x(function(){M(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,Z(D))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var J=h;h=W;try{return M()}finally{h=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,W){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var J=h;h=M;try{return W()}finally{h=J}},t.unstable_scheduleCallback=function(M,W,J){var K=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?K+J:K):J=K,M){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=J+ee,M={id:d++,callback:W,priorityLevel:M,startTime:J,expirationTime:ee,sortIndex:-1},J>K?(M.sortIndex=J,e(u,M),n(l)===null&&M===n(u)&&(y?(T(S),S=-1):y=!0,z(A,J-K))):(M.sortIndex=ee,e(l,M),v||g||(v=!0,Z(D))),M},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(M){var W=h;return function(){var J=h;h=W;try{return M.apply(this,arguments)}finally{h=J}}}})(Ex);_x.exports=Ex;var gk=_x.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vk=w,fn=gk;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xx=new Set,jl={};function Ys(t,e){Zo(t,e),Zo(t+"Capture",e)}function Zo(t,e){for(jl[t]=e,t=0;t<e.length;t++)xx.add(e[t])}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gp=Object.prototype.hasOwnProperty,yk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uw={},dw={};function wk(t){return Gp.call(dw,t)?!0:Gp.call(uw,t)?!1:yk.test(t)?dw[t]=!0:(uw[t]=!0,!1)}function _k(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ek(t,e,n,r){if(e===null||typeof e>"u"||_k(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $t(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vt[t]=new $t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vt[e]=new $t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vt[t]=new $t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vt[t]=new $t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vt[t]=new $t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vt[t]=new $t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vt[t]=new $t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vt[t]=new $t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vt[t]=new $t(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ug=/[\-:]([a-z])/g;function Bg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ug,Bg);vt[e]=new $t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ug,Bg);vt[e]=new $t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ug,Bg);vt[e]=new $t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vt[t]=new $t(t,1,!1,t.toLowerCase(),null,!1,!1)});vt.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vt[t]=new $t(t,1,!1,t.toLowerCase(),null,!0,!0)});function $g(t,e,n,r){var i=vt.hasOwnProperty(e)?vt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ek(e,n,i,r)&&(n=null),r||i===null?wk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ti=vk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,au=Symbol.for("react.element"),yo=Symbol.for("react.portal"),wo=Symbol.for("react.fragment"),zg=Symbol.for("react.strict_mode"),Kp=Symbol.for("react.profiler"),Tx=Symbol.for("react.provider"),bx=Symbol.for("react.context"),Wg=Symbol.for("react.forward_ref"),Yp=Symbol.for("react.suspense"),Qp=Symbol.for("react.suspense_list"),Hg=Symbol.for("react.memo"),vi=Symbol.for("react.lazy"),Sx=Symbol.for("react.offscreen"),hw=Symbol.iterator;function Xa(t){return t===null||typeof t!="object"?null:(t=hw&&t[hw]||t["@@iterator"],typeof t=="function"?t:null)}var We=Object.assign,zf;function ul(t){if(zf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zf=e&&e[1]||""}return`
`+zf+t}var Wf=!1;function Hf(t,e){if(!t||Wf)return"";Wf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Wf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ul(t):""}function xk(t){switch(t.tag){case 5:return ul(t.type);case 16:return ul("Lazy");case 13:return ul("Suspense");case 19:return ul("SuspenseList");case 0:case 2:case 15:return t=Hf(t.type,!1),t;case 11:return t=Hf(t.type.render,!1),t;case 1:return t=Hf(t.type,!0),t;default:return""}}function Xp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wo:return"Fragment";case yo:return"Portal";case Kp:return"Profiler";case zg:return"StrictMode";case Yp:return"Suspense";case Qp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bx:return(t.displayName||"Context")+".Consumer";case Tx:return(t._context.displayName||"Context")+".Provider";case Wg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hg:return e=t.displayName||null,e!==null?e:Xp(t.type)||"Memo";case vi:e=t._payload,t=t._init;try{return Xp(t(e))}catch{}}return null}function Tk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xp(e);case 8:return e===zg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ki(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bk(t){var e=Cx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function lu(t){t._valueTracker||(t._valueTracker=bk(t))}function Ix(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Cx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function gd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jp(t,e){var n=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ki(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Px(t,e){e=e.checked,e!=null&&$g(t,"checked",e,!1)}function Zp(t,e){Px(t,e);var n=Ki(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?em(t,e.type,n):e.hasOwnProperty("defaultValue")&&em(t,e.type,Ki(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function em(t,e,n){(e!=="number"||gd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var dl=Array.isArray;function Ro(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ki(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function tm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(dl(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ki(n)}}function Ax(t,e){var n=Ki(e.value),r=Ki(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Rx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Rx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var cu,kx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(cu=cu||document.createElement("div"),cu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=cu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _l={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sk=["Webkit","ms","Moz","O"];Object.keys(_l).forEach(function(t){Sk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_l[e]=_l[t]})});function Nx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_l.hasOwnProperty(t)&&_l[t]?(""+e).trim():e+"px"}function Dx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Nx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Ck=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rm(t,e){if(e){if(Ck[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function im(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sm=null;function qg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var om=null,ko=null,No=null;function vw(t){if(t=Ec(t)){if(typeof om!="function")throw Error($(280));var e=t.stateNode;e&&(e=bh(e),om(t.stateNode,t.type,e))}}function Ox(t){ko?No?No.push(t):No=[t]:ko=t}function Mx(){if(ko){var t=ko,e=No;if(No=ko=null,vw(t),e)for(t=0;t<e.length;t++)vw(e[t])}}function Lx(t,e){return t(e)}function jx(){}var qf=!1;function Vx(t,e,n){if(qf)return t(e,n);qf=!0;try{return Lx(t,e,n)}finally{qf=!1,(ko!==null||No!==null)&&(jx(),Mx())}}function Fl(t,e){var n=t.stateNode;if(n===null)return null;var r=bh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var am=!1;if(Wr)try{var Ja={};Object.defineProperty(Ja,"passive",{get:function(){am=!0}}),window.addEventListener("test",Ja,Ja),window.removeEventListener("test",Ja,Ja)}catch{am=!1}function Ik(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var El=!1,vd=null,yd=!1,lm=null,Pk={onError:function(t){El=!0,vd=t}};function Ak(t,e,n,r,i,s,o,a,l){El=!1,vd=null,Ik.apply(Pk,arguments)}function Rk(t,e,n,r,i,s,o,a,l){if(Ak.apply(this,arguments),El){if(El){var u=vd;El=!1,vd=null}else throw Error($(198));yd||(yd=!0,lm=u)}}function Qs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Fx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yw(t){if(Qs(t)!==t)throw Error($(188))}function kk(t){var e=t.alternate;if(!e){if(e=Qs(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return yw(i),t;if(s===r)return yw(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function Ux(t){return t=kk(t),t!==null?Bx(t):null}function Bx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Bx(t);if(e!==null)return e;t=t.sibling}return null}var $x=fn.unstable_scheduleCallback,ww=fn.unstable_cancelCallback,Nk=fn.unstable_shouldYield,Dk=fn.unstable_requestPaint,Xe=fn.unstable_now,Ok=fn.unstable_getCurrentPriorityLevel,Gg=fn.unstable_ImmediatePriority,zx=fn.unstable_UserBlockingPriority,wd=fn.unstable_NormalPriority,Mk=fn.unstable_LowPriority,Wx=fn.unstable_IdlePriority,_h=null,fr=null;function Lk(t){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(_h,t,void 0,(t.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:Fk,jk=Math.log,Vk=Math.LN2;function Fk(t){return t>>>=0,t===0?32:31-(jk(t)/Vk|0)|0}var uu=64,du=4194304;function hl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _d(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=hl(a):(s&=o,s!==0&&(r=hl(s)))}else o=n&~i,o!==0?r=hl(o):s!==0&&(r=hl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Un(e),i=1<<n,r|=t[n],e&=~i;return r}function Uk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Un(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Uk(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function cm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hx(){var t=uu;return uu<<=1,!(uu&4194240)&&(uu=64),t}function Gf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Un(e),t[e]=n}function $k(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Un(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Kg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Un(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Pe=0;function qx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Gx,Yg,Kx,Yx,Qx,um=!1,hu=[],Oi=null,Mi=null,Li=null,Ul=new Map,Bl=new Map,wi=[],zk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _w(t,e){switch(t){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":Ul.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(e.pointerId)}}function Za(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ec(e),e!==null&&Yg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Wk(t,e,n,r,i){switch(e){case"focusin":return Oi=Za(Oi,t,e,n,r,i),!0;case"dragenter":return Mi=Za(Mi,t,e,n,r,i),!0;case"mouseover":return Li=Za(Li,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ul.set(s,Za(Ul.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Bl.set(s,Za(Bl.get(s)||null,t,e,n,r,i)),!0}return!1}function Xx(t){var e=bs(t.target);if(e!==null){var n=Qs(e);if(n!==null){if(e=n.tag,e===13){if(e=Fx(n),e!==null){t.blockedOn=e,Qx(t.priority,function(){Kx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=dm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);sm=r,n.target.dispatchEvent(r),sm=null}else return e=Ec(n),e!==null&&Yg(e),t.blockedOn=n,!1;e.shift()}return!0}function Ew(t,e,n){Bu(t)&&n.delete(e)}function Hk(){um=!1,Oi!==null&&Bu(Oi)&&(Oi=null),Mi!==null&&Bu(Mi)&&(Mi=null),Li!==null&&Bu(Li)&&(Li=null),Ul.forEach(Ew),Bl.forEach(Ew)}function el(t,e){t.blockedOn===e&&(t.blockedOn=null,um||(um=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,Hk)))}function $l(t){function e(i){return el(i,t)}if(0<hu.length){el(hu[0],t);for(var n=1;n<hu.length;n++){var r=hu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Oi!==null&&el(Oi,t),Mi!==null&&el(Mi,t),Li!==null&&el(Li,t),Ul.forEach(e),Bl.forEach(e),n=0;n<wi.length;n++)r=wi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wi.length&&(n=wi[0],n.blockedOn===null);)Xx(n),n.blockedOn===null&&wi.shift()}var Do=ti.ReactCurrentBatchConfig,Ed=!0;function qk(t,e,n,r){var i=Pe,s=Do.transition;Do.transition=null;try{Pe=1,Qg(t,e,n,r)}finally{Pe=i,Do.transition=s}}function Gk(t,e,n,r){var i=Pe,s=Do.transition;Do.transition=null;try{Pe=4,Qg(t,e,n,r)}finally{Pe=i,Do.transition=s}}function Qg(t,e,n,r){if(Ed){var i=dm(t,e,n,r);if(i===null)rp(t,e,r,xd,n),_w(t,r);else if(Wk(i,t,e,n,r))r.stopPropagation();else if(_w(t,r),e&4&&-1<zk.indexOf(t)){for(;i!==null;){var s=Ec(i);if(s!==null&&Gx(s),s=dm(t,e,n,r),s===null&&rp(t,e,r,xd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else rp(t,e,r,null,n)}}var xd=null;function dm(t,e,n,r){if(xd=null,t=qg(r),t=bs(t),t!==null)if(e=Qs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Fx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xd=t,null}function Jx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ok()){case Gg:return 1;case zx:return 4;case wd:case Mk:return 16;case Wx:return 536870912;default:return 16}default:return 16}}var Ri=null,Xg=null,$u=null;function Zx(){if($u)return $u;var t,e=Xg,n=e.length,r,i="value"in Ri?Ri.value:Ri.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return $u=i.slice(t,1<r?1-r:void 0)}function zu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fu(){return!0}function xw(){return!1}function gn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fu:xw,this.isPropagationStopped=xw,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fu)},persist:function(){},isPersistent:fu}),e}var Ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jg=gn(Ea),_c=We({},Ea,{view:0,detail:0}),Kk=gn(_c),Kf,Yf,tl,Eh=We({},_c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tl&&(tl&&t.type==="mousemove"?(Kf=t.screenX-tl.screenX,Yf=t.screenY-tl.screenY):Yf=Kf=0,tl=t),Kf)},movementY:function(t){return"movementY"in t?t.movementY:Yf}}),Tw=gn(Eh),Yk=We({},Eh,{dataTransfer:0}),Qk=gn(Yk),Xk=We({},_c,{relatedTarget:0}),Qf=gn(Xk),Jk=We({},Ea,{animationName:0,elapsedTime:0,pseudoElement:0}),Zk=gn(Jk),eN=We({},Ea,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tN=gn(eN),nN=We({},Ea,{data:0}),bw=gn(nN),rN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sN[t])?!!e[t]:!1}function Zg(){return oN}var aN=We({},_c,{key:function(t){if(t.key){var e=rN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zg,charCode:function(t){return t.type==="keypress"?zu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lN=gn(aN),cN=We({},Eh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sw=gn(cN),uN=We({},_c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zg}),dN=gn(uN),hN=We({},Ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),fN=gn(hN),pN=We({},Eh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mN=gn(pN),gN=[9,13,27,32],ev=Wr&&"CompositionEvent"in window,xl=null;Wr&&"documentMode"in document&&(xl=document.documentMode);var vN=Wr&&"TextEvent"in window&&!xl,eT=Wr&&(!ev||xl&&8<xl&&11>=xl),Cw=" ",Iw=!1;function tT(t,e){switch(t){case"keyup":return gN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _o=!1;function yN(t,e){switch(t){case"compositionend":return nT(e);case"keypress":return e.which!==32?null:(Iw=!0,Cw);case"textInput":return t=e.data,t===Cw&&Iw?null:t;default:return null}}function wN(t,e){if(_o)return t==="compositionend"||!ev&&tT(t,e)?(t=Zx(),$u=Xg=Ri=null,_o=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eT&&e.locale!=="ko"?null:e.data;default:return null}}var _N={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_N[t.type]:e==="textarea"}function rT(t,e,n,r){Ox(r),e=Td(e,"onChange"),0<e.length&&(n=new Jg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Tl=null,zl=null;function EN(t){pT(t,0)}function xh(t){var e=To(t);if(Ix(e))return t}function xN(t,e){if(t==="change")return e}var iT=!1;if(Wr){var Xf;if(Wr){var Jf="oninput"in document;if(!Jf){var Aw=document.createElement("div");Aw.setAttribute("oninput","return;"),Jf=typeof Aw.oninput=="function"}Xf=Jf}else Xf=!1;iT=Xf&&(!document.documentMode||9<document.documentMode)}function Rw(){Tl&&(Tl.detachEvent("onpropertychange",sT),zl=Tl=null)}function sT(t){if(t.propertyName==="value"&&xh(zl)){var e=[];rT(e,zl,t,qg(t)),Vx(EN,e)}}function TN(t,e,n){t==="focusin"?(Rw(),Tl=e,zl=n,Tl.attachEvent("onpropertychange",sT)):t==="focusout"&&Rw()}function bN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xh(zl)}function SN(t,e){if(t==="click")return xh(e)}function CN(t,e){if(t==="input"||t==="change")return xh(e)}function IN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hn=typeof Object.is=="function"?Object.is:IN;function Wl(t,e){if(Hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gp.call(e,i)||!Hn(t[i],e[i]))return!1}return!0}function kw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nw(t,e){var n=kw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kw(n)}}function oT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?oT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function aT(){for(var t=window,e=gd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=gd(t.document)}return e}function tv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function PN(t){var e=aT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&oT(n.ownerDocument.documentElement,n)){if(r!==null&&tv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Nw(n,s);var o=Nw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AN=Wr&&"documentMode"in document&&11>=document.documentMode,Eo=null,hm=null,bl=null,fm=!1;function Dw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fm||Eo==null||Eo!==gd(r)||(r=Eo,"selectionStart"in r&&tv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bl&&Wl(bl,r)||(bl=r,r=Td(hm,"onSelect"),0<r.length&&(e=new Jg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Eo)))}function pu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xo={animationend:pu("Animation","AnimationEnd"),animationiteration:pu("Animation","AnimationIteration"),animationstart:pu("Animation","AnimationStart"),transitionend:pu("Transition","TransitionEnd")},Zf={},lT={};Wr&&(lT=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function Th(t){if(Zf[t])return Zf[t];if(!xo[t])return t;var e=xo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in lT)return Zf[t]=e[n];return t}var cT=Th("animationend"),uT=Th("animationiteration"),dT=Th("animationstart"),hT=Th("transitionend"),fT=new Map,Ow="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(t,e){fT.set(t,e),Ys(e,[t])}for(var ep=0;ep<Ow.length;ep++){var tp=Ow[ep],RN=tp.toLowerCase(),kN=tp[0].toUpperCase()+tp.slice(1);as(RN,"on"+kN)}as(cT,"onAnimationEnd");as(uT,"onAnimationIteration");as(dT,"onAnimationStart");as("dblclick","onDoubleClick");as("focusin","onFocus");as("focusout","onBlur");as(hT,"onTransitionEnd");Zo("onMouseEnter",["mouseout","mouseover"]);Zo("onMouseLeave",["mouseout","mouseover"]);Zo("onPointerEnter",["pointerout","pointerover"]);Zo("onPointerLeave",["pointerout","pointerover"]);Ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NN=new Set("cancel close invalid load scroll toggle".split(" ").concat(fl));function Mw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Rk(r,e,void 0,t),t.currentTarget=null}function pT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Mw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Mw(i,a,u),s=l}}}if(yd)throw t=lm,yd=!1,lm=null,t}function Le(t,e){var n=e[ym];n===void 0&&(n=e[ym]=new Set);var r=t+"__bubble";n.has(r)||(mT(e,t,2,!1),n.add(r))}function np(t,e,n){var r=0;e&&(r|=4),mT(n,t,r,e)}var mu="_reactListening"+Math.random().toString(36).slice(2);function Hl(t){if(!t[mu]){t[mu]=!0,xx.forEach(function(n){n!=="selectionchange"&&(NN.has(n)||np(n,!1,t),np(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mu]||(e[mu]=!0,np("selectionchange",!1,e))}}function mT(t,e,n,r){switch(Jx(e)){case 1:var i=qk;break;case 4:i=Gk;break;default:i=Qg}n=i.bind(null,e,n,t),i=void 0,!am||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function rp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=bs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Vx(function(){var u=s,d=qg(n),f=[];e:{var h=fT.get(t);if(h!==void 0){var g=Jg,v=t;switch(t){case"keypress":if(zu(n)===0)break e;case"keydown":case"keyup":g=lN;break;case"focusin":v="focus",g=Qf;break;case"focusout":v="blur",g=Qf;break;case"beforeblur":case"afterblur":g=Qf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Tw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Qk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=dN;break;case cT:case uT:case dT:g=Zk;break;case hT:g=fN;break;case"scroll":g=Kk;break;case"wheel":g=mN;break;case"copy":case"cut":case"paste":g=tN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Sw}var y=(e&4)!==0,x=!y&&t==="scroll",T=y?h!==null?h+"Capture":null:h;y=[];for(var E=u,b;E!==null;){b=E;var A=b.stateNode;if(b.tag===5&&A!==null&&(b=A,T!==null&&(A=Fl(E,T),A!=null&&y.push(ql(E,A,b)))),x)break;E=E.return}0<y.length&&(h=new g(h,v,null,n,d),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==sm&&(v=n.relatedTarget||n.fromElement)&&(bs(v)||v[Hr]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?bs(v):null,v!==null&&(x=Qs(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(y=Tw,A="onMouseLeave",T="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(y=Sw,A="onPointerLeave",T="onPointerEnter",E="pointer"),x=g==null?h:To(g),b=v==null?h:To(v),h=new y(A,E+"leave",g,n,d),h.target=x,h.relatedTarget=b,A=null,bs(d)===u&&(y=new y(T,E+"enter",v,n,d),y.target=b,y.relatedTarget=x,A=y),x=A,g&&v)t:{for(y=g,T=v,E=0,b=y;b;b=oo(b))E++;for(b=0,A=T;A;A=oo(A))b++;for(;0<E-b;)y=oo(y),E--;for(;0<b-E;)T=oo(T),b--;for(;E--;){if(y===T||T!==null&&y===T.alternate)break t;y=oo(y),T=oo(T)}y=null}else y=null;g!==null&&Lw(f,h,g,y,!1),v!==null&&x!==null&&Lw(f,x,v,y,!0)}}e:{if(h=u?To(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var D=xN;else if(Pw(h))if(iT)D=CN;else{D=bN;var L=TN}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(D=SN);if(D&&(D=D(t,u))){rT(f,D,n,d);break e}L&&L(t,h,u),t==="focusout"&&(L=h._wrapperState)&&L.controlled&&h.type==="number"&&em(h,"number",h.value)}switch(L=u?To(u):window,t){case"focusin":(Pw(L)||L.contentEditable==="true")&&(Eo=L,hm=u,bl=null);break;case"focusout":bl=hm=Eo=null;break;case"mousedown":fm=!0;break;case"contextmenu":case"mouseup":case"dragend":fm=!1,Dw(f,n,d);break;case"selectionchange":if(AN)break;case"keydown":case"keyup":Dw(f,n,d)}var P;if(ev)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else _o?tT(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(eT&&n.locale!=="ko"&&(_o||S!=="onCompositionStart"?S==="onCompositionEnd"&&_o&&(P=Zx()):(Ri=d,Xg="value"in Ri?Ri.value:Ri.textContent,_o=!0)),L=Td(u,S),0<L.length&&(S=new bw(S,t,null,n,d),f.push({event:S,listeners:L}),P?S.data=P:(P=nT(n),P!==null&&(S.data=P)))),(P=vN?yN(t,n):wN(t,n))&&(u=Td(u,"onBeforeInput"),0<u.length&&(d=new bw("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=P))}pT(f,e)})}function ql(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Td(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Fl(t,n),s!=null&&r.unshift(ql(t,s,i)),s=Fl(t,e),s!=null&&r.push(ql(t,s,i))),t=t.return}return r}function oo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Lw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Fl(n,s),l!=null&&o.unshift(ql(n,l,a))):i||(l=Fl(n,s),l!=null&&o.push(ql(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var DN=/\r\n?/g,ON=/\u0000|\uFFFD/g;function jw(t){return(typeof t=="string"?t:""+t).replace(DN,`
`).replace(ON,"")}function gu(t,e,n){if(e=jw(e),jw(t)!==e&&n)throw Error($(425))}function bd(){}var pm=null,mm=null;function gm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vm=typeof setTimeout=="function"?setTimeout:void 0,MN=typeof clearTimeout=="function"?clearTimeout:void 0,Vw=typeof Promise=="function"?Promise:void 0,LN=typeof queueMicrotask=="function"?queueMicrotask:typeof Vw<"u"?function(t){return Vw.resolve(null).then(t).catch(jN)}:vm;function jN(t){setTimeout(function(){throw t})}function ip(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),$l(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$l(e)}function ji(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Fw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xa=Math.random().toString(36).slice(2),ur="__reactFiber$"+xa,Gl="__reactProps$"+xa,Hr="__reactContainer$"+xa,ym="__reactEvents$"+xa,VN="__reactListeners$"+xa,FN="__reactHandles$"+xa;function bs(t){var e=t[ur];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hr]||n[ur]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Fw(t);t!==null;){if(n=t[ur])return n;t=Fw(t)}return e}t=n,n=t.parentNode}return null}function Ec(t){return t=t[ur]||t[Hr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function To(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function bh(t){return t[Gl]||null}var wm=[],bo=-1;function ls(t){return{current:t}}function Ve(t){0>bo||(t.current=wm[bo],wm[bo]=null,bo--)}function ke(t,e){bo++,wm[bo]=t.current,t.current=e}var Yi={},kt=ls(Yi),Xt=ls(!1),Ls=Yi;function ea(t,e){var n=t.type.contextTypes;if(!n)return Yi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Jt(t){return t=t.childContextTypes,t!=null}function Sd(){Ve(Xt),Ve(kt)}function Uw(t,e,n){if(kt.current!==Yi)throw Error($(168));ke(kt,e),ke(Xt,n)}function gT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,Tk(t)||"Unknown",i));return We({},n,r)}function Cd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yi,Ls=kt.current,ke(kt,t),ke(Xt,Xt.current),!0}function Bw(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=gT(t,e,Ls),r.__reactInternalMemoizedMergedChildContext=t,Ve(Xt),Ve(kt),ke(kt,t)):Ve(Xt),ke(Xt,n)}var Dr=null,Sh=!1,sp=!1;function vT(t){Dr===null?Dr=[t]:Dr.push(t)}function UN(t){Sh=!0,vT(t)}function cs(){if(!sp&&Dr!==null){sp=!0;var t=0,e=Pe;try{var n=Dr;for(Pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Dr=null,Sh=!1}catch(i){throw Dr!==null&&(Dr=Dr.slice(t+1)),$x(Gg,cs),i}finally{Pe=e,sp=!1}}return null}var So=[],Co=0,Id=null,Pd=0,wn=[],_n=0,js=null,Mr=1,Lr="";function _s(t,e){So[Co++]=Pd,So[Co++]=Id,Id=t,Pd=e}function yT(t,e,n){wn[_n++]=Mr,wn[_n++]=Lr,wn[_n++]=js,js=t;var r=Mr;t=Lr;var i=32-Un(r)-1;r&=~(1<<i),n+=1;var s=32-Un(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Mr=1<<32-Un(e)+i|n<<i|r,Lr=s+t}else Mr=1<<s|n<<i|r,Lr=t}function nv(t){t.return!==null&&(_s(t,1),yT(t,1,0))}function rv(t){for(;t===Id;)Id=So[--Co],So[Co]=null,Pd=So[--Co],So[Co]=null;for(;t===js;)js=wn[--_n],wn[_n]=null,Lr=wn[--_n],wn[_n]=null,Mr=wn[--_n],wn[_n]=null}var dn=null,un=null,Ue=!1,jn=null;function wT(t,e){var n=xn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $w(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dn=t,un=ji(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dn=t,un=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=js!==null?{id:Mr,overflow:Lr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dn=t,un=null,!0):!1;default:return!1}}function _m(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Em(t){if(Ue){var e=un;if(e){var n=e;if(!$w(t,e)){if(_m(t))throw Error($(418));e=ji(n.nextSibling);var r=dn;e&&$w(t,e)?wT(r,n):(t.flags=t.flags&-4097|2,Ue=!1,dn=t)}}else{if(_m(t))throw Error($(418));t.flags=t.flags&-4097|2,Ue=!1,dn=t}}}function zw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dn=t}function vu(t){if(t!==dn)return!1;if(!Ue)return zw(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gm(t.type,t.memoizedProps)),e&&(e=un)){if(_m(t))throw _T(),Error($(418));for(;e;)wT(t,e),e=ji(e.nextSibling)}if(zw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){un=ji(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}un=null}}else un=dn?ji(t.stateNode.nextSibling):null;return!0}function _T(){for(var t=un;t;)t=ji(t.nextSibling)}function ta(){un=dn=null,Ue=!1}function iv(t){jn===null?jn=[t]:jn.push(t)}var BN=ti.ReactCurrentBatchConfig;function nl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function yu(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ww(t){var e=t._init;return e(t._payload)}function ET(t){function e(T,E){if(t){var b=T.deletions;b===null?(T.deletions=[E],T.flags|=16):b.push(E)}}function n(T,E){if(!t)return null;for(;E!==null;)e(T,E),E=E.sibling;return null}function r(T,E){for(T=new Map;E!==null;)E.key!==null?T.set(E.key,E):T.set(E.index,E),E=E.sibling;return T}function i(T,E){return T=Bi(T,E),T.index=0,T.sibling=null,T}function s(T,E,b){return T.index=b,t?(b=T.alternate,b!==null?(b=b.index,b<E?(T.flags|=2,E):b):(T.flags|=2,E)):(T.flags|=1048576,E)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,E,b,A){return E===null||E.tag!==6?(E=hp(b,T.mode,A),E.return=T,E):(E=i(E,b),E.return=T,E)}function l(T,E,b,A){var D=b.type;return D===wo?d(T,E,b.props.children,A,b.key):E!==null&&(E.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===vi&&Ww(D)===E.type)?(A=i(E,b.props),A.ref=nl(T,E,b),A.return=T,A):(A=Qu(b.type,b.key,b.props,null,T.mode,A),A.ref=nl(T,E,b),A.return=T,A)}function u(T,E,b,A){return E===null||E.tag!==4||E.stateNode.containerInfo!==b.containerInfo||E.stateNode.implementation!==b.implementation?(E=fp(b,T.mode,A),E.return=T,E):(E=i(E,b.children||[]),E.return=T,E)}function d(T,E,b,A,D){return E===null||E.tag!==7?(E=Ms(b,T.mode,A,D),E.return=T,E):(E=i(E,b),E.return=T,E)}function f(T,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return E=hp(""+E,T.mode,b),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case au:return b=Qu(E.type,E.key,E.props,null,T.mode,b),b.ref=nl(T,null,E),b.return=T,b;case yo:return E=fp(E,T.mode,b),E.return=T,E;case vi:var A=E._init;return f(T,A(E._payload),b)}if(dl(E)||Xa(E))return E=Ms(E,T.mode,b,null),E.return=T,E;yu(T,E)}return null}function h(T,E,b,A){var D=E!==null?E.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return D!==null?null:a(T,E,""+b,A);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case au:return b.key===D?l(T,E,b,A):null;case yo:return b.key===D?u(T,E,b,A):null;case vi:return D=b._init,h(T,E,D(b._payload),A)}if(dl(b)||Xa(b))return D!==null?null:d(T,E,b,A,null);yu(T,b)}return null}function g(T,E,b,A,D){if(typeof A=="string"&&A!==""||typeof A=="number")return T=T.get(b)||null,a(E,T,""+A,D);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case au:return T=T.get(A.key===null?b:A.key)||null,l(E,T,A,D);case yo:return T=T.get(A.key===null?b:A.key)||null,u(E,T,A,D);case vi:var L=A._init;return g(T,E,b,L(A._payload),D)}if(dl(A)||Xa(A))return T=T.get(b)||null,d(E,T,A,D,null);yu(E,A)}return null}function v(T,E,b,A){for(var D=null,L=null,P=E,S=E=0,C=null;P!==null&&S<b.length;S++){P.index>S?(C=P,P=null):C=P.sibling;var R=h(T,P,b[S],A);if(R===null){P===null&&(P=C);break}t&&P&&R.alternate===null&&e(T,P),E=s(R,E,S),L===null?D=R:L.sibling=R,L=R,P=C}if(S===b.length)return n(T,P),Ue&&_s(T,S),D;if(P===null){for(;S<b.length;S++)P=f(T,b[S],A),P!==null&&(E=s(P,E,S),L===null?D=P:L.sibling=P,L=P);return Ue&&_s(T,S),D}for(P=r(T,P);S<b.length;S++)C=g(P,T,S,b[S],A),C!==null&&(t&&C.alternate!==null&&P.delete(C.key===null?S:C.key),E=s(C,E,S),L===null?D=C:L.sibling=C,L=C);return t&&P.forEach(function(N){return e(T,N)}),Ue&&_s(T,S),D}function y(T,E,b,A){var D=Xa(b);if(typeof D!="function")throw Error($(150));if(b=D.call(b),b==null)throw Error($(151));for(var L=D=null,P=E,S=E=0,C=null,R=b.next();P!==null&&!R.done;S++,R=b.next()){P.index>S?(C=P,P=null):C=P.sibling;var N=h(T,P,R.value,A);if(N===null){P===null&&(P=C);break}t&&P&&N.alternate===null&&e(T,P),E=s(N,E,S),L===null?D=N:L.sibling=N,L=N,P=C}if(R.done)return n(T,P),Ue&&_s(T,S),D;if(P===null){for(;!R.done;S++,R=b.next())R=f(T,R.value,A),R!==null&&(E=s(R,E,S),L===null?D=R:L.sibling=R,L=R);return Ue&&_s(T,S),D}for(P=r(T,P);!R.done;S++,R=b.next())R=g(P,T,S,R.value,A),R!==null&&(t&&R.alternate!==null&&P.delete(R.key===null?S:R.key),E=s(R,E,S),L===null?D=R:L.sibling=R,L=R);return t&&P.forEach(function(O){return e(T,O)}),Ue&&_s(T,S),D}function x(T,E,b,A){if(typeof b=="object"&&b!==null&&b.type===wo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case au:e:{for(var D=b.key,L=E;L!==null;){if(L.key===D){if(D=b.type,D===wo){if(L.tag===7){n(T,L.sibling),E=i(L,b.props.children),E.return=T,T=E;break e}}else if(L.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===vi&&Ww(D)===L.type){n(T,L.sibling),E=i(L,b.props),E.ref=nl(T,L,b),E.return=T,T=E;break e}n(T,L);break}else e(T,L);L=L.sibling}b.type===wo?(E=Ms(b.props.children,T.mode,A,b.key),E.return=T,T=E):(A=Qu(b.type,b.key,b.props,null,T.mode,A),A.ref=nl(T,E,b),A.return=T,T=A)}return o(T);case yo:e:{for(L=b.key;E!==null;){if(E.key===L)if(E.tag===4&&E.stateNode.containerInfo===b.containerInfo&&E.stateNode.implementation===b.implementation){n(T,E.sibling),E=i(E,b.children||[]),E.return=T,T=E;break e}else{n(T,E);break}else e(T,E);E=E.sibling}E=fp(b,T.mode,A),E.return=T,T=E}return o(T);case vi:return L=b._init,x(T,E,L(b._payload),A)}if(dl(b))return v(T,E,b,A);if(Xa(b))return y(T,E,b,A);yu(T,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,E!==null&&E.tag===6?(n(T,E.sibling),E=i(E,b),E.return=T,T=E):(n(T,E),E=hp(b,T.mode,A),E.return=T,T=E),o(T)):n(T,E)}return x}var na=ET(!0),xT=ET(!1),Ad=ls(null),Rd=null,Io=null,sv=null;function ov(){sv=Io=Rd=null}function av(t){var e=Ad.current;Ve(Ad),t._currentValue=e}function xm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Oo(t,e){Rd=t,sv=Io=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yt=!0),t.firstContext=null)}function Sn(t){var e=t._currentValue;if(sv!==t)if(t={context:t,memoizedValue:e,next:null},Io===null){if(Rd===null)throw Error($(308));Io=t,Rd.dependencies={lanes:0,firstContext:t}}else Io=Io.next=t;return e}var Ss=null;function lv(t){Ss===null?Ss=[t]:Ss.push(t)}function TT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,lv(e)):(n.next=i.next,i.next=n),e.interleaved=n,qr(t,r)}function qr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yi=!1;function cv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Br(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,qr(t,n)}return i=r.interleaved,i===null?(e.next=e,lv(r)):(e.next=i.next,i.next=e),r.interleaved=e,qr(t,n)}function Wu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kg(t,n)}}function Hw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kd(t,e,n,r){var i=t.updateQueue;yi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=u=l=null,a=s;do{var h=a.lane,g=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(h=e,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(g,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(g,f,h):v,h==null)break e;f=We({},f,h);break e;case 2:yi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=f):d=d.next=g,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Fs|=o,t.lanes=o,t.memoizedState=f}}function qw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var xc={},pr=ls(xc),Kl=ls(xc),Yl=ls(xc);function Cs(t){if(t===xc)throw Error($(174));return t}function uv(t,e){switch(ke(Yl,e),ke(Kl,t),ke(pr,xc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nm(e,t)}Ve(pr),ke(pr,e)}function ra(){Ve(pr),Ve(Kl),Ve(Yl)}function ST(t){Cs(Yl.current);var e=Cs(pr.current),n=nm(e,t.type);e!==n&&(ke(Kl,t),ke(pr,n))}function dv(t){Kl.current===t&&(Ve(pr),Ve(Kl))}var $e=ls(0);function Nd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var op=[];function hv(){for(var t=0;t<op.length;t++)op[t]._workInProgressVersionPrimary=null;op.length=0}var Hu=ti.ReactCurrentDispatcher,ap=ti.ReactCurrentBatchConfig,Vs=0,ze=null,st=null,ut=null,Dd=!1,Sl=!1,Ql=0,$N=0;function bt(){throw Error($(321))}function fv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Hn(t[n],e[n]))return!1;return!0}function pv(t,e,n,r,i,s){if(Vs=s,ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hu.current=t===null||t.memoizedState===null?qN:GN,t=n(r,i),Sl){s=0;do{if(Sl=!1,Ql=0,25<=s)throw Error($(301));s+=1,ut=st=null,e.updateQueue=null,Hu.current=KN,t=n(r,i)}while(Sl)}if(Hu.current=Od,e=st!==null&&st.next!==null,Vs=0,ut=st=ze=null,Dd=!1,e)throw Error($(300));return t}function mv(){var t=Ql!==0;return Ql=0,t}function sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?ze.memoizedState=ut=t:ut=ut.next=t,ut}function Cn(){if(st===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var e=ut===null?ze.memoizedState:ut.next;if(e!==null)ut=e,st=t;else{if(t===null)throw Error($(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},ut===null?ze.memoizedState=ut=t:ut=ut.next=t}return ut}function Xl(t,e){return typeof e=="function"?e(t):e}function lp(t){var e=Cn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=st,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Vs&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,ze.lanes|=d,Fs|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Hn(r,e.memoizedState)||(Yt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ze.lanes|=s,Fs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function cp(t){var e=Cn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Hn(s,e.memoizedState)||(Yt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function CT(){}function IT(t,e){var n=ze,r=Cn(),i=e(),s=!Hn(r.memoizedState,i);if(s&&(r.memoizedState=i,Yt=!0),r=r.queue,gv(RT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,Jl(9,AT.bind(null,n,r,i,e),void 0,null),dt===null)throw Error($(349));Vs&30||PT(n,e,i)}return i}function PT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function AT(t,e,n,r){e.value=n,e.getSnapshot=r,kT(e)&&NT(t)}function RT(t,e,n){return n(function(){kT(e)&&NT(t)})}function kT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Hn(t,n)}catch{return!0}}function NT(t){var e=qr(t,1);e!==null&&Bn(e,t,1,-1)}function Gw(t){var e=sr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xl,lastRenderedState:t},e.queue=t,t=t.dispatch=HN.bind(null,ze,t),[e.memoizedState,t]}function Jl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function DT(){return Cn().memoizedState}function qu(t,e,n,r){var i=sr();ze.flags|=t,i.memoizedState=Jl(1|e,n,void 0,r===void 0?null:r)}function Ch(t,e,n,r){var i=Cn();r=r===void 0?null:r;var s=void 0;if(st!==null){var o=st.memoizedState;if(s=o.destroy,r!==null&&fv(r,o.deps)){i.memoizedState=Jl(e,n,s,r);return}}ze.flags|=t,i.memoizedState=Jl(1|e,n,s,r)}function Kw(t,e){return qu(8390656,8,t,e)}function gv(t,e){return Ch(2048,8,t,e)}function OT(t,e){return Ch(4,2,t,e)}function MT(t,e){return Ch(4,4,t,e)}function LT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jT(t,e,n){return n=n!=null?n.concat([t]):null,Ch(4,4,LT.bind(null,e,t),n)}function vv(){}function VT(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function FT(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function UT(t,e,n){return Vs&21?(Hn(n,e)||(n=Hx(),ze.lanes|=n,Fs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yt=!0),t.memoizedState=n)}function zN(t,e){var n=Pe;Pe=n!==0&&4>n?n:4,t(!0);var r=ap.transition;ap.transition={};try{t(!1),e()}finally{Pe=n,ap.transition=r}}function BT(){return Cn().memoizedState}function WN(t,e,n){var r=Ui(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$T(t))zT(e,n);else if(n=TT(t,e,n,r),n!==null){var i=Ft();Bn(n,t,r,i),WT(n,e,r)}}function HN(t,e,n){var r=Ui(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($T(t))zT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Hn(a,o)){var l=e.interleaved;l===null?(i.next=i,lv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=TT(t,e,i,r),n!==null&&(i=Ft(),Bn(n,t,r,i),WT(n,e,r))}}function $T(t){var e=t.alternate;return t===ze||e!==null&&e===ze}function zT(t,e){Sl=Dd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function WT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kg(t,n)}}var Od={readContext:Sn,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},qN={readContext:Sn,useCallback:function(t,e){return sr().memoizedState=[t,e===void 0?null:e],t},useContext:Sn,useEffect:Kw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qu(4194308,4,LT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qu(4194308,4,t,e)},useInsertionEffect:function(t,e){return qu(4,2,t,e)},useMemo:function(t,e){var n=sr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=sr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=WN.bind(null,ze,t),[r.memoizedState,t]},useRef:function(t){var e=sr();return t={current:t},e.memoizedState=t},useState:Gw,useDebugValue:vv,useDeferredValue:function(t){return sr().memoizedState=t},useTransition:function(){var t=Gw(!1),e=t[0];return t=zN.bind(null,t[1]),sr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ze,i=sr();if(Ue){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),dt===null)throw Error($(349));Vs&30||PT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Kw(RT.bind(null,r,s,t),[t]),r.flags|=2048,Jl(9,AT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=sr(),e=dt.identifierPrefix;if(Ue){var n=Lr,r=Mr;n=(r&~(1<<32-Un(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ql++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$N++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},GN={readContext:Sn,useCallback:VT,useContext:Sn,useEffect:gv,useImperativeHandle:jT,useInsertionEffect:OT,useLayoutEffect:MT,useMemo:FT,useReducer:lp,useRef:DT,useState:function(){return lp(Xl)},useDebugValue:vv,useDeferredValue:function(t){var e=Cn();return UT(e,st.memoizedState,t)},useTransition:function(){var t=lp(Xl)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:CT,useSyncExternalStore:IT,useId:BT,unstable_isNewReconciler:!1},KN={readContext:Sn,useCallback:VT,useContext:Sn,useEffect:gv,useImperativeHandle:jT,useInsertionEffect:OT,useLayoutEffect:MT,useMemo:FT,useReducer:cp,useRef:DT,useState:function(){return cp(Xl)},useDebugValue:vv,useDeferredValue:function(t){var e=Cn();return st===null?e.memoizedState=t:UT(e,st.memoizedState,t)},useTransition:function(){var t=cp(Xl)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:CT,useSyncExternalStore:IT,useId:BT,unstable_isNewReconciler:!1};function Dn(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Tm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:We({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ih={isMounted:function(t){return(t=t._reactInternals)?Qs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ft(),i=Ui(t),s=Br(r,i);s.payload=e,n!=null&&(s.callback=n),e=Vi(t,s,i),e!==null&&(Bn(e,t,i,r),Wu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ft(),i=Ui(t),s=Br(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Vi(t,s,i),e!==null&&(Bn(e,t,i,r),Wu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ft(),r=Ui(t),i=Br(n,r);i.tag=2,e!=null&&(i.callback=e),e=Vi(t,i,r),e!==null&&(Bn(e,t,r,n),Wu(e,t,r))}};function Yw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Wl(n,r)||!Wl(i,s):!0}function HT(t,e,n){var r=!1,i=Yi,s=e.contextType;return typeof s=="object"&&s!==null?s=Sn(s):(i=Jt(e)?Ls:kt.current,r=e.contextTypes,s=(r=r!=null)?ea(t,i):Yi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ih,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Qw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ih.enqueueReplaceState(e,e.state,null)}function bm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},cv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Sn(s):(s=Jt(e)?Ls:kt.current,i.context=ea(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Tm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ih.enqueueReplaceState(i,i.state,null),kd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ia(t,e){try{var n="",r=e;do n+=xk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function up(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var YN=typeof WeakMap=="function"?WeakMap:Map;function qT(t,e,n){n=Br(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ld||(Ld=!0,Mm=r),Sm(t,e)},n}function GT(t,e,n){n=Br(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Sm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Sm(t,e),typeof r!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Xw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new YN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=c2.bind(null,t,e,n),e.then(t,t))}function Jw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Br(-1,1),e.tag=2,Vi(n,e,1))),n.lanes|=1),t)}var QN=ti.ReactCurrentOwner,Yt=!1;function Lt(t,e,n,r){e.child=t===null?xT(e,null,n,r):na(e,t.child,n,r)}function e_(t,e,n,r,i){n=n.render;var s=e.ref;return Oo(e,i),r=pv(t,e,n,r,s,i),n=mv(),t!==null&&!Yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gr(t,e,i)):(Ue&&n&&nv(e),e.flags|=1,Lt(t,e,r,i),e.child)}function t_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Sv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,KT(t,e,s,r,i)):(t=Qu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Wl,n(o,r)&&t.ref===e.ref)return Gr(t,e,i)}return e.flags|=1,t=Bi(s,r),t.ref=e.ref,t.return=e,e.child=t}function KT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Wl(s,r)&&t.ref===e.ref)if(Yt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Yt=!0);else return e.lanes=t.lanes,Gr(t,e,i)}return Cm(t,e,n,r,i)}function YT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Ao,an),an|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(Ao,an),an|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ke(Ao,an),an|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ke(Ao,an),an|=r;return Lt(t,e,i,n),e.child}function QT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Cm(t,e,n,r,i){var s=Jt(n)?Ls:kt.current;return s=ea(e,s),Oo(e,i),n=pv(t,e,n,r,s,i),r=mv(),t!==null&&!Yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gr(t,e,i)):(Ue&&r&&nv(e),e.flags|=1,Lt(t,e,n,i),e.child)}function n_(t,e,n,r,i){if(Jt(n)){var s=!0;Cd(e)}else s=!1;if(Oo(e,i),e.stateNode===null)Gu(t,e),HT(e,n,r),bm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Sn(u):(u=Jt(n)?Ls:kt.current,u=ea(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Qw(e,o,r,u),yi=!1;var h=e.memoizedState;o.state=h,kd(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Xt.current||yi?(typeof d=="function"&&(Tm(e,n,d,r),l=e.memoizedState),(a=yi||Yw(e,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,bT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Dn(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Sn(l):(l=Jt(n)?Ls:kt.current,l=ea(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Qw(e,o,r,l),yi=!1,h=e.memoizedState,o.state=h,kd(e,r,o,i);var v=e.memoizedState;a!==f||h!==v||Xt.current||yi?(typeof g=="function"&&(Tm(e,n,g,r),v=e.memoizedState),(u=yi||Yw(e,n,u,r,h,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Im(t,e,n,r,s,i)}function Im(t,e,n,r,i,s){QT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Bw(e,n,!1),Gr(t,e,s);r=e.stateNode,QN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=na(e,t.child,null,s),e.child=na(e,null,a,s)):Lt(t,e,a,s),e.memoizedState=r.state,i&&Bw(e,n,!0),e.child}function XT(t){var e=t.stateNode;e.pendingContext?Uw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Uw(t,e.context,!1),uv(t,e.containerInfo)}function r_(t,e,n,r,i){return ta(),iv(i),e.flags|=256,Lt(t,e,n,r),e.child}var Pm={dehydrated:null,treeContext:null,retryLane:0};function Am(t){return{baseLanes:t,cachePool:null,transitions:null}}function JT(t,e,n){var r=e.pendingProps,i=$e.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ke($e,i&1),t===null)return Em(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Rh(o,r,0,null),t=Ms(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Am(n),e.memoizedState=Pm,t):yv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return XN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Bi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Bi(a,s):(s=Ms(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Am(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Pm,r}return s=t.child,t=s.sibling,r=Bi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function yv(t,e){return e=Rh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function wu(t,e,n,r){return r!==null&&iv(r),na(e,t.child,null,n),t=yv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function XN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=up(Error($(422))),wu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Rh({mode:"visible",children:r.children},i,0,null),s=Ms(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&na(e,t.child,null,o),e.child.memoizedState=Am(o),e.memoizedState=Pm,s);if(!(e.mode&1))return wu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error($(419)),r=up(s,r,void 0),wu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Yt||a){if(r=dt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qr(t,i),Bn(r,t,i,-1))}return bv(),r=up(Error($(421))),wu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=u2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,un=ji(i.nextSibling),dn=e,Ue=!0,jn=null,t!==null&&(wn[_n++]=Mr,wn[_n++]=Lr,wn[_n++]=js,Mr=t.id,Lr=t.overflow,js=e),e=yv(e,r.children),e.flags|=4096,e)}function i_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xm(t.return,e,n)}function dp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ZT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Lt(t,e,r.children,n),r=$e.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&i_(t,n,e);else if(t.tag===19)i_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke($e,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Nd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),dp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Nd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}dp(e,!0,n,null,s);break;case"together":dp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Bi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function JN(t,e,n){switch(e.tag){case 3:XT(e),ta();break;case 5:ST(e);break;case 1:Jt(e.type)&&Cd(e);break;case 4:uv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ke(Ad,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ke($e,$e.current&1),e.flags|=128,null):n&e.child.childLanes?JT(t,e,n):(ke($e,$e.current&1),t=Gr(t,e,n),t!==null?t.sibling:null);ke($e,$e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ZT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke($e,$e.current),r)break;return null;case 22:case 23:return e.lanes=0,YT(t,e,n)}return Gr(t,e,n)}var eb,Rm,tb,nb;eb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Rm=function(){};tb=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Cs(pr.current);var s=null;switch(n){case"input":i=Jp(t,i),r=Jp(t,r),s=[];break;case"select":i=We({},i,{value:void 0}),r=We({},r,{value:void 0}),s=[];break;case"textarea":i=tm(t,i),r=tm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=bd)}rm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(jl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(jl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Le("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};nb=function(t,e,n,r){n!==r&&(e.flags|=4)};function rl(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function St(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ZN(t,e,n){var r=e.pendingProps;switch(rv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(e),null;case 1:return Jt(e.type)&&Sd(),St(e),null;case 3:return r=e.stateNode,ra(),Ve(Xt),Ve(kt),hv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(vu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jn!==null&&(Vm(jn),jn=null))),Rm(t,e),St(e),null;case 5:dv(e);var i=Cs(Yl.current);if(n=e.type,t!==null&&e.stateNode!=null)tb(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return St(e),null}if(t=Cs(pr.current),vu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ur]=e,r[Gl]=s,t=(e.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(i=0;i<fl.length;i++)Le(fl[i],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":fw(r,s),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Le("invalid",r);break;case"textarea":mw(r,s),Le("invalid",r)}rm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&gu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&gu(r.textContent,a,t),i=["children",""+a]):jl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Le("scroll",r)}switch(n){case"input":lu(r),pw(r,s,!0);break;case"textarea":lu(r),gw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=bd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Rx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ur]=e,t[Gl]=r,eb(t,e,!1,!1),e.stateNode=t;e:{switch(o=im(n,r),n){case"dialog":Le("cancel",t),Le("close",t),i=r;break;case"iframe":case"object":case"embed":Le("load",t),i=r;break;case"video":case"audio":for(i=0;i<fl.length;i++)Le(fl[i],t);i=r;break;case"source":Le("error",t),i=r;break;case"img":case"image":case"link":Le("error",t),Le("load",t),i=r;break;case"details":Le("toggle",t),i=r;break;case"input":fw(t,r),i=Jp(t,r),Le("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=We({},r,{value:void 0}),Le("invalid",t);break;case"textarea":mw(t,r),i=tm(t,r),Le("invalid",t);break;default:i=r}rm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Dx(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&kx(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Vl(t,l):typeof l=="number"&&Vl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(jl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Le("scroll",t):l!=null&&$g(t,s,l,o))}switch(n){case"input":lu(t),pw(t,r,!1);break;case"textarea":lu(t),gw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ki(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ro(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ro(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=bd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return St(e),null;case 6:if(t&&e.stateNode!=null)nb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=Cs(Yl.current),Cs(pr.current),vu(e)){if(r=e.stateNode,n=e.memoizedProps,r[ur]=e,(s=r.nodeValue!==n)&&(t=dn,t!==null))switch(t.tag){case 3:gu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ur]=e,e.stateNode=r}return St(e),null;case 13:if(Ve($e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&un!==null&&e.mode&1&&!(e.flags&128))_T(),ta(),e.flags|=98560,s=!1;else if(s=vu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[ur]=e}else ta(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;St(e),s=!1}else jn!==null&&(Vm(jn),jn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$e.current&1?ot===0&&(ot=3):bv())),e.updateQueue!==null&&(e.flags|=4),St(e),null);case 4:return ra(),Rm(t,e),t===null&&Hl(e.stateNode.containerInfo),St(e),null;case 10:return av(e.type._context),St(e),null;case 17:return Jt(e.type)&&Sd(),St(e),null;case 19:if(Ve($e),s=e.memoizedState,s===null)return St(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)rl(s,!1);else{if(ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Nd(t),o!==null){for(e.flags|=128,rl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke($e,$e.current&1|2),e.child}t=t.sibling}s.tail!==null&&Xe()>sa&&(e.flags|=128,r=!0,rl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Nd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),rl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ue)return St(e),null}else 2*Xe()-s.renderingStartTime>sa&&n!==1073741824&&(e.flags|=128,r=!0,rl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xe(),e.sibling=null,n=$e.current,ke($e,r?n&1|2:n&1),e):(St(e),null);case 22:case 23:return Tv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?an&1073741824&&(St(e),e.subtreeFlags&6&&(e.flags|=8192)):St(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function e2(t,e){switch(rv(e),e.tag){case 1:return Jt(e.type)&&Sd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ra(),Ve(Xt),Ve(kt),hv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dv(e),null;case 13:if(Ve($e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));ta()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ve($e),null;case 4:return ra(),null;case 10:return av(e.type._context),null;case 22:case 23:return Tv(),null;case 24:return null;default:return null}}var _u=!1,At=!1,t2=typeof WeakSet=="function"?WeakSet:Set,X=null;function Po(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ye(t,e,r)}else n.current=null}function km(t,e,n){try{n()}catch(r){Ye(t,e,r)}}var s_=!1;function n2(t,e){if(pm=Ed,t=aT(),tv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(mm={focusedElem:t,selectionRange:n},Ed=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,T=e.stateNode,E=T.getSnapshotBeforeUpdate(e.elementType===e.type?y:Dn(e.type,y),x);T.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(A){Ye(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return v=s_,s_=!1,v}function Cl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&km(e,n,s)}i=i.next}while(i!==r)}}function Ph(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Nm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function rb(t){var e=t.alternate;e!==null&&(t.alternate=null,rb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ur],delete e[Gl],delete e[ym],delete e[VN],delete e[FN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ib(t){return t.tag===5||t.tag===3||t.tag===4}function o_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ib(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bd));else if(r!==4&&(t=t.child,t!==null))for(Dm(t,e,n),t=t.sibling;t!==null;)Dm(t,e,n),t=t.sibling}function Om(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Om(t,e,n),t=t.sibling;t!==null;)Om(t,e,n),t=t.sibling}var ft=null,Ln=!1;function ui(t,e,n){for(n=n.child;n!==null;)sb(t,e,n),n=n.sibling}function sb(t,e,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(_h,n)}catch{}switch(n.tag){case 5:At||Po(n,e);case 6:var r=ft,i=Ln;ft=null,ui(t,e,n),ft=r,Ln=i,ft!==null&&(Ln?(t=ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ft.removeChild(n.stateNode));break;case 18:ft!==null&&(Ln?(t=ft,n=n.stateNode,t.nodeType===8?ip(t.parentNode,n):t.nodeType===1&&ip(t,n),$l(t)):ip(ft,n.stateNode));break;case 4:r=ft,i=Ln,ft=n.stateNode.containerInfo,Ln=!0,ui(t,e,n),ft=r,Ln=i;break;case 0:case 11:case 14:case 15:if(!At&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&km(n,e,o),i=i.next}while(i!==r)}ui(t,e,n);break;case 1:if(!At&&(Po(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ye(n,e,a)}ui(t,e,n);break;case 21:ui(t,e,n);break;case 22:n.mode&1?(At=(r=At)||n.memoizedState!==null,ui(t,e,n),At=r):ui(t,e,n);break;default:ui(t,e,n)}}function a_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new t2),e.forEach(function(r){var i=d2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ft=a.stateNode,Ln=!1;break e;case 3:ft=a.stateNode.containerInfo,Ln=!0;break e;case 4:ft=a.stateNode.containerInfo,Ln=!0;break e}a=a.return}if(ft===null)throw Error($(160));sb(s,o,i),ft=null,Ln=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ye(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ob(e,t),e=e.sibling}function ob(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nn(e,t),ir(t),r&4){try{Cl(3,t,t.return),Ph(3,t)}catch(y){Ye(t,t.return,y)}try{Cl(5,t,t.return)}catch(y){Ye(t,t.return,y)}}break;case 1:Nn(e,t),ir(t),r&512&&n!==null&&Po(n,n.return);break;case 5:if(Nn(e,t),ir(t),r&512&&n!==null&&Po(n,n.return),t.flags&32){var i=t.stateNode;try{Vl(i,"")}catch(y){Ye(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Px(i,s),im(a,o);var u=im(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?Dx(i,f):d==="dangerouslySetInnerHTML"?kx(i,f):d==="children"?Vl(i,f):$g(i,d,f,u)}switch(a){case"input":Zp(i,s);break;case"textarea":Ax(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Ro(i,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ro(i,!!s.multiple,s.defaultValue,!0):Ro(i,!!s.multiple,s.multiple?[]:"",!1))}i[Gl]=s}catch(y){Ye(t,t.return,y)}}break;case 6:if(Nn(e,t),ir(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Ye(t,t.return,y)}}break;case 3:if(Nn(e,t),ir(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$l(e.containerInfo)}catch(y){Ye(t,t.return,y)}break;case 4:Nn(e,t),ir(t);break;case 13:Nn(e,t),ir(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ev=Xe())),r&4&&a_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(At=(u=At)||d,Nn(e,t),At=u):Nn(e,t),ir(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(X=t,d=t.child;d!==null;){for(f=X=d;X!==null;){switch(h=X,g=h.child,h.tag){case 0:case 11:case 14:case 15:Cl(4,h,h.return);break;case 1:Po(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Ye(r,n,y)}}break;case 5:Po(h,h.return);break;case 22:if(h.memoizedState!==null){c_(f);continue}}g!==null?(g.return=h,X=g):c_(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Nx("display",o))}catch(y){Ye(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Ye(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Nn(e,t),ir(t),r&4&&a_(t);break;case 21:break;default:Nn(e,t),ir(t)}}function ir(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ib(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Vl(i,""),r.flags&=-33);var s=o_(t);Om(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=o_(t);Dm(t,a,o);break;default:throw Error($(161))}}catch(l){Ye(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function r2(t,e,n){X=t,ab(t)}function ab(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||_u;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||At;a=_u;var u=At;if(_u=o,(At=l)&&!u)for(X=i;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?u_(i):l!==null?(l.return=o,X=l):u_(i);for(;s!==null;)X=s,ab(s),s=s.sibling;X=i,_u=a,At=u}l_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):l_(t)}}function l_(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:At||Ph(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!At)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Dn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&qw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&$l(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}At||e.flags&512&&Nm(e)}catch(h){Ye(e,e.return,h)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function c_(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function u_(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ph(4,e)}catch(l){Ye(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ye(e,i,l)}}var s=e.return;try{Nm(e)}catch(l){Ye(e,s,l)}break;case 5:var o=e.return;try{Nm(e)}catch(l){Ye(e,o,l)}}}catch(l){Ye(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var i2=Math.ceil,Md=ti.ReactCurrentDispatcher,wv=ti.ReactCurrentOwner,Tn=ti.ReactCurrentBatchConfig,we=0,dt=null,tt=null,gt=0,an=0,Ao=ls(0),ot=0,Zl=null,Fs=0,Ah=0,_v=0,Il=null,Gt=null,Ev=0,sa=1/0,Nr=null,Ld=!1,Mm=null,Fi=null,Eu=!1,ki=null,jd=0,Pl=0,Lm=null,Ku=-1,Yu=0;function Ft(){return we&6?Xe():Ku!==-1?Ku:Ku=Xe()}function Ui(t){return t.mode&1?we&2&&gt!==0?gt&-gt:BN.transition!==null?(Yu===0&&(Yu=Hx()),Yu):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:Jx(t.type)),t):1}function Bn(t,e,n,r){if(50<Pl)throw Pl=0,Lm=null,Error($(185));wc(t,n,r),(!(we&2)||t!==dt)&&(t===dt&&(!(we&2)&&(Ah|=n),ot===4&&_i(t,gt)),Zt(t,r),n===1&&we===0&&!(e.mode&1)&&(sa=Xe()+500,Sh&&cs()))}function Zt(t,e){var n=t.callbackNode;Bk(t,e);var r=_d(t,t===dt?gt:0);if(r===0)n!==null&&ww(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ww(n),e===1)t.tag===0?UN(d_.bind(null,t)):vT(d_.bind(null,t)),LN(function(){!(we&6)&&cs()}),n=null;else{switch(qx(r)){case 1:n=Gg;break;case 4:n=zx;break;case 16:n=wd;break;case 536870912:n=Wx;break;default:n=wd}n=mb(n,lb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function lb(t,e){if(Ku=-1,Yu=0,we&6)throw Error($(327));var n=t.callbackNode;if(Mo()&&t.callbackNode!==n)return null;var r=_d(t,t===dt?gt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Vd(t,r);else{e=r;var i=we;we|=2;var s=ub();(dt!==t||gt!==e)&&(Nr=null,sa=Xe()+500,Os(t,e));do try{a2();break}catch(a){cb(t,a)}while(!0);ov(),Md.current=s,we=i,tt!==null?e=0:(dt=null,gt=0,e=ot)}if(e!==0){if(e===2&&(i=cm(t),i!==0&&(r=i,e=jm(t,i))),e===1)throw n=Zl,Os(t,0),_i(t,r),Zt(t,Xe()),n;if(e===6)_i(t,r);else{if(i=t.current.alternate,!(r&30)&&!s2(i)&&(e=Vd(t,r),e===2&&(s=cm(t),s!==0&&(r=s,e=jm(t,s))),e===1))throw n=Zl,Os(t,0),_i(t,r),Zt(t,Xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:Es(t,Gt,Nr);break;case 3:if(_i(t,r),(r&130023424)===r&&(e=Ev+500-Xe(),10<e)){if(_d(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ft(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vm(Es.bind(null,t,Gt,Nr),e);break}Es(t,Gt,Nr);break;case 4:if(_i(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Un(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*i2(r/1960))-r,10<r){t.timeoutHandle=vm(Es.bind(null,t,Gt,Nr),r);break}Es(t,Gt,Nr);break;case 5:Es(t,Gt,Nr);break;default:throw Error($(329))}}}return Zt(t,Xe()),t.callbackNode===n?lb.bind(null,t):null}function jm(t,e){var n=Il;return t.current.memoizedState.isDehydrated&&(Os(t,e).flags|=256),t=Vd(t,e),t!==2&&(e=Gt,Gt=n,e!==null&&Vm(e)),t}function Vm(t){Gt===null?Gt=t:Gt.push.apply(Gt,t)}function s2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Hn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _i(t,e){for(e&=~_v,e&=~Ah,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Un(e),r=1<<n;t[n]=-1,e&=~r}}function d_(t){if(we&6)throw Error($(327));Mo();var e=_d(t,0);if(!(e&1))return Zt(t,Xe()),null;var n=Vd(t,e);if(t.tag!==0&&n===2){var r=cm(t);r!==0&&(e=r,n=jm(t,r))}if(n===1)throw n=Zl,Os(t,0),_i(t,e),Zt(t,Xe()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Es(t,Gt,Nr),Zt(t,Xe()),null}function xv(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(sa=Xe()+500,Sh&&cs())}}function Us(t){ki!==null&&ki.tag===0&&!(we&6)&&Mo();var e=we;we|=1;var n=Tn.transition,r=Pe;try{if(Tn.transition=null,Pe=1,t)return t()}finally{Pe=r,Tn.transition=n,we=e,!(we&6)&&cs()}}function Tv(){an=Ao.current,Ve(Ao)}function Os(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,MN(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(rv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sd();break;case 3:ra(),Ve(Xt),Ve(kt),hv();break;case 5:dv(r);break;case 4:ra();break;case 13:Ve($e);break;case 19:Ve($e);break;case 10:av(r.type._context);break;case 22:case 23:Tv()}n=n.return}if(dt=t,tt=t=Bi(t.current,null),gt=an=e,ot=0,Zl=null,_v=Ah=Fs=0,Gt=Il=null,Ss!==null){for(e=0;e<Ss.length;e++)if(n=Ss[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ss=null}return t}function cb(t,e){do{var n=tt;try{if(ov(),Hu.current=Od,Dd){for(var r=ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Dd=!1}if(Vs=0,ut=st=ze=null,Sl=!1,Ql=0,wv.current=null,n===null||n.return===null){ot=1,Zl=e,tt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=gt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Jw(o);if(g!==null){g.flags&=-257,Zw(g,o,a,s,e),g.mode&1&&Xw(s,u,e),e=g,l=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){Xw(s,u,e),bv();break e}l=Error($(426))}}else if(Ue&&a.mode&1){var x=Jw(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Zw(x,o,a,s,e),iv(ia(l,a));break e}}s=l=ia(l,a),ot!==4&&(ot=2),Il===null?Il=[s]:Il.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=qT(s,l,e);Hw(s,T);break e;case 1:a=l;var E=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Fi===null||!Fi.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=GT(s,a,e);Hw(s,A);break e}}s=s.return}while(s!==null)}hb(n)}catch(D){e=D,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(!0)}function ub(){var t=Md.current;return Md.current=Od,t===null?Od:t}function bv(){(ot===0||ot===3||ot===2)&&(ot=4),dt===null||!(Fs&268435455)&&!(Ah&268435455)||_i(dt,gt)}function Vd(t,e){var n=we;we|=2;var r=ub();(dt!==t||gt!==e)&&(Nr=null,Os(t,e));do try{o2();break}catch(i){cb(t,i)}while(!0);if(ov(),we=n,Md.current=r,tt!==null)throw Error($(261));return dt=null,gt=0,ot}function o2(){for(;tt!==null;)db(tt)}function a2(){for(;tt!==null&&!Nk();)db(tt)}function db(t){var e=pb(t.alternate,t,an);t.memoizedProps=t.pendingProps,e===null?hb(t):tt=e,wv.current=null}function hb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=e2(n,e),n!==null){n.flags&=32767,tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ot=6,tt=null;return}}else if(n=ZN(n,e,an),n!==null){tt=n;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=t}while(e!==null);ot===0&&(ot=5)}function Es(t,e,n){var r=Pe,i=Tn.transition;try{Tn.transition=null,Pe=1,l2(t,e,n,r)}finally{Tn.transition=i,Pe=r}return null}function l2(t,e,n,r){do Mo();while(ki!==null);if(we&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if($k(t,s),t===dt&&(tt=dt=null,gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Eu||(Eu=!0,mb(wd,function(){return Mo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Tn.transition,Tn.transition=null;var o=Pe;Pe=1;var a=we;we|=4,wv.current=null,n2(t,n),ob(n,t),PN(mm),Ed=!!pm,mm=pm=null,t.current=n,r2(n),Dk(),we=a,Pe=o,Tn.transition=s}else t.current=n;if(Eu&&(Eu=!1,ki=t,jd=i),s=t.pendingLanes,s===0&&(Fi=null),Lk(n.stateNode),Zt(t,Xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ld)throw Ld=!1,t=Mm,Mm=null,t;return jd&1&&t.tag!==0&&Mo(),s=t.pendingLanes,s&1?t===Lm?Pl++:(Pl=0,Lm=t):Pl=0,cs(),null}function Mo(){if(ki!==null){var t=qx(jd),e=Tn.transition,n=Pe;try{if(Tn.transition=null,Pe=16>t?16:t,ki===null)var r=!1;else{if(t=ki,ki=null,jd=0,we&6)throw Error($(331));var i=we;for(we|=4,X=t.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(X=u;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:Cl(8,d,s)}var f=d.child;if(f!==null)f.return=d,X=f;else for(;X!==null;){d=X;var h=d.sibling,g=d.return;if(rb(d),d===u){X=null;break}if(h!==null){h.return=g,X=h;break}X=g}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Cl(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,X=T;break e}X=s.return}}var E=t.current;for(X=E;X!==null;){o=X;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,X=b;else e:for(o=E;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ph(9,a)}}catch(D){Ye(a,a.return,D)}if(a===o){X=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,X=A;break e}X=a.return}}if(we=i,cs(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(_h,t)}catch{}r=!0}return r}finally{Pe=n,Tn.transition=e}}return!1}function h_(t,e,n){e=ia(n,e),e=qT(t,e,1),t=Vi(t,e,1),e=Ft(),t!==null&&(wc(t,1,e),Zt(t,e))}function Ye(t,e,n){if(t.tag===3)h_(t,t,n);else for(;e!==null;){if(e.tag===3){h_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fi===null||!Fi.has(r))){t=ia(n,t),t=GT(e,t,1),e=Vi(e,t,1),t=Ft(),e!==null&&(wc(e,1,t),Zt(e,t));break}}e=e.return}}function c2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ft(),t.pingedLanes|=t.suspendedLanes&n,dt===t&&(gt&n)===n&&(ot===4||ot===3&&(gt&130023424)===gt&&500>Xe()-Ev?Os(t,0):_v|=n),Zt(t,e)}function fb(t,e){e===0&&(t.mode&1?(e=du,du<<=1,!(du&130023424)&&(du=4194304)):e=1);var n=Ft();t=qr(t,e),t!==null&&(wc(t,e,n),Zt(t,n))}function u2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fb(t,n)}function d2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),fb(t,n)}var pb;pb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xt.current)Yt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Yt=!1,JN(t,e,n);Yt=!!(t.flags&131072)}else Yt=!1,Ue&&e.flags&1048576&&yT(e,Pd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gu(t,e),t=e.pendingProps;var i=ea(e,kt.current);Oo(e,n),i=pv(null,e,r,t,i,n);var s=mv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jt(r)?(s=!0,Cd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,cv(e),i.updater=Ih,e.stateNode=i,i._reactInternals=e,bm(e,r,t,n),e=Im(null,e,r,!0,s,n)):(e.tag=0,Ue&&s&&nv(e),Lt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=f2(r),t=Dn(r,t),i){case 0:e=Cm(null,e,r,t,n);break e;case 1:e=n_(null,e,r,t,n);break e;case 11:e=e_(null,e,r,t,n);break e;case 14:e=t_(null,e,r,Dn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),Cm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),n_(t,e,r,i,n);case 3:e:{if(XT(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,bT(t,e),kd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ia(Error($(423)),e),e=r_(t,e,r,n,i);break e}else if(r!==i){i=ia(Error($(424)),e),e=r_(t,e,r,n,i);break e}else for(un=ji(e.stateNode.containerInfo.firstChild),dn=e,Ue=!0,jn=null,n=xT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ta(),r===i){e=Gr(t,e,n);break e}Lt(t,e,r,n)}e=e.child}return e;case 5:return ST(e),t===null&&Em(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,gm(r,i)?o=null:s!==null&&gm(r,s)&&(e.flags|=32),QT(t,e),Lt(t,e,o,n),e.child;case 6:return t===null&&Em(e),null;case 13:return JT(t,e,n);case 4:return uv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=na(e,null,r,n):Lt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),e_(t,e,r,i,n);case 7:return Lt(t,e,e.pendingProps,n),e.child;case 8:return Lt(t,e,e.pendingProps.children,n),e.child;case 12:return Lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ke(Ad,r._currentValue),r._currentValue=o,s!==null)if(Hn(s.value,o)){if(s.children===i.children&&!Xt.current){e=Gr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Br(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),xm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Lt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Oo(e,n),i=Sn(i),r=r(i),e.flags|=1,Lt(t,e,r,n),e.child;case 14:return r=e.type,i=Dn(r,e.pendingProps),i=Dn(r.type,i),t_(t,e,r,i,n);case 15:return KT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),Gu(t,e),e.tag=1,Jt(r)?(t=!0,Cd(e)):t=!1,Oo(e,n),HT(e,r,i),bm(e,r,i,n),Im(null,e,r,!0,t,n);case 19:return ZT(t,e,n);case 22:return YT(t,e,n)}throw Error($(156,e.tag))};function mb(t,e){return $x(t,e)}function h2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,e,n,r){return new h2(t,e,n,r)}function Sv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function f2(t){if(typeof t=="function")return Sv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wg)return 11;if(t===Hg)return 14}return 2}function Bi(t,e){var n=t.alternate;return n===null?(n=xn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Sv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case wo:return Ms(n.children,i,s,e);case zg:o=8,i|=8;break;case Kp:return t=xn(12,n,e,i|2),t.elementType=Kp,t.lanes=s,t;case Yp:return t=xn(13,n,e,i),t.elementType=Yp,t.lanes=s,t;case Qp:return t=xn(19,n,e,i),t.elementType=Qp,t.lanes=s,t;case Sx:return Rh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tx:o=10;break e;case bx:o=9;break e;case Wg:o=11;break e;case Hg:o=14;break e;case vi:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=xn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ms(t,e,n,r){return t=xn(7,t,r,e),t.lanes=n,t}function Rh(t,e,n,r){return t=xn(22,t,r,e),t.elementType=Sx,t.lanes=n,t.stateNode={isHidden:!1},t}function hp(t,e,n){return t=xn(6,t,null,e),t.lanes=n,t}function fp(t,e,n){return e=xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function p2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gf(0),this.expirationTimes=Gf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Cv(t,e,n,r,i,s,o,a,l){return t=new p2(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=xn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cv(s),t}function m2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function gb(t){if(!t)return Yi;t=t._reactInternals;e:{if(Qs(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(Jt(n))return gT(t,n,e)}return e}function vb(t,e,n,r,i,s,o,a,l){return t=Cv(n,r,!0,t,i,s,o,a,l),t.context=gb(null),n=t.current,r=Ft(),i=Ui(n),s=Br(r,i),s.callback=e??null,Vi(n,s,i),t.current.lanes=i,wc(t,i,r),Zt(t,r),t}function kh(t,e,n,r){var i=e.current,s=Ft(),o=Ui(i);return n=gb(n),e.context===null?e.context=n:e.pendingContext=n,e=Br(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vi(i,e,o),t!==null&&(Bn(t,i,o,s),Wu(t,i,o)),o}function Fd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function f_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Iv(t,e){f_(t,e),(t=t.alternate)&&f_(t,e)}function g2(){return null}var yb=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pv(t){this._internalRoot=t}Nh.prototype.render=Pv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));kh(t,e,null,null)};Nh.prototype.unmount=Pv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Us(function(){kh(null,t,null,null)}),e[Hr]=null}};function Nh(t){this._internalRoot=t}Nh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Yx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wi.length&&e!==0&&e<wi[n].priority;n++);wi.splice(n,0,t),n===0&&Xx(t)}};function Av(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Dh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function p_(){}function v2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Fd(o);s.call(u)}}var o=vb(e,r,t,0,null,!1,!1,"",p_);return t._reactRootContainer=o,t[Hr]=o.current,Hl(t.nodeType===8?t.parentNode:t),Us(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Fd(l);a.call(u)}}var l=Cv(t,0,!1,null,null,!1,!1,"",p_);return t._reactRootContainer=l,t[Hr]=l.current,Hl(t.nodeType===8?t.parentNode:t),Us(function(){kh(e,l,n,r)}),l}function Oh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Fd(o);a.call(l)}}kh(e,o,t,i)}else o=v2(n,e,t,i,r);return Fd(o)}Gx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=hl(e.pendingLanes);n!==0&&(Kg(e,n|1),Zt(e,Xe()),!(we&6)&&(sa=Xe()+500,cs()))}break;case 13:Us(function(){var r=qr(t,1);if(r!==null){var i=Ft();Bn(r,t,1,i)}}),Iv(t,1)}};Yg=function(t){if(t.tag===13){var e=qr(t,134217728);if(e!==null){var n=Ft();Bn(e,t,134217728,n)}Iv(t,134217728)}};Kx=function(t){if(t.tag===13){var e=Ui(t),n=qr(t,e);if(n!==null){var r=Ft();Bn(n,t,e,r)}Iv(t,e)}};Yx=function(){return Pe};Qx=function(t,e){var n=Pe;try{return Pe=t,e()}finally{Pe=n}};om=function(t,e,n){switch(e){case"input":if(Zp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=bh(r);if(!i)throw Error($(90));Ix(r),Zp(r,i)}}}break;case"textarea":Ax(t,n);break;case"select":e=n.value,e!=null&&Ro(t,!!n.multiple,e,!1)}};Lx=xv;jx=Us;var y2={usingClientEntryPoint:!1,Events:[Ec,To,bh,Ox,Mx,xv]},il={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w2={bundleType:il.bundleType,version:il.version,rendererPackageName:il.rendererPackageName,rendererConfig:il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ux(t),t===null?null:t.stateNode},findFiberByHostInstance:il.findFiberByHostInstance||g2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{_h=xu.inject(w2),fr=xu}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y2;mn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Av(e))throw Error($(200));return m2(t,e,null,n)};mn.createRoot=function(t,e){if(!Av(t))throw Error($(299));var n=!1,r="",i=yb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Cv(t,1,!1,null,null,n,!1,r,i),t[Hr]=e.current,Hl(t.nodeType===8?t.parentNode:t),new Pv(e)};mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=Ux(e),t=t===null?null:t.stateNode,t};mn.flushSync=function(t){return Us(t)};mn.hydrate=function(t,e,n){if(!Dh(e))throw Error($(200));return Oh(null,t,e,!0,n)};mn.hydrateRoot=function(t,e,n){if(!Av(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=yb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=vb(e,null,t,1,n??null,i,!1,s,o),t[Hr]=e.current,Hl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Nh(e)};mn.render=function(t,e,n){if(!Dh(e))throw Error($(200));return Oh(null,t,e,!1,n)};mn.unmountComponentAtNode=function(t){if(!Dh(t))throw Error($(40));return t._reactRootContainer?(Us(function(){Oh(null,null,t,!1,function(){t._reactRootContainer=null,t[Hr]=null})}),!0):!1};mn.unstable_batchedUpdates=xv;mn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Dh(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Oh(t,e,n,!1,r)};mn.version="18.3.1-next-f1338f8080-20240426";function wb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wb)}catch(t){console.error(t)}}wb(),wx.exports=mn;var Tc=wx.exports;const _b=ox(Tc);var Eb,m_=Tc;Eb=m_.createRoot,m_.hydrateRoot;const _2=1,E2=1e6;let pp=0;function x2(){return pp=(pp+1)%Number.MAX_SAFE_INTEGER,pp.toString()}const mp=new Map,g_=t=>{if(mp.has(t))return;const e=setTimeout(()=>{mp.delete(t),Al({type:"REMOVE_TOAST",toastId:t})},E2);mp.set(t,e)},T2=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,_2)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?g_(n):t.toasts.forEach(r=>{g_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Xu=[];let Ju={toasts:[]};function Al(t){Ju=T2(Ju,t),Xu.forEach(e=>{e(Ju)})}function b2({...t}){const e=x2(),n=i=>Al({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Al({type:"DISMISS_TOAST",toastId:e});return Al({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Mh(){const[t,e]=w.useState(Ju);return w.useEffect(()=>(Xu.push(e),()=>{const n=Xu.indexOf(e);n>-1&&Xu.splice(n,1)}),[t]),{...t,toast:b2,dismiss:n=>Al({type:"DISMISS_TOAST",toastId:n})}}function ue(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function S2(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function xb(...t){return e=>t.forEach(n=>S2(n,e))}function Be(...t){return w.useCallback(xb(...t),t)}function C2(t,e=[]){let n=[];function r(s,o){const a=w.createContext(o),l=n.length;n=[...n,o];function u(f){const{scope:h,children:g,...v}=f,y=(h==null?void 0:h[t][l])||a,x=w.useMemo(()=>v,Object.values(v));return p.jsx(y.Provider,{value:x,children:g})}function d(f,h){const g=(h==null?void 0:h[t][l])||a,v=w.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,I2(i,...e)]}function I2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var oa=w.forwardRef((t,e)=>{const{children:n,...r}=t,i=w.Children.toArray(n),s=i.find(P2);if(s){const o=s.props.children,a=i.map(l=>l===s?w.Children.count(o)>1?w.Children.only(null):w.isValidElement(o)?o.props.children:null:l);return p.jsx(Fm,{...r,ref:e,children:w.isValidElement(o)?w.cloneElement(o,void 0,a):null})}return p.jsx(Fm,{...r,ref:e,children:n})});oa.displayName="Slot";var Fm=w.forwardRef((t,e)=>{const{children:n,...r}=t;if(w.isValidElement(n)){const i=R2(n);return w.cloneElement(n,{...A2(r,n.props),ref:e?xb(e,i):i})}return w.Children.count(n)>1?w.Children.only(null):null});Fm.displayName="SlotClone";var Tb=({children:t})=>p.jsx(p.Fragment,{children:t});function P2(t){return w.isValidElement(t)&&t.type===Tb}function A2(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function R2(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function bb(t){const e=t+"CollectionProvider",[n,r]=C2(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:y}=g,x=G.useRef(null),T=G.useRef(new Map).current;return p.jsx(i,{scope:v,itemMap:T,collectionRef:x,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=G.forwardRef((g,v)=>{const{scope:y,children:x}=g,T=s(a,y),E=Be(v,T.collectionRef);return p.jsx(oa,{ref:E,children:x})});l.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",f=G.forwardRef((g,v)=>{const{scope:y,children:x,...T}=g,E=G.useRef(null),b=Be(v,E),A=s(u,y);return G.useEffect(()=>(A.itemMap.set(E,{ref:E,...T}),()=>void A.itemMap.delete(E))),p.jsx(oa,{[d]:"",ref:b,children:x})});f.displayName=u;function h(g){const v=s(t+"CollectionConsumer",g);return G.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const T=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((A,D)=>T.indexOf(A.ref.current)-T.indexOf(D.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},h,r]}function Xs(t,e=[]){let n=[];function r(s,o){const a=w.createContext(o),l=n.length;n=[...n,o];const u=f=>{var T;const{scope:h,children:g,...v}=f,y=((T=h==null?void 0:h[t])==null?void 0:T[l])||a,x=w.useMemo(()=>v,Object.values(v));return p.jsx(y.Provider,{value:x,children:g})};u.displayName=s+"Provider";function d(f,h){var y;const g=((y=h==null?void 0:h[t])==null?void 0:y[l])||a,v=w.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,k2(i,...e)]}function k2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var N2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],xe=N2.reduce((t,e)=>{const n=w.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?oa:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Sb(t,e){t&&Tc.flushSync(()=>t.dispatchEvent(e))}function nt(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function D2(t,e=globalThis==null?void 0:globalThis.document){const n=nt(t);w.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var O2="DismissableLayer",Um="dismissableLayer.update",M2="dismissableLayer.pointerDownOutside",L2="dismissableLayer.focusOutside",v_,Cb=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lh=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,u=w.useContext(Cb),[d,f]=w.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=w.useState({}),v=Be(e,P=>f(P)),y=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),T=y.indexOf(x),E=d?y.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,A=E>=T,D=V2(P=>{const S=P.target,C=[...u.branches].some(R=>R.contains(S));!A||C||(i==null||i(P),o==null||o(P),P.defaultPrevented||a==null||a())},h),L=F2(P=>{const S=P.target;[...u.branches].some(R=>R.contains(S))||(s==null||s(P),o==null||o(P),P.defaultPrevented||a==null||a())},h);return D2(P=>{E===u.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&a&&(P.preventDefault(),a()))},h),w.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(v_=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),y_(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=v_)}},[d,h,n,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),y_())},[d,u]),w.useEffect(()=>{const P=()=>g({});return document.addEventListener(Um,P),()=>document.removeEventListener(Um,P)},[]),p.jsx(xe.div,{...l,ref:v,style:{pointerEvents:b?A?"auto":"none":void 0,...t.style},onFocusCapture:ue(t.onFocusCapture,L.onFocusCapture),onBlurCapture:ue(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:ue(t.onPointerDownCapture,D.onPointerDownCapture)})});Lh.displayName=O2;var j2="DismissableLayerBranch",Ib=w.forwardRef((t,e)=>{const n=w.useContext(Cb),r=w.useRef(null),i=Be(e,r);return w.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),p.jsx(xe.div,{...t,ref:i})});Ib.displayName=j2;function V2(t,e=globalThis==null?void 0:globalThis.document){const n=nt(t),r=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){Pb(M2,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function F2(t,e=globalThis==null?void 0:globalThis.document){const n=nt(t),r=w.useRef(!1);return w.useEffect(()=>{const i=s=>{s.target&&!r.current&&Pb(L2,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function y_(){const t=new CustomEvent(Um);document.dispatchEvent(t)}function Pb(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Sb(i,s):i.dispatchEvent(s)}var U2=Lh,B2=Ib,Kr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},$2="Portal",Rv=w.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=w.useState(!1);Kr(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?_b.createPortal(p.jsx(xe.div,{...r,ref:e}),o):null});Rv.displayName=$2;function z2(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var Jn=t=>{const{present:e,children:n}=t,r=W2(e),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),s=Be(r.ref,H2(i));return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:s}):null};Jn.displayName="Presence";function W2(t){const[e,n]=w.useState(),r=w.useRef({}),i=w.useRef(t),s=w.useRef("none"),o=t?"mounted":"unmounted",[a,l]=z2(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=Tu(r.current);s.current=a==="mounted"?u:"none"},[a]),Kr(()=>{const u=r.current,d=i.current;if(d!==t){const h=s.current,g=Tu(u);t?l("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Kr(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=g=>{const y=Tu(r.current).includes(g.animationName);if(g.target===e&&y&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},h=g=>{g.target===e&&(s.current=Tu(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Tu(t){return(t==null?void 0:t.animationName)||"none"}function H2(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function bc({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=q2({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=nt(n),l=w.useCallback(u=>{if(s){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else i(u)},[s,t,i,a]);return[o,l]}function q2({defaultProp:t,onChange:e}){const n=w.useState(t),[r]=n,i=w.useRef(r),s=nt(e);return w.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var G2="VisuallyHidden",jh=w.forwardRef((t,e)=>p.jsx(xe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));jh.displayName=G2;var K2=jh,kv="ToastProvider",[Nv,Y2,Q2]=bb("Toast"),[Ab,nz]=Xs("Toast",[Q2]),[X2,Vh]=Ab(kv),Rb=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=w.useState(null),[u,d]=w.useState(0),f=w.useRef(!1),h=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${kv}\`. Expected non-empty \`string\`.`),p.jsx(Nv.Provider,{scope:e,children:p.jsx(X2,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:w.useCallback(()=>d(g=>g+1),[]),onToastRemove:w.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};Rb.displayName=kv;var kb="ToastViewport",J2=["F8"],Bm="toast.viewportPause",$m="toast.viewportResume",Nb=w.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=J2,label:i="Notifications ({hotkey})",...s}=t,o=Vh(kb,n),a=Y2(n),l=w.useRef(null),u=w.useRef(null),d=w.useRef(null),f=w.useRef(null),h=Be(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;w.useEffect(()=>{const x=T=>{var b;r.length!==0&&r.every(A=>T[A]||T.code===A)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),w.useEffect(()=>{const x=l.current,T=f.current;if(v&&x&&T){const E=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(Bm);T.dispatchEvent(L),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent($m);T.dispatchEvent(L),o.isClosePausedRef.current=!1}},A=L=>{!x.contains(L.relatedTarget)&&b()},D=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",E),x.addEventListener("focusout",A),x.addEventListener("pointermove",E),x.addEventListener("pointerleave",D),window.addEventListener("blur",E),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",E),x.removeEventListener("focusout",A),x.removeEventListener("pointermove",E),x.removeEventListener("pointerleave",D),window.removeEventListener("blur",E),window.removeEventListener("focus",b)}}},[v,o.isClosePausedRef]);const y=w.useCallback(({tabbingDirection:x})=>{const E=a().map(b=>{const A=b.ref.current,D=[A,...dD(A)];return x==="forwards"?D:D.reverse()});return(x==="forwards"?E.reverse():E).flat()},[a]);return w.useEffect(()=>{const x=f.current;if(x){const T=E=>{var D,L,P;const b=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!b){const S=document.activeElement,C=E.shiftKey;if(E.target===x&&C){(D=u.current)==null||D.focus();return}const O=y({tabbingDirection:C?"backwards":"forwards"}),k=O.findIndex(H=>H===S);gp(O.slice(k+1))?E.preventDefault():C?(L=u.current)==null||L.focus():(P=d.current)==null||P.focus()}};return x.addEventListener("keydown",T),()=>x.removeEventListener("keydown",T)}},[a,y]),p.jsxs(B2,{ref:l,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&p.jsx(zm,{ref:u,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"forwards"});gp(x)}}),p.jsx(Nv.Slot,{scope:n,children:p.jsx(xe.ol,{tabIndex:-1,...s,ref:h})}),v&&p.jsx(zm,{ref:d,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"backwards"});gp(x)}})]})});Nb.displayName=kb;var Db="ToastFocusProxy",zm=w.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Vh(Db,n);return p.jsx(jh,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(a))&&r()}})});zm.displayName=Db;var Fh="Toast",Z2="toast.swipeStart",eD="toast.swipeMove",tD="toast.swipeCancel",nD="toast.swipeEnd",Ob=w.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=bc({prop:r,defaultProp:i,onChange:s});return p.jsx(Jn,{present:n||a,children:p.jsx(sD,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:nt(t.onPause),onResume:nt(t.onResume),onSwipeStart:ue(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ue(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ue(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ue(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});Ob.displayName=Fh;var[rD,iD]=Ab(Fh,{onClose(){}}),sD=w.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:g,...v}=t,y=Vh(Fh,n),[x,T]=w.useState(null),E=Be(e,H=>T(H)),b=w.useRef(null),A=w.useRef(null),D=i||y.duration,L=w.useRef(0),P=w.useRef(D),S=w.useRef(0),{onToastAdd:C,onToastRemove:R}=y,N=nt(()=>{var oe;(x==null?void 0:x.contains(document.activeElement))&&((oe=y.viewport)==null||oe.focus()),o()}),O=w.useCallback(H=>{!H||H===1/0||(window.clearTimeout(S.current),L.current=new Date().getTime(),S.current=window.setTimeout(N,H))},[N]);w.useEffect(()=>{const H=y.viewport;if(H){const oe=()=>{O(P.current),u==null||u()},Z=()=>{const z=new Date().getTime()-L.current;P.current=P.current-z,window.clearTimeout(S.current),l==null||l()};return H.addEventListener(Bm,Z),H.addEventListener($m,oe),()=>{H.removeEventListener(Bm,Z),H.removeEventListener($m,oe)}}},[y.viewport,D,l,u,O]),w.useEffect(()=>{s&&!y.isClosePausedRef.current&&O(D)},[s,D,y.isClosePausedRef,O]),w.useEffect(()=>(C(),()=>R()),[C,R]);const k=w.useMemo(()=>x?Bb(x):null,[x]);return y.viewport?p.jsxs(p.Fragment,{children:[k&&p.jsx(oD,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),p.jsx(rD,{scope:n,onClose:N,children:Tc.createPortal(p.jsx(Nv.ItemSlot,{scope:n,children:p.jsx(U2,{asChild:!0,onEscapeKeyDown:ue(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||N(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,...v,ref:E,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ue(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:ue(t.onPointerDown,H=>{H.button===0&&(b.current={x:H.clientX,y:H.clientY})}),onPointerMove:ue(t.onPointerMove,H=>{if(!b.current)return;const oe=H.clientX-b.current.x,Z=H.clientY-b.current.y,z=!!A.current,M=["left","right"].includes(y.swipeDirection),W=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,J=M?W(0,oe):0,K=M?0:W(0,Z),ee=H.pointerType==="touch"?10:2,ne={x:J,y:K},De={originalEvent:H,delta:ne};z?(A.current=ne,bu(eD,f,De,{discrete:!1})):w_(ne,y.swipeDirection,ee)?(A.current=ne,bu(Z2,d,De,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(oe)>ee||Math.abs(Z)>ee)&&(b.current=null)}),onPointerUp:ue(t.onPointerUp,H=>{const oe=A.current,Z=H.target;if(Z.hasPointerCapture(H.pointerId)&&Z.releasePointerCapture(H.pointerId),A.current=null,b.current=null,oe){const z=H.currentTarget,M={originalEvent:H,delta:oe};w_(oe,y.swipeDirection,y.swipeThreshold)?bu(nD,g,M,{discrete:!0}):bu(tD,h,M,{discrete:!0}),z.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),oD=t=>{const{__scopeToast:e,children:n,...r}=t,i=Vh(Fh,e),[s,o]=w.useState(!1),[a,l]=w.useState(!1);return cD(()=>o(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:p.jsx(Rv,{asChild:!0,children:p.jsx(jh,{...r,children:s&&p.jsxs(p.Fragment,{children:[i.label," ",n]})})})},aD="ToastTitle",Mb=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(xe.div,{...r,ref:e})});Mb.displayName=aD;var lD="ToastDescription",Lb=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(xe.div,{...r,ref:e})});Lb.displayName=lD;var jb="ToastAction",Vb=w.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(Ub,{altText:n,asChild:!0,children:p.jsx(Dv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${jb}\`. Expected non-empty \`string\`.`),null)});Vb.displayName=jb;var Fb="ToastClose",Dv=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=iD(Fb,n);return p.jsx(Ub,{asChild:!0,children:p.jsx(xe.button,{type:"button",...r,ref:e,onClick:ue(t.onClick,i.onClose)})})});Dv.displayName=Fb;var Ub=w.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return p.jsx(xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Bb(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),uD(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Bb(r))}}),e}function bu(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Sb(i,s):i.dispatchEvent(s)}var w_=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function cD(t=()=>{}){const e=nt(t);Kr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function uD(t){return t.nodeType===t.ELEMENT_NODE}function dD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function gp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var hD=Rb,$b=Nb,zb=Ob,Wb=Mb,Hb=Lb,qb=Vb,Gb=Dv;function Kb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Kb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Yb(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Kb(t))&&(r&&(r+=" "),r+=e);return r}const __=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,E_=Yb,Uh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return E_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const h=__(d)||__(f);return i[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...g}=d;return Object.entries(g).every(v=>{let[y,x]=v;return Array.isArray(x)?x.includes({...s,...a}[y]):{...s,...a}[y]===x})?[...u,f,h]:u},[]);return E_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qb=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>w.createElement("svg",{ref:l,...pD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Qb("lucide",i),...a},[...o.map(([u,d])=>w.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(t,e)=>{const n=w.forwardRef(({className:r,...i},s)=>w.createElement(mD,{ref:s,iconNode:e,className:Qb(`lucide-${fD(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=Fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=Fe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=Fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=Fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=Fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=Fe("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=Fe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=Fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=Fe("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=Fe("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=Fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=Fe("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=Fe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=Fe("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=Fe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=Fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=Fe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=Fe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=Fe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=Fe("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=Fe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=Fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=Fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=Fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=Fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ov="-",OD=t=>{const e=LD(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Ov);return a[0]===""&&a.length!==1&&a.shift(),nS(a,e)||MD(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},nS=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?nS(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Ov);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},x_=/^\[(.+)\]$/,MD=t=>{if(x_.test(t)){const e=x_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},LD=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return VD(Object.entries(t.classGroups),n).forEach(([s,o])=>{Hm(o,r,s,e)}),r},Hm=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:T_(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(jD(i)){Hm(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Hm(o,T_(e,s),n,r)})})},T_=(t,e)=>{let n=t;return e.split(Ov).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},jD=t=>t.isThemeGetter,VD=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,FD=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},rS="!",UD=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let u=0,d=0,f;for(let x=0;x<a.length;x++){let T=a[x];if(u===0){if(T===i&&(r||a.slice(x,x+s)===e)){l.push(a.slice(d,x)),d=x+s;continue}if(T==="/"){f=x;continue}}T==="["?u++:T==="]"&&u--}const h=l.length===0?a:a.substring(d),g=h.startsWith(rS),v=g?h.substring(1):h,y=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},BD=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},$D=t=>({cache:FD(t.cacheSize),parseClassName:UD(t),...OD(t)}),zD=/\s+/,WD=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(zD);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:g}=n(u);let v=!!g,y=r(v?h.substring(0,g):h);if(!y){if(!v){a=u+(a.length>0?" "+a:a);continue}if(y=r(h),!y){a=u+(a.length>0?" "+a:a);continue}v=!1}const x=BD(d).join(":"),T=f?x+rS:x,E=T+y;if(s.includes(E))continue;s.push(E);const b=i(y,v);for(let A=0;A<b.length;++A){const D=b[A];s.push(T+D)}a=u+(a.length>0?" "+a:a)}return a};function HD(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=iS(e))&&(r&&(r+=" "),r+=n);return r}const iS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=iS(t[r]))&&(n&&(n+=" "),n+=e);return n};function qD(t,...e){let n,r,i,s=o;function o(l){const u=e.reduce((d,f)=>f(d),t());return n=$D(u),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=WD(l,n);return i(l,d),d}return function(){return s(HD.apply(null,arguments))}}const Me=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},sS=/^\[(?:([a-z-]+):)?(.+)\]$/i,GD=/^\d+\/\d+$/,KD=new Set(["px","full","screen"]),YD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,QD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,XD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,JD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ZD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ar=t=>Lo(t)||KD.has(t)||GD.test(t),di=t=>Ta(t,"length",aO),Lo=t=>!!t&&!Number.isNaN(Number(t)),vp=t=>Ta(t,"number",Lo),sl=t=>!!t&&Number.isInteger(Number(t)),eO=t=>t.endsWith("%")&&Lo(t.slice(0,-1)),de=t=>sS.test(t),hi=t=>YD.test(t),tO=new Set(["length","size","percentage"]),nO=t=>Ta(t,tO,oS),rO=t=>Ta(t,"position",oS),iO=new Set(["image","url"]),sO=t=>Ta(t,iO,cO),oO=t=>Ta(t,"",lO),ol=()=>!0,Ta=(t,e,n)=>{const r=sS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},aO=t=>QD.test(t)&&!XD.test(t),oS=()=>!1,lO=t=>JD.test(t),cO=t=>ZD.test(t),uO=()=>{const t=Me("colors"),e=Me("spacing"),n=Me("blur"),r=Me("brightness"),i=Me("borderColor"),s=Me("borderRadius"),o=Me("borderSpacing"),a=Me("borderWidth"),l=Me("contrast"),u=Me("grayscale"),d=Me("hueRotate"),f=Me("invert"),h=Me("gap"),g=Me("gradientColorStops"),v=Me("gradientColorStopPositions"),y=Me("inset"),x=Me("margin"),T=Me("opacity"),E=Me("padding"),b=Me("saturate"),A=Me("scale"),D=Me("sepia"),L=Me("skew"),P=Me("space"),S=Me("translate"),C=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",de,e],O=()=>[de,e],k=()=>["",Ar,di],H=()=>["auto",Lo,de],oe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",de],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[Lo,de];return{cacheSize:500,separator:":",theme:{colors:[ol],spacing:[Ar,di],blur:["none","",hi,de],brightness:K(),borderColor:[t],borderRadius:["none","","full",hi,de],borderSpacing:O(),borderWidth:k(),contrast:K(),grayscale:W(),hueRotate:K(),invert:W(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[eO,di],inset:N(),margin:N(),opacity:K(),padding:O(),saturate:K(),scale:K(),sepia:W(),skew:K(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",de]}],container:["container"],columns:[{columns:[hi]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...oe(),de]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sl,de]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",de]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",sl,de]}],"grid-cols":[{"grid-cols":[ol]}],"col-start-end":[{col:["auto",{span:["full",sl,de]},de]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[ol]}],"row-start-end":[{row:["auto",{span:[sl,de]},de]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",de]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",de]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",de,e]}],"min-w":[{"min-w":[de,e,"min","max","fit"]}],"max-w":[{"max-w":[de,e,"none","full","min","max","fit","prose",{screen:[hi]},hi]}],h:[{h:[de,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[de,e,"auto","min","max","fit"]}],"font-size":[{text:["base",hi,di]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",vp]}],"font-family":[{font:[ol]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",de]}],"line-clamp":[{"line-clamp":["none",Lo,vp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ar,de]}],"list-image":[{"list-image":["none",de]}],"list-style-type":[{list:["none","disc","decimal",de]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ar,di]}],"underline-offset":[{"underline-offset":["auto",Ar,de]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...oe(),rO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",nO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:Z()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[Ar,de]}],"outline-w":[{outline:[Ar,di]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[Ar,di]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",hi,oO]}],"shadow-color":[{shadow:[ol]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",hi,de]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",de]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",de]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",de]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[sl,de]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",de]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ar,di,vp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},dO=qD(uO);function pe(...t){return dO(Yb(t))}const hO=hD,aS=w.forwardRef(({className:t,...e},n)=>p.jsx($b,{ref:n,className:pe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));aS.displayName=$b.displayName;const fO=Uh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),lS=w.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(zb,{ref:r,className:pe(fO({variant:e}),t),...n}));lS.displayName=zb.displayName;const pO=w.forwardRef(({className:t,...e},n)=>p.jsx(qb,{ref:n,className:pe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));pO.displayName=qb.displayName;const cS=w.forwardRef(({className:t,...e},n)=>p.jsx(Gb,{ref:n,className:pe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(DD,{className:"h-4 w-4"})}));cS.displayName=Gb.displayName;const uS=w.forwardRef(({className:t,...e},n)=>p.jsx(Wb,{ref:n,className:pe("text-sm font-semibold",t),...e}));uS.displayName=Wb.displayName;const dS=w.forwardRef(({className:t,...e},n)=>p.jsx(Hb,{ref:n,className:pe("text-sm opacity-90",t),...e}));dS.displayName=Hb.displayName;function mO(){const{toasts:t}=Mh();return p.jsxs(hO,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return p.jsxs(lS,{...s,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(uS,{children:n}),r&&p.jsx(dS,{children:r})]}),i,p.jsx(cS,{})]},e)}),p.jsx(aS,{})]})}var b_=["light","dark"],gO="(prefers-color-scheme: dark)",vO=w.createContext(void 0),yO={setTheme:t=>{},themes:[]},wO=()=>{var t;return(t=w.useContext(vO))!=null?t:yO};w.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let u=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?b_.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,y=!1,x=!0)=>{let T=o?o[v]:v,E=y?v+"|| ''":`'${T}'`,b="";return i&&x&&!y&&b_.includes(v)&&(b+=`d.style.colorScheme = '${v}';`),n==="class"?y||T?b+=`c.add(${E})`:b+="null":T&&(b+=`d[s](n,${E})`),b},g=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${gO}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return w.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})});var _O=t=>{switch(t){case"success":return TO;case"info":return SO;case"warning":return bO;case"error":return CO;default:return null}},EO=Array(12).fill(0),xO=({visible:t})=>G.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},G.createElement("div",{className:"sonner-spinner"},EO.map((e,n)=>G.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),TO=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),bO=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),SO=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),CO=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),IO=()=>{let[t,e]=G.useState(document.hidden);return G.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},qm=1,PO=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:qm++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0;return i.then(async o=>{if(RO(o)&&!o.ok){s=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:l})}else if(n.success!==void 0){s=!1;let a=typeof n.success=="function"?await n.success(o):n.success,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:l})}}).catch(async o=>{if(n.error!==void 0){s=!1;let a=typeof n.error=="function"?await n.error(o):n.error,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:l})}}).finally(()=>{var o;s&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||qm++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},on=new PO,AO=(t,e)=>{let n=(e==null?void 0:e.id)||qm++;return on.addToast({title:t,...e,id:n}),n},RO=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",kO=AO,NO=()=>on.toasts;Object.assign(kO,{success:on.success,info:on.info,warning:on.warning,error:on.error,custom:on.custom,message:on.message,promise:on.promise,dismiss:on.dismiss,loading:on.loading},{getHistory:NO});function DO(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}DO(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Su(t){return t.label!==void 0}var OO=3,MO="32px",LO=4e3,jO=356,VO=14,FO=20,UO=200;function BO(...t){return t.filter(Boolean).join(" ")}var $O=t=>{var e,n,r,i,s,o,a,l,u,d;let{invert:f,toast:h,unstyled:g,interacting:v,setHeights:y,visibleToasts:x,heights:T,index:E,toasts:b,expanded:A,removeToast:D,defaultRichColors:L,closeButton:P,style:S,cancelButtonStyle:C,actionButtonStyle:R,className:N="",descriptionClassName:O="",duration:k,position:H,gap:oe,loadingIcon:Z,expandByDefault:z,classNames:M,icons:W,closeButtonAriaLabel:J="Close toast",pauseWhenPageIsHidden:K,cn:ee}=t,[ne,De]=G.useState(!1),[it,Te]=G.useState(!1),[wt,Zn]=G.useState(!1),[er,nn]=G.useState(!1),[Tr,tr]=G.useState(0),[An,br]=G.useState(0),ri=G.useRef(null),Rn=G.useRef(null),Oa=E===0,Ma=E+1<=x,Je=h.type,nr=h.dismissible!==!1,$c=h.className||"",Cf=h.descriptionClassName||"",ii=G.useMemo(()=>T.findIndex(ae=>ae.toastId===h.id)||0,[T,h.id]),La=G.useMemo(()=>{var ae;return(ae=h.closeButton)!=null?ae:P},[h.closeButton,P]),ja=G.useMemo(()=>h.duration||k||LO,[h.duration,k]),Ze=G.useRef(0),qe=G.useRef(0),ms=G.useRef(0),Sr=G.useRef(null),[Va,If]=H.split("-"),si=G.useMemo(()=>T.reduce((ae,Ae,Ce)=>Ce>=ii?ae:ae+Ae.height,0),[T,ii]),Fa=IO(),zc=h.invert||f,gs=Je==="loading";qe.current=G.useMemo(()=>ii*oe+si,[ii,si]),G.useEffect(()=>{De(!0)},[]),G.useLayoutEffect(()=>{if(!ne)return;let ae=Rn.current,Ae=ae.style.height;ae.style.height="auto";let Ce=ae.getBoundingClientRect().height;ae.style.height=Ae,br(Ce),y(_t=>_t.find(zt=>zt.toastId===h.id)?_t.map(zt=>zt.toastId===h.id?{...zt,height:Ce}:zt):[{toastId:h.id,height:Ce,position:h.position},..._t])},[ne,h.title,h.description,y,h.id]);let rr=G.useCallback(()=>{Te(!0),tr(qe.current),y(ae=>ae.filter(Ae=>Ae.toastId!==h.id)),setTimeout(()=>{D(h)},UO)},[h,D,y,qe]);G.useEffect(()=>{if(h.promise&&Je==="loading"||h.duration===1/0||h.type==="loading")return;let ae,Ae=ja;return A||v||K&&Fa?(()=>{if(ms.current<Ze.current){let Ce=new Date().getTime()-Ze.current;Ae=Ae-Ce}ms.current=new Date().getTime()})():Ae!==1/0&&(Ze.current=new Date().getTime(),ae=setTimeout(()=>{var Ce;(Ce=h.onAutoClose)==null||Ce.call(h,h),rr()},Ae)),()=>clearTimeout(ae)},[A,v,z,h,ja,rr,h.promise,Je,K,Fa]),G.useEffect(()=>{let ae=Rn.current;if(ae){let Ae=ae.getBoundingClientRect().height;return br(Ae),y(Ce=>[{toastId:h.id,height:Ae,position:h.position},...Ce]),()=>y(Ce=>Ce.filter(_t=>_t.toastId!==h.id))}},[y,h.id]),G.useEffect(()=>{h.delete&&rr()},[rr,h.delete]);function Pf(){return W!=null&&W.loading?G.createElement("div",{className:"sonner-loader","data-visible":Je==="loading"},W.loading):Z?G.createElement("div",{className:"sonner-loader","data-visible":Je==="loading"},Z):G.createElement(xO,{visible:Je==="loading"})}return G.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Rn,className:ee(N,$c,M==null?void 0:M.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,M==null?void 0:M.default,M==null?void 0:M[Je],(n=h==null?void 0:h.classNames)==null?void 0:n[Je]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:L,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":ne,"data-promise":!!h.promise,"data-removed":it,"data-visible":Ma,"data-y-position":Va,"data-x-position":If,"data-index":E,"data-front":Oa,"data-swiping":wt,"data-dismissible":nr,"data-type":Je,"data-invert":zc,"data-swipe-out":er,"data-expanded":!!(A||z&&ne),style:{"--index":E,"--toasts-before":E,"--z-index":b.length-E,"--offset":`${it?Tr:qe.current}px`,"--initial-height":z?"auto":`${An}px`,...S,...h.style},onPointerDown:ae=>{gs||!nr||(ri.current=new Date,tr(qe.current),ae.target.setPointerCapture(ae.pointerId),ae.target.tagName!=="BUTTON"&&(Zn(!0),Sr.current={x:ae.clientX,y:ae.clientY}))},onPointerUp:()=>{var ae,Ae,Ce,_t;if(er||!nr)return;Sr.current=null;let zt=Number(((ae=Rn.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount").replace("px",""))||0),oi=new Date().getTime()-((Ae=ri.current)==null?void 0:Ae.getTime()),Cr=Math.abs(zt)/oi;if(Math.abs(zt)>=FO||Cr>.11){tr(qe.current),(Ce=h.onDismiss)==null||Ce.call(h,h),rr(),nn(!0);return}(_t=Rn.current)==null||_t.style.setProperty("--swipe-amount","0px"),Zn(!1)},onPointerMove:ae=>{var Ae;if(!Sr.current||!nr)return;let Ce=ae.clientY-Sr.current.y,_t=ae.clientX-Sr.current.x,zt=(Va==="top"?Math.min:Math.max)(0,Ce),oi=ae.pointerType==="touch"?10:2;Math.abs(zt)>oi?(Ae=Rn.current)==null||Ae.style.setProperty("--swipe-amount",`${Ce}px`):Math.abs(_t)>oi&&(Sr.current=null)}},La&&!h.jsx?G.createElement("button",{"aria-label":J,"data-disabled":gs,"data-close-button":!0,onClick:gs||!nr?()=>{}:()=>{var ae;rr(),(ae=h.onDismiss)==null||ae.call(h,h)},className:ee(M==null?void 0:M.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},G.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),G.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||G.isValidElement(h.title)?h.jsx||h.title:G.createElement(G.Fragment,null,Je||h.icon||h.promise?G.createElement("div",{"data-icon":"",className:ee(M==null?void 0:M.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Pf():null,h.type!=="loading"?h.icon||(W==null?void 0:W[Je])||_O(Je):null):null,G.createElement("div",{"data-content":"",className:ee(M==null?void 0:M.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},G.createElement("div",{"data-title":"",className:ee(M==null?void 0:M.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?G.createElement("div",{"data-description":"",className:ee(O,Cf,M==null?void 0:M.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),G.isValidElement(h.cancel)?h.cancel:h.cancel&&Su(h.cancel)?G.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||C,onClick:ae=>{var Ae,Ce;Su(h.cancel)&&nr&&((Ce=(Ae=h.cancel).onClick)==null||Ce.call(Ae,ae),rr())},className:ee(M==null?void 0:M.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,G.isValidElement(h.action)?h.action:h.action&&Su(h.action)?G.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||R,onClick:ae=>{var Ae,Ce;Su(h.action)&&(ae.defaultPrevented||((Ce=(Ae=h.action).onClick)==null||Ce.call(Ae,ae),rr()))},className:ee(M==null?void 0:M.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function S_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var zO=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:l="light",richColors:u,duration:d,style:f,visibleToasts:h=OO,toastOptions:g,dir:v=S_(),gap:y=VO,loadingIcon:x,icons:T,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:b,cn:A=BO}=t,[D,L]=G.useState([]),P=G.useMemo(()=>Array.from(new Set([n].concat(D.filter(K=>K.position).map(K=>K.position)))),[D,n]),[S,C]=G.useState([]),[R,N]=G.useState(!1),[O,k]=G.useState(!1),[H,oe]=G.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=G.useRef(null),z=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=G.useRef(null),W=G.useRef(!1),J=G.useCallback(K=>{var ee;(ee=D.find(ne=>ne.id===K.id))!=null&&ee.delete||on.dismiss(K.id),L(ne=>ne.filter(({id:De})=>De!==K.id))},[D]);return G.useEffect(()=>on.subscribe(K=>{if(K.dismiss){L(ee=>ee.map(ne=>ne.id===K.id?{...ne,delete:!0}:ne));return}setTimeout(()=>{_b.flushSync(()=>{L(ee=>{let ne=ee.findIndex(De=>De.id===K.id);return ne!==-1?[...ee.slice(0,ne),{...ee[ne],...K},...ee.slice(ne+1)]:[K,...ee]})})})}),[]),G.useEffect(()=>{if(l!=="system"){oe(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?oe("dark"):oe("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:K})=>{oe(K?"dark":"light")})},[l]),G.useEffect(()=>{D.length<=1&&N(!1)},[D]),G.useEffect(()=>{let K=ee=>{var ne,De;r.every(it=>ee[it]||ee.code===it)&&(N(!0),(ne=Z.current)==null||ne.focus()),ee.code==="Escape"&&(document.activeElement===Z.current||(De=Z.current)!=null&&De.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[r]),G.useEffect(()=>{if(Z.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,W.current=!1)}},[Z.current]),D.length?G.createElement("section",{"aria-label":`${E} ${z}`,tabIndex:-1},P.map((K,ee)=>{var ne;let[De,it]=K.split("-");return G.createElement("ol",{key:K,dir:v==="auto"?S_():v,tabIndex:-1,ref:Z,className:o,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":De,"data-x-position":it,style:{"--front-toast-height":`${((ne=S[0])==null?void 0:ne.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||MO,"--width":`${jO}px`,"--gap":`${y}px`,...f},onBlur:Te=>{W.current&&!Te.currentTarget.contains(Te.relatedTarget)&&(W.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:Te=>{Te.target instanceof HTMLElement&&Te.target.dataset.dismissible==="false"||W.current||(W.current=!0,M.current=Te.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{O||N(!1)},onPointerDown:Te=>{Te.target instanceof HTMLElement&&Te.target.dataset.dismissible==="false"||k(!0)},onPointerUp:()=>k(!1)},D.filter(Te=>!Te.position&&ee===0||Te.position===K).map((Te,wt)=>{var Zn,er;return G.createElement($O,{key:Te.id,icons:T,index:wt,toast:Te,defaultRichColors:u,duration:(Zn=g==null?void 0:g.duration)!=null?Zn:d,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:e,visibleToasts:h,closeButton:(er=g==null?void 0:g.closeButton)!=null?er:s,interacting:O,position:K,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:J,toasts:D.filter(nn=>nn.position==Te.position),heights:S.filter(nn=>nn.position==Te.position),setHeights:C,expandByDefault:i,gap:y,loadingIcon:x,expanded:R,pauseWhenPageIsHidden:b,cn:A})}))})):null};const WO=({...t})=>{const{theme:e="system"}=wO();return p.jsx(zO,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var HO=vx.useId||(()=>{}),qO=0;function hS(t){const[e,n]=w.useState(HO());return Kr(()=>{n(r=>r??String(qO++))},[t]),e?`radix-${e}`:""}const GO=["top","right","bottom","left"],Qi=Math.min,ln=Math.max,Ud=Math.round,Cu=Math.floor,Xi=t=>({x:t,y:t}),KO={left:"right",right:"left",bottom:"top",top:"bottom"},YO={start:"end",end:"start"};function Gm(t,e,n){return ln(t,Qi(e,n))}function Yr(t,e){return typeof t=="function"?t(e):t}function Qr(t){return t.split("-")[0]}function ba(t){return t.split("-")[1]}function Mv(t){return t==="x"?"y":"x"}function Lv(t){return t==="y"?"height":"width"}function Ji(t){return["top","bottom"].includes(Qr(t))?"y":"x"}function jv(t){return Mv(Ji(t))}function QO(t,e,n){n===void 0&&(n=!1);const r=ba(t),i=jv(t),s=Lv(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Bd(o)),[o,Bd(o)]}function XO(t){const e=Bd(t);return[Km(t),e,Km(e)]}function Km(t){return t.replace(/start|end/g,e=>YO[e])}function JO(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function ZO(t,e,n,r){const i=ba(t);let s=JO(Qr(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Km)))),s}function Bd(t){return t.replace(/left|right|bottom|top/g,e=>KO[e])}function eM(t){return{top:0,right:0,bottom:0,left:0,...t}}function fS(t){return typeof t!="number"?eM(t):{top:t,right:t,bottom:t,left:t}}function $d(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function C_(t,e,n){let{reference:r,floating:i}=t;const s=Ji(e),o=jv(e),a=Lv(o),l=Qr(e),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-i.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-i.width,y:f};break;default:g={x:r.x,y:r.y}}switch(ba(e)){case"start":g[o]-=h*(n&&u?-1:1);break;case"end":g[o]+=h*(n&&u?-1:1);break}return g}const tM=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=C_(u,r,l),h=r,g={},v=0;for(let y=0;y<a.length;y++){const{name:x,fn:T}=a[y],{x:E,y:b,data:A,reset:D}=await T({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});d=E??d,f=b??f,g={...g,[x]:{...g[x],...A}},D&&v<=50&&(v++,typeof D=="object"&&(D.placement&&(h=D.placement),D.rects&&(u=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:d,y:f}=C_(u,h,l)),y=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:g}};async function tc(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=Yr(e,t),v=fS(g),x=a[h?f==="floating"?"reference":"floating":f],T=$d(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),E=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),A=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},D=$d(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:b,strategy:l}):E);return{top:(T.top-D.top+v.top)/A.y,bottom:(D.bottom-T.bottom+v.bottom)/A.y,left:(T.left-D.left+v.left)/A.x,right:(D.right-T.right+v.right)/A.x}}const nM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Yr(t,e)||{};if(u==null)return{};const f=fS(d),h={x:n,y:r},g=jv(i),v=Lv(g),y=await o.getDimensions(u),x=g==="y",T=x?"top":"left",E=x?"bottom":"right",b=x?"clientHeight":"clientWidth",A=s.reference[v]+s.reference[g]-h[g]-s.floating[v],D=h[g]-s.reference[g],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let P=L?L[b]:0;(!P||!await(o.isElement==null?void 0:o.isElement(L)))&&(P=a.floating[b]||s.floating[v]);const S=A/2-D/2,C=P/2-y[v]/2-1,R=Qi(f[T],C),N=Qi(f[E],C),O=R,k=P-y[v]-N,H=P/2-y[v]/2+S,oe=Gm(O,H,k),Z=!l.arrow&&ba(i)!=null&&H!==oe&&s.reference[v]/2-(H<O?R:N)-y[v]/2<0,z=Z?H<O?H-O:H-k:0;return{[g]:h[g]+z,data:{[g]:oe,centerOffset:H-oe-z,...Z&&{alignmentOffset:z}},reset:Z}}}),rM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...x}=Yr(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const T=Qr(i),E=Ji(a),b=Qr(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(u.floating)),D=h||(b||!y?[Bd(a)]:XO(a)),L=v!=="none";!h&&L&&D.push(...ZO(a,y,v,A));const P=[a,...D],S=await tc(e,x),C=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&C.push(S[T]),f){const H=QO(i,o,A);C.push(S[H[0]],S[H[1]])}if(R=[...R,{placement:i,overflows:C}],!C.every(H=>H<=0)){var N,O;const H=(((N=s.flip)==null?void 0:N.index)||0)+1,oe=P[H];if(oe)return{data:{index:H,overflows:R},reset:{placement:oe}};let Z=(O=R.filter(z=>z.overflows[0]<=0).sort((z,M)=>z.overflows[1]-M.overflows[1])[0])==null?void 0:O.placement;if(!Z)switch(g){case"bestFit":{var k;const z=(k=R.filter(M=>{if(L){const W=Ji(M.placement);return W===E||W==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(W=>W>0).reduce((W,J)=>W+J,0)]).sort((M,W)=>M[1]-W[1])[0])==null?void 0:k[0];z&&(Z=z);break}case"initialPlacement":Z=a;break}if(i!==Z)return{reset:{placement:Z}}}return{}}}};function I_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function P_(t){return GO.some(e=>t[e]>=0)}const iM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Yr(t,e);switch(r){case"referenceHidden":{const s=await tc(e,{...i,elementContext:"reference"}),o=I_(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:P_(o)}}}case"escaped":{const s=await tc(e,{...i,altBoundary:!0}),o=I_(s,n.floating);return{data:{escapedOffsets:o,escaped:P_(o)}}}default:return{}}}}};async function sM(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Qr(n),a=ba(n),l=Ji(n)==="y",u=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,f=Yr(e,t);let{mainAxis:h,crossAxis:g,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(g=a==="end"?v*-1:v),l?{x:g*d,y:h*u}:{x:h*u,y:g*d}}const oM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await sM(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},aM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:T,y:E}=x;return{x:T,y:E}}},...l}=Yr(t,e),u={x:n,y:r},d=await tc(e,l),f=Ji(Qr(i)),h=Mv(f);let g=u[h],v=u[f];if(s){const x=h==="y"?"top":"left",T=h==="y"?"bottom":"right",E=g+d[x],b=g-d[T];g=Gm(E,g,b)}if(o){const x=f==="y"?"top":"left",T=f==="y"?"bottom":"right",E=v+d[x],b=v-d[T];v=Gm(E,v,b)}const y=a.fn({...e,[h]:g,[f]:v});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[h]:s,[f]:o}}}}}},lM=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Yr(t,e),d={x:n,y:r},f=Ji(i),h=Mv(f);let g=d[h],v=d[f];const y=Yr(a,e),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const b=h==="y"?"height":"width",A=s.reference[h]-s.floating[b]+x.mainAxis,D=s.reference[h]+s.reference[b]-x.mainAxis;g<A?g=A:g>D&&(g=D)}if(u){var T,E;const b=h==="y"?"width":"height",A=["top","left"].includes(Qr(i)),D=s.reference[f]-s.floating[b]+(A&&((T=o.offset)==null?void 0:T[f])||0)+(A?0:x.crossAxis),L=s.reference[f]+s.reference[b]+(A?0:((E=o.offset)==null?void 0:E[f])||0)-(A?x.crossAxis:0);v<D?v=D:v>L&&(v=L)}return{[h]:g,[f]:v}}}},cM=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Yr(t,e),d=await tc(e,u),f=Qr(i),h=ba(i),g=Ji(i)==="y",{width:v,height:y}=s.floating;let x,T;f==="top"||f==="bottom"?(x=f,T=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(T=f,x=h==="end"?"top":"bottom");const E=y-d.top-d.bottom,b=v-d.left-d.right,A=Qi(y-d[x],E),D=Qi(v-d[T],b),L=!e.middlewareData.shift;let P=A,S=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=E),L&&!h){const R=ln(d.left,0),N=ln(d.right,0),O=ln(d.top,0),k=ln(d.bottom,0);g?S=v-2*(R!==0||N!==0?R+N:ln(d.left,d.right)):P=y-2*(O!==0||k!==0?O+k:ln(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:P});const C=await o.getDimensions(a.floating);return v!==C.width||y!==C.height?{reset:{rects:!0}}:{}}}};function Bh(){return typeof window<"u"}function Sa(t){return pS(t)?(t.nodeName||"").toLowerCase():"#document"}function hn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Er(t){var e;return(e=(pS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function pS(t){return Bh()?t instanceof Node||t instanceof hn(t).Node:!1}function qn(t){return Bh()?t instanceof Element||t instanceof hn(t).Element:!1}function yr(t){return Bh()?t instanceof HTMLElement||t instanceof hn(t).HTMLElement:!1}function A_(t){return!Bh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof hn(t).ShadowRoot}function Sc(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Gn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function uM(t){return["table","td","th"].includes(Sa(t))}function $h(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Vv(t){const e=Fv(),n=qn(t)?Gn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function dM(t){let e=Zi(t);for(;yr(e)&&!aa(e);){if(Vv(e))return e;if($h(e))return null;e=Zi(e)}return null}function Fv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function aa(t){return["html","body","#document"].includes(Sa(t))}function Gn(t){return hn(t).getComputedStyle(t)}function zh(t){return qn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Zi(t){if(Sa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||A_(t)&&t.host||Er(t);return A_(e)?e.host:e}function mS(t){const e=Zi(t);return aa(e)?t.ownerDocument?t.ownerDocument.body:t.body:yr(e)&&Sc(e)?e:mS(e)}function nc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=mS(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=hn(i);if(s){const a=Ym(o);return e.concat(o,o.visualViewport||[],Sc(i)?i:[],a&&n?nc(a):[])}return e.concat(i,nc(i,[],n))}function Ym(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function gS(t){const e=Gn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=yr(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Ud(n)!==s||Ud(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Uv(t){return qn(t)?t:t.contextElement}function jo(t){const e=Uv(t);if(!yr(e))return Xi(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=gS(e);let o=(s?Ud(n.width):n.width)/r,a=(s?Ud(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const hM=Xi(0);function vS(t){const e=hn(t);return!Fv()||!e.visualViewport?hM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function fM(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==hn(t)?!1:e}function Bs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Uv(t);let o=Xi(1);e&&(r?qn(r)&&(o=jo(r)):o=jo(t));const a=fM(s,n,r)?vS(s):Xi(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const h=hn(s),g=r&&qn(r)?hn(r):r;let v=h,y=Ym(v);for(;y&&r&&g!==v;){const x=jo(y),T=y.getBoundingClientRect(),E=Gn(y),b=T.left+(y.clientLeft+parseFloat(E.paddingLeft))*x.x,A=T.top+(y.clientTop+parseFloat(E.paddingTop))*x.y;l*=x.x,u*=x.y,d*=x.x,f*=x.y,l+=b,u+=A,v=hn(y),y=Ym(v)}}return $d({width:d,height:f,x:l,y:u})}function pM(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Er(r),a=e?$h(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Xi(1);const d=Xi(0),f=yr(r);if((f||!f&&!s)&&((Sa(r)!=="body"||Sc(o))&&(l=zh(r)),yr(r))){const h=Bs(r);u=jo(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function mM(t){return Array.from(t.getClientRects())}function Qm(t,e){const n=zh(t).scrollLeft;return e?e.left+n:Bs(Er(t)).left+n}function gM(t){const e=Er(t),n=zh(t),r=t.ownerDocument.body,i=ln(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ln(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Qm(t);const a=-n.scrollTop;return Gn(r).direction==="rtl"&&(o+=ln(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function vM(t,e){const n=hn(t),r=Er(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=Fv();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function yM(t,e){const n=Bs(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=yr(t)?jo(t):Xi(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function R_(t,e,n){let r;if(e==="viewport")r=vM(t,n);else if(e==="document")r=gM(Er(t));else if(qn(e))r=yM(e,n);else{const i=vS(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return $d(r)}function yS(t,e){const n=Zi(t);return n===e||!qn(n)||aa(n)?!1:Gn(n).position==="fixed"||yS(n,e)}function wM(t,e){const n=e.get(t);if(n)return n;let r=nc(t,[],!1).filter(a=>qn(a)&&Sa(a)!=="body"),i=null;const s=Gn(t).position==="fixed";let o=s?Zi(t):t;for(;qn(o)&&!aa(o);){const a=Gn(o),l=Vv(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Sc(o)&&!l&&yS(t,o))?r=r.filter(d=>d!==o):i=a,o=Zi(o)}return e.set(t,r),r}function _M(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?$h(e)?[]:wM(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const f=R_(e,d,i);return u.top=ln(f.top,u.top),u.right=Qi(f.right,u.right),u.bottom=Qi(f.bottom,u.bottom),u.left=ln(f.left,u.left),u},R_(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function EM(t){const{width:e,height:n}=gS(t);return{width:e,height:n}}function xM(t,e,n){const r=yr(e),i=Er(e),s=n==="fixed",o=Bs(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Xi(0);if(r||!r&&!s)if((Sa(e)!=="body"||Sc(i))&&(a=zh(e)),r){const g=Bs(e,!0,s,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&(l.x=Qm(i));let u=0,d=0;if(i&&!r&&!s){const g=i.getBoundingClientRect();d=g.top+a.scrollTop,u=g.left+a.scrollLeft-Qm(i,g)}const f=o.left+a.scrollLeft-l.x-u,h=o.top+a.scrollTop-l.y-d;return{x:f,y:h,width:o.width,height:o.height}}function yp(t){return Gn(t).position==="static"}function k_(t,e){if(!yr(t)||Gn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Er(t)===n&&(n=n.ownerDocument.body),n}function wS(t,e){const n=hn(t);if($h(t))return n;if(!yr(t)){let i=Zi(t);for(;i&&!aa(i);){if(qn(i)&&!yp(i))return i;i=Zi(i)}return n}let r=k_(t,e);for(;r&&uM(r)&&yp(r);)r=k_(r,e);return r&&aa(r)&&yp(r)&&!Vv(r)?n:r||dM(t)||n}const TM=async function(t){const e=this.getOffsetParent||wS,n=this.getDimensions,r=await n(t.floating);return{reference:xM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function bM(t){return Gn(t).direction==="rtl"}const SM={convertOffsetParentRelativeRectToViewportRelativeRect:pM,getDocumentElement:Er,getClippingRect:_M,getOffsetParent:wS,getElementRects:TM,getClientRects:mM,getDimensions:EM,getScale:jo,isElement:qn,isRTL:bM};function CM(t,e){let n=null,r;const i=Er(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:d,width:f,height:h}=t.getBoundingClientRect();if(a||e(),!f||!h)return;const g=Cu(d),v=Cu(i.clientWidth-(u+f)),y=Cu(i.clientHeight-(d+h)),x=Cu(u),E={rootMargin:-g+"px "+-v+"px "+-y+"px "+-x+"px",threshold:ln(0,Qi(1,l))||1};let b=!0;function A(D){const L=D[0].intersectionRatio;if(L!==l){if(!b)return o();L?o(!1,L):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(A,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,E)}n.observe(t)}return o(!0),s}function IM(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Uv(t),d=i||s?[...u?nc(u):[],...nc(e)]:[];d.forEach(T=>{i&&T.addEventListener("scroll",n,{passive:!0}),s&&T.addEventListener("resize",n)});const f=u&&a?CM(u,n):null;let h=-1,g=null;o&&(g=new ResizeObserver(T=>{let[E]=T;E&&E.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(e)})),n()}),u&&!l&&g.observe(u),g.observe(e));let v,y=l?Bs(t):null;l&&x();function x(){const T=Bs(t);y&&(T.x!==y.x||T.y!==y.y||T.width!==y.width||T.height!==y.height)&&n(),y=T,v=requestAnimationFrame(x)}return n(),()=>{var T;d.forEach(E=>{i&&E.removeEventListener("scroll",n),s&&E.removeEventListener("resize",n)}),f==null||f(),(T=g)==null||T.disconnect(),g=null,l&&cancelAnimationFrame(v)}}const PM=oM,AM=aM,RM=rM,kM=cM,NM=iM,N_=nM,DM=lM,OM=(t,e,n)=>{const r=new Map,i={platform:SM,...n},s={...i.platform,_c:r};return tM(t,e,{...i,platform:s})};var Zu=typeof document<"u"?w.useLayoutEffect:w.useEffect;function zd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!zd(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!zd(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function _S(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function D_(t,e){const n=_S(t);return Math.round(e*n)/n}function wp(t){const e=w.useRef(t);return Zu(()=>{e.current=t}),e}function MM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,f]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,g]=w.useState(r);zd(h,r)||g(r);const[v,y]=w.useState(null),[x,T]=w.useState(null),E=w.useCallback(M=>{M!==L.current&&(L.current=M,y(M))},[]),b=w.useCallback(M=>{M!==P.current&&(P.current=M,T(M))},[]),A=s||v,D=o||x,L=w.useRef(null),P=w.useRef(null),S=w.useRef(d),C=l!=null,R=wp(l),N=wp(i),O=wp(u),k=w.useCallback(()=>{if(!L.current||!P.current)return;const M={placement:e,strategy:n,middleware:h};N.current&&(M.platform=N.current),OM(L.current,P.current,M).then(W=>{const J={...W,isPositioned:O.current!==!1};H.current&&!zd(S.current,J)&&(S.current=J,Tc.flushSync(()=>{f(J)}))})},[h,e,n,N,O]);Zu(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const H=w.useRef(!1);Zu(()=>(H.current=!0,()=>{H.current=!1}),[]),Zu(()=>{if(A&&(L.current=A),D&&(P.current=D),A&&D){if(R.current)return R.current(A,D,k);k()}},[A,D,k,R,C]);const oe=w.useMemo(()=>({reference:L,floating:P,setReference:E,setFloating:b}),[E,b]),Z=w.useMemo(()=>({reference:A,floating:D}),[A,D]),z=w.useMemo(()=>{const M={position:n,left:0,top:0};if(!Z.floating)return M;const W=D_(Z.floating,d.x),J=D_(Z.floating,d.y);return a?{...M,transform:"translate("+W+"px, "+J+"px)",..._S(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:J}},[n,a,Z.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:k,refs:oe,elements:Z,floatingStyles:z}),[d,k,oe,Z,z])}const LM=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?N_({element:r.current,padding:i}).fn(n):{}:r?N_({element:r,padding:i}).fn(n):{}}}},jM=(t,e)=>({...PM(t),options:[t,e]}),VM=(t,e)=>({...AM(t),options:[t,e]}),FM=(t,e)=>({...DM(t),options:[t,e]}),UM=(t,e)=>({...RM(t),options:[t,e]}),BM=(t,e)=>({...kM(t),options:[t,e]}),$M=(t,e)=>({...NM(t),options:[t,e]}),zM=(t,e)=>({...LM(t),options:[t,e]});var WM="Arrow",ES=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return p.jsx(xe.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});ES.displayName=WM;var HM=ES;function qM(t,e=[]){let n=[];function r(s,o){const a=w.createContext(o),l=n.length;n=[...n,o];function u(f){const{scope:h,children:g,...v}=f,y=(h==null?void 0:h[t][l])||a,x=w.useMemo(()=>v,Object.values(v));return p.jsx(y.Provider,{value:x,children:g})}function d(f,h){const g=(h==null?void 0:h[t][l])||a,v=w.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,GM(i,...e)]}function GM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Bv(t){const[e,n]=w.useState(void 0);return Kr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var $v="Popper",[xS,Wh]=qM($v),[KM,TS]=xS($v),bS=t=>{const{__scopePopper:e,children:n}=t,[r,i]=w.useState(null);return p.jsx(KM,{scope:e,anchor:r,onAnchorChange:i,children:n})};bS.displayName=$v;var SS="PopperAnchor",CS=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=TS(SS,n),o=w.useRef(null),a=Be(e,o);return w.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.jsx(xe.div,{...i,ref:a})});CS.displayName=SS;var zv="PopperContent",[YM,QM]=xS(zv),IS=w.forwardRef((t,e)=>{var wt,Zn,er,nn,Tr,tr;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:v,...y}=t,x=TS(zv,n),[T,E]=w.useState(null),b=Be(e,An=>E(An)),[A,D]=w.useState(null),L=Bv(A),P=(L==null?void 0:L.width)??0,S=(L==null?void 0:L.height)??0,C=r+(s!=="center"?"-"+s:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],O=N.length>0,k={padding:R,boundary:N.filter(JM),altBoundary:O},{refs:H,floatingStyles:oe,placement:Z,isPositioned:z,middlewareData:M}=MM({strategy:"fixed",placement:C,whileElementsMounted:(...An)=>IM(...An,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[jM({mainAxis:i+S,alignmentAxis:o}),l&&VM({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?FM():void 0,...k}),l&&UM({...k}),BM({...k,apply:({elements:An,rects:br,availableWidth:ri,availableHeight:Rn})=>{const{width:Oa,height:Ma}=br.reference,Je=An.floating.style;Je.setProperty("--radix-popper-available-width",`${ri}px`),Je.setProperty("--radix-popper-available-height",`${Rn}px`),Je.setProperty("--radix-popper-anchor-width",`${Oa}px`),Je.setProperty("--radix-popper-anchor-height",`${Ma}px`)}}),A&&zM({element:A,padding:a}),ZM({arrowWidth:P,arrowHeight:S}),h&&$M({strategy:"referenceHidden",...k})]}),[W,J]=RS(Z),K=nt(v);Kr(()=>{z&&(K==null||K())},[z,K]);const ee=(wt=M.arrow)==null?void 0:wt.x,ne=(Zn=M.arrow)==null?void 0:Zn.y,De=((er=M.arrow)==null?void 0:er.centerOffset)!==0,[it,Te]=w.useState();return Kr(()=>{T&&Te(window.getComputedStyle(T).zIndex)},[T]),p.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:z?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:it,"--radix-popper-transform-origin":[(nn=M.transformOrigin)==null?void 0:nn.x,(Tr=M.transformOrigin)==null?void 0:Tr.y].join(" "),...((tr=M.hide)==null?void 0:tr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(YM,{scope:n,placedSide:W,onArrowChange:D,arrowX:ee,arrowY:ne,shouldHideArrow:De,children:p.jsx(xe.div,{"data-side":W,"data-align":J,...y,ref:b,style:{...y.style,animation:z?void 0:"none"}})})})});IS.displayName=zv;var PS="PopperArrow",XM={top:"bottom",right:"left",bottom:"top",left:"right"},AS=w.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=QM(PS,r),o=XM[s.placedSide];return p.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:p.jsx(HM,{...i,ref:n,style:{...i.style,display:"block"}})})});AS.displayName=PS;function JM(t){return t!==null}var ZM=t=>({name:"transformOrigin",options:t,fn(e){var x,T,E;const{placement:n,rects:r,middlewareData:i}=e,o=((x=i.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=RS(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((T=i.arrow)==null?void 0:T.x)??0)+a/2,g=(((E=i.arrow)==null?void 0:E.y)??0)+l/2;let v="",y="";return u==="bottom"?(v=o?f:`${h}px`,y=`${-l}px`):u==="top"?(v=o?f:`${h}px`,y=`${r.floating.height+l}px`):u==="right"?(v=`${-l}px`,y=o?f:`${g}px`):u==="left"&&(v=`${r.floating.width+l}px`,y=o?f:`${g}px`),{data:{x:v,y}}}});function RS(t){const[e,n="center"]=t.split("-");return[e,n]}var eL=bS,Wv=CS,kS=IS,NS=AS,[Hh,iz]=Xs("Tooltip",[Wh]),Hv=Wh(),DS="TooltipProvider",tL=700,O_="tooltip.open",[nL,OS]=Hh(DS),MS=t=>{const{__scopeTooltip:e,delayDuration:n=tL,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=w.useState(!0),l=w.useRef(!1),u=w.useRef(0);return w.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),p.jsx(nL,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:w.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};MS.displayName=DS;var LS="Tooltip",[sz,qh]=Hh(LS),Xm="TooltipTrigger",rL=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=qh(Xm,n),s=OS(Xm,n),o=Hv(n),a=w.useRef(null),l=Be(e,a,i.onTriggerChange),u=w.useRef(!1),d=w.useRef(!1),f=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),p.jsx(Wv,{asChild:!0,...o,children:p.jsx(xe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:ue(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:ue(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:ue(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ue(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:ue(t.onBlur,i.onClose),onClick:ue(t.onClick,i.onClose)})})});rL.displayName=Xm;var iL="TooltipPortal",[oz,sL]=Hh(iL,{forceMount:void 0}),la="TooltipContent",jS=w.forwardRef((t,e)=>{const n=sL(la,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=qh(la,t.__scopeTooltip);return p.jsx(Jn,{present:r||o.open,children:o.disableHoverableContent?p.jsx(VS,{side:i,...s,ref:e}):p.jsx(oL,{side:i,...s,ref:e})})}),oL=w.forwardRef((t,e)=>{const n=qh(la,t.__scopeTooltip),r=OS(la,t.__scopeTooltip),i=w.useRef(null),s=Be(e,i),[o,a]=w.useState(null),{trigger:l,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,h=w.useCallback(()=>{a(null),f(!1)},[f]),g=w.useCallback((v,y)=>{const x=v.currentTarget,T={x:v.clientX,y:v.clientY},E=uL(T,x.getBoundingClientRect()),b=dL(T,E),A=hL(y.getBoundingClientRect()),D=pL([...b,...A]);a(D),f(!0)},[f]);return w.useEffect(()=>()=>h(),[h]),w.useEffect(()=>{if(l&&d){const v=x=>g(x,d),y=x=>g(x,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",y)}}},[l,d,g,h]),w.useEffect(()=>{if(o){const v=y=>{const x=y.target,T={x:y.clientX,y:y.clientY},E=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),b=!fL(T,o);E?h():b&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,o,u,h]),p.jsx(VS,{...t,ref:s})}),[aL,lL]=Hh(LS,{isInside:!1}),VS=w.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=qh(la,n),u=Hv(n),{onClose:d}=l;return w.useEffect(()=>(document.addEventListener(O_,d),()=>document.removeEventListener(O_,d)),[d]),w.useEffect(()=>{if(l.trigger){const f=h=>{const g=h.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),p.jsx(Lh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:p.jsxs(kS,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(Tb,{children:r}),p.jsx(aL,{scope:n,isInside:!0,children:p.jsx(K2,{id:l.contentId,role:"tooltip",children:i||r})})]})})});jS.displayName=la;var FS="TooltipArrow",cL=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Hv(n);return lL(FS,n).isInside?null:p.jsx(NS,{...i,...r,ref:e})});cL.displayName=FS;function uL(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function dL(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function hL(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function fL(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function pL(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),mL(e)}function mL(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var gL=MS,US=jS;const vL=gL,yL=w.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(US,{ref:r,sideOffset:e,className:pe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));yL.displayName=US.displayName;var Gh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Kh=typeof window>"u"||"Deno"in globalThis;function On(){}function wL(t,e){return typeof t=="function"?t(e):t}function _L(t){return typeof t=="number"&&t>=0&&t!==1/0}function EL(t,e){return Math.max(t+(e||0)-Date.now(),0)}function M_(t,e){return typeof t=="function"?t(e):t}function xL(t,e){return typeof t=="function"?t(e):t}function L_(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==qv(o,e.options))return!1}else if(!ic(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function j_(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(rc(e.options.mutationKey)!==rc(s))return!1}else if(!ic(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function qv(t,e){return((e==null?void 0:e.queryKeyHashFn)||rc)(t)}function rc(t){return JSON.stringify(t,(e,n)=>Jm(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function ic(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!ic(t[n],e[n])):!1}function BS(t,e){if(t===e)return t;const n=V_(t)&&V_(e);if(n||Jm(t)&&Jm(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const d=n?u:s[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=BS(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function V_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Jm(t){if(!F_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!F_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function F_(t){return Object.prototype.toString.call(t)==="[object Object]"}function TL(t){return new Promise(e=>{setTimeout(e,t)})}function bL(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?BS(t,e):e}function SL(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function CL(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Gv=Symbol();function $S(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Gv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Rs,Si,Wo,JE,IL=(JE=class extends Gh{constructor(){super();be(this,Rs);be(this,Si);be(this,Wo);he(this,Wo,e=>{if(!Kh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,Si)||this.setEventListener(B(this,Wo))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,Si))==null||e.call(this),he(this,Si,void 0))}setEventListener(e){var n;he(this,Wo,e),(n=B(this,Si))==null||n.call(this),he(this,Si,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){B(this,Rs)!==e&&(he(this,Rs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof B(this,Rs)=="boolean"?B(this,Rs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Rs=new WeakMap,Si=new WeakMap,Wo=new WeakMap,JE),zS=new IL,Ho,Ci,qo,ZE,PL=(ZE=class extends Gh{constructor(){super();be(this,Ho,!0);be(this,Ci);be(this,qo);he(this,qo,e=>{if(!Kh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,Ci)||this.setEventListener(B(this,qo))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,Ci))==null||e.call(this),he(this,Ci,void 0))}setEventListener(e){var n;he(this,qo,e),(n=B(this,Ci))==null||n.call(this),he(this,Ci,e(this.setOnline.bind(this)))}setOnline(e){B(this,Ho)!==e&&(he(this,Ho,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return B(this,Ho)}},Ho=new WeakMap,Ci=new WeakMap,qo=new WeakMap,ZE),Wd=new PL;function AL(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function RL(t){return Math.min(1e3*2**t,3e4)}function WS(t){return(t??"online")==="online"?Wd.isOnline():!0}var HS=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function _p(t){return t instanceof HS}function qS(t){let e=!1,n=0,r=!1,i;const s=AL(),o=y=>{var x;r||(h(new HS(y)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>zS.isFocused()&&(t.networkMode==="always"||Wd.isOnline())&&t.canRun(),d=()=>WS(t.networkMode)&&t.canRun(),f=y=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,y),i==null||i(),s.resolve(y))},h=y=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,y),i==null||i(),s.reject(y))},g=()=>new Promise(y=>{var x;i=T=>{(r||u())&&y(T)},(x=t.onPause)==null||x.call(t)}).then(()=>{var y;i=void 0,r||(y=t.onContinue)==null||y.call(t)}),v=()=>{if(r)return;let y;const x=n===0?t.initialPromise:void 0;try{y=x??t.fn()}catch(T){y=Promise.reject(T)}Promise.resolve(y).then(f).catch(T=>{var L;if(r)return;const E=t.retry??(Kh?0:3),b=t.retryDelay??RL,A=typeof b=="function"?b(n,T):b,D=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,T);if(e||!D){h(T);return}n++,(L=t.onFail)==null||L.call(t,n,T),TL(A).then(()=>u()?void 0:g()).then(()=>{e?h(T):v()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?v():g().then(v),s)}}function kL(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Vt=kL(),ks,ex,GS=(ex=class{constructor(){be(this,ks)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_L(this.gcTime)&&he(this,ks,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Kh?1/0:5*60*1e3))}clearGcTimeout(){B(this,ks)&&(clearTimeout(B(this,ks)),he(this,ks,void 0))}},ks=new WeakMap,ex),Go,Ko,vn,It,gc,Ns,Mn,kr,tx,NL=(tx=class extends GS{constructor(n){super();be(this,Mn);be(this,Go);be(this,Ko);be(this,vn);be(this,It);be(this,gc);be(this,Ns);he(this,Ns,!1),he(this,gc,n.defaultOptions),this.setOptions(n.options),this.observers=[],he(this,vn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,he(this,Go,OL(this.options)),this.state=n.state??B(this,Go),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=B(this,It))==null?void 0:n.promise}setOptions(n){this.options={...B(this,gc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,vn).remove(this)}setData(n,r){const i=bL(this.state.data,n,this.options);return Tt(this,Mn,kr).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Tt(this,Mn,kr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=B(this,It))==null?void 0:i.promise;return(s=B(this,It))==null||s.cancel(n),r?r.then(On).catch(On):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,Go))}isActive(){return this.observers.some(n=>xL(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Gv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!EL(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,It))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,It))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),B(this,vn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(B(this,It)&&(B(this,Ns)?B(this,It).cancel({revert:!0}):B(this,It).cancelRetry()),this.scheduleGc()),B(this,vn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Tt(this,Mn,kr).call(this,{type:"invalidate"})}fetch(n,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(B(this,It))return B(this,It).continueRetry(),B(this,It).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(g=>g.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(he(this,Ns,!0),i.signal)})},o=()=>{const h=$S(this.options,r),g={queryKey:this.queryKey,meta:this.meta};return s(g),he(this,Ns,!1),this.options.persister?this.options.persister(h,g,this):h(g)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(u=this.options.behavior)==null||u.onFetch(a,this),he(this,Ko,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Tt(this,Mn,kr).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=h=>{var g,v,y,x;_p(h)&&h.silent||Tt(this,Mn,kr).call(this,{type:"error",error:h}),_p(h)||((v=(g=B(this,vn).config).onError)==null||v.call(g,h,this),(x=(y=B(this,vn).config).onSettled)==null||x.call(y,this.state.data,h,this)),this.scheduleGc()};return he(this,It,qS({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var g,v,y,x;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(T){l(T);return}(v=(g=B(this,vn).config).onSuccess)==null||v.call(g,h,this),(x=(y=B(this,vn).config).onSettled)==null||x.call(y,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,g)=>{Tt(this,Mn,kr).call(this,{type:"failed",failureCount:h,error:g})},onPause:()=>{Tt(this,Mn,kr).call(this,{type:"pause"})},onContinue:()=>{Tt(this,Mn,kr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),B(this,It).start()}},Go=new WeakMap,Ko=new WeakMap,vn=new WeakMap,It=new WeakMap,gc=new WeakMap,Ns=new WeakMap,Mn=new WeakSet,kr=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...DL(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return _p(s)&&s.revert&&B(this,Ko)?{...B(this,Ko),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Vt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),B(this,vn).notify({query:this,type:"updated",action:n})})},tx);function DL(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:WS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function OL(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ar,nx,ML=(nx=class extends Gh{constructor(e={}){super();be(this,ar);this.config=e,he(this,ar,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??qv(i,n);let o=this.get(s);return o||(o=new NL({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){B(this,ar).has(e.queryHash)||(B(this,ar).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=B(this,ar).get(e.queryHash);n&&(e.destroy(),n===e&&B(this,ar).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Vt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return B(this,ar).get(e)}getAll(){return[...B(this,ar).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>L_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>L_(e,r)):n}notify(e){Vt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Vt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Vt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ar=new WeakMap,nx),lr,Mt,Ds,cr,mi,rx,LL=(rx=class extends GS{constructor(n){super();be(this,cr);be(this,lr);be(this,Mt);be(this,Ds);this.mutationId=n.mutationId,he(this,Mt,n.mutationCache),he(this,lr,[]),this.state=n.state||jL(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){B(this,lr).includes(n)||(B(this,lr).push(n),this.clearGcTimeout(),B(this,Mt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){he(this,lr,B(this,lr).filter(r=>r!==n)),this.scheduleGc(),B(this,Mt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){B(this,lr).length||(this.state.status==="pending"?this.scheduleGc():B(this,Mt).remove(this))}continue(){var n;return((n=B(this,Ds))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,l,u,d,f,h,g,v,y,x,T,E,b,A,D,L,P,S;he(this,Ds,qS({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(C,R)=>{Tt(this,cr,mi).call(this,{type:"failed",failureCount:C,error:R})},onPause:()=>{Tt(this,cr,mi).call(this,{type:"pause"})},onContinue:()=>{Tt(this,cr,mi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,Mt).canRun(this)}));const r=this.state.status==="pending",i=!B(this,Ds).canStart();try{if(!r){Tt(this,cr,mi).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=B(this,Mt).config).onMutate)==null?void 0:o.call(s,n,this));const R=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));R!==this.state.context&&Tt(this,cr,mi).call(this,{type:"pending",context:R,variables:n,isPaused:i})}const C=await B(this,Ds).start();return await((d=(u=B(this,Mt).config).onSuccess)==null?void 0:d.call(u,C,n,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,C,n,this.state.context)),await((v=(g=B(this,Mt).config).onSettled)==null?void 0:v.call(g,C,null,this.state.variables,this.state.context,this)),await((x=(y=this.options).onSettled)==null?void 0:x.call(y,C,null,n,this.state.context)),Tt(this,cr,mi).call(this,{type:"success",data:C}),C}catch(C){try{throw await((E=(T=B(this,Mt).config).onError)==null?void 0:E.call(T,C,n,this.state.context,this)),await((A=(b=this.options).onError)==null?void 0:A.call(b,C,n,this.state.context)),await((L=(D=B(this,Mt).config).onSettled)==null?void 0:L.call(D,void 0,C,this.state.variables,this.state.context,this)),await((S=(P=this.options).onSettled)==null?void 0:S.call(P,void 0,C,n,this.state.context)),C}finally{Tt(this,cr,mi).call(this,{type:"error",error:C})}}finally{B(this,Mt).runNext(this)}}},lr=new WeakMap,Mt=new WeakMap,Ds=new WeakMap,cr=new WeakSet,mi=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Vt.batch(()=>{B(this,lr).forEach(i=>{i.onMutationUpdate(n)}),B(this,Mt).notify({mutation:this,type:"updated",action:n})})},rx);function jL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var sn,vc,ix,VL=(ix=class extends Gh{constructor(e={}){super();be(this,sn);be(this,vc);this.config=e,he(this,sn,new Map),he(this,vc,Date.now())}build(e,n,r){const i=new LL({mutationCache:this,mutationId:++su(this,vc)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Iu(e),r=B(this,sn).get(n)??[];r.push(e),B(this,sn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Iu(e);if(B(this,sn).has(n)){const i=(r=B(this,sn).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?B(this,sn).delete(n):B(this,sn).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=B(this,sn).get(Iu(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=B(this,sn).get(Iu(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Vt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...B(this,sn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>j_(n,r))}findAll(e={}){return this.getAll().filter(n=>j_(e,n))}notify(e){Vt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Vt.batch(()=>Promise.all(e.map(n=>n.continue().catch(On))))}},sn=new WeakMap,vc=new WeakMap,ix);function Iu(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function U_(t){return{onFetch:(e,n)=>{var d,f,h,g,v;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((g=e.state.data)==null?void 0:g.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},T=$S(e.options,e.fetchOptions),E=async(b,A,D)=>{if(y)return Promise.reject();if(A==null&&b.pages.length)return Promise.resolve(b);const L={queryKey:e.queryKey,pageParam:A,direction:D?"backward":"forward",meta:e.options.meta};x(L);const P=await T(L),{maxPages:S}=e.options,C=D?CL:SL;return{pages:C(b.pages,P,S),pageParams:C(b.pageParams,A,S)}};if(i&&s.length){const b=i==="backward",A=b?FL:B_,D={pages:s,pageParams:o},L=A(r,D);a=await E(D,L,b)}else{const b=t??s.length;do{const A=l===0?o[0]??r.initialPageParam:B_(r,a);if(l>0&&A==null)break;a=await E(a,A),l++}while(l<b)}return a};e.options.persister?e.fetchFn=()=>{var y,x;return(x=(y=e.options).persister)==null?void 0:x.call(y,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function B_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function FL(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ke,Ii,Pi,Yo,Qo,Ai,Xo,Jo,sx,UL=(sx=class{constructor(t={}){be(this,Ke);be(this,Ii);be(this,Pi);be(this,Yo);be(this,Qo);be(this,Ai);be(this,Xo);be(this,Jo);he(this,Ke,t.queryCache||new ML),he(this,Ii,t.mutationCache||new VL),he(this,Pi,t.defaultOptions||{}),he(this,Yo,new Map),he(this,Qo,new Map),he(this,Ai,0)}mount(){su(this,Ai)._++,B(this,Ai)===1&&(he(this,Xo,zS.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,Ke).onFocus())})),he(this,Jo,Wd.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,Ke).onOnline())})))}unmount(){var t,e;su(this,Ai)._--,B(this,Ai)===0&&((t=B(this,Xo))==null||t.call(this),he(this,Xo,void 0),(e=B(this,Jo))==null||e.call(this),he(this,Jo,void 0))}isFetching(t){return B(this,Ke).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return B(this,Ii).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,Ke).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=B(this,Ke).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(M_(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return B(this,Ke).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=B(this,Ke).get(r.queryHash),s=i==null?void 0:i.state.data,o=wL(e,s);if(o!==void 0)return B(this,Ke).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Vt.batch(()=>B(this,Ke).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,Ke).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=B(this,Ke);Vt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=B(this,Ke),r={type:"active",...t};return Vt.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Vt.batch(()=>B(this,Ke).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(On).catch(On)}invalidateQueries(t={},e={}){return Vt.batch(()=>{if(B(this,Ke).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Vt.batch(()=>B(this,Ke).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(On)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(On)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=B(this,Ke).build(this,e);return n.isStaleByTime(M_(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(On).catch(On)}fetchInfiniteQuery(t){return t.behavior=U_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(On).catch(On)}ensureInfiniteQueryData(t){return t.behavior=U_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Wd.isOnline()?B(this,Ii).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,Ke)}getMutationCache(){return B(this,Ii)}getDefaultOptions(){return B(this,Pi)}setDefaultOptions(t){he(this,Pi,t)}setQueryDefaults(t,e){B(this,Yo).set(rc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...B(this,Yo).values()];let n={};return e.forEach(r=>{ic(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){B(this,Qo).set(rc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...B(this,Qo).values()];let n={};return e.forEach(r=>{ic(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...B(this,Pi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=qv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Gv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...B(this,Pi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){B(this,Ke).clear(),B(this,Ii).clear()}},Ke=new WeakMap,Ii=new WeakMap,Pi=new WeakMap,Yo=new WeakMap,Qo=new WeakMap,Ai=new WeakMap,Xo=new WeakMap,Jo=new WeakMap,sx),BL=w.createContext(void 0),$L=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(BL.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hd(){return Hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hd.apply(this,arguments)}var Ni;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ni||(Ni={}));const $_="popstate";function zL(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Zm("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:YS(i)}return HL(e,n,null,t)}function tn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function KS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WL(){return Math.random().toString(36).substr(2,8)}function z_(t,e){return{usr:t.state,key:t.key,idx:e}}function Zm(t,e,n,r){return n===void 0&&(n=null),Hd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Yh(e):e,{state:n,key:e&&e.key||r||WL()})}function YS(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Yh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function HL(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ni.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Hd({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Ni.Pop;let x=d(),T=x==null?null:x-u;u=x,l&&l({action:a,location:y.location,delta:T})}function h(x,T){a=Ni.Push;let E=Zm(y.location,x,T);u=d()+1;let b=z_(E,u),A=y.createHref(E);try{o.pushState(b,"",A)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(A)}s&&l&&l({action:a,location:y.location,delta:1})}function g(x,T){a=Ni.Replace;let E=Zm(y.location,x,T);u=d();let b=z_(E,u),A=y.createHref(E);o.replaceState(b,"",A),s&&l&&l({action:a,location:y.location,delta:0})}function v(x){let T=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof x=="string"?x:YS(x);return E=E.replace(/ $/,"%20"),tn(T,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,T)}let y={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener($_,f),l=x,()=>{i.removeEventListener($_,f),l=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let T=v(x);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:h,replace:g,go(x){return o.go(x)}};return y}var W_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(W_||(W_={}));function qL(t,e,n){return n===void 0&&(n="/"),GL(t,e,n,!1)}function GL(t,e,n,r){let i=typeof e=="string"?Yh(e):e,s=JS(i.pathname||"/",n);if(s==null)return null;let o=QS(t);KL(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=s4(s);a=r4(o[l],u,r)}return a}function QS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(tn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Vo([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(tn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),QS(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:t4(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of XS(s.path))i(s,o,l)}),e}function XS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=XS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function KL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:n4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const YL=/^:[\w-]+$/,QL=3,XL=2,JL=1,ZL=10,e4=-2,H_=t=>t==="*";function t4(t,e){let n=t.split("/"),r=n.length;return n.some(H_)&&(r+=e4),e&&(r+=XL),n.filter(i=>!H_(i)).reduce((i,s)=>i+(YL.test(s)?QL:s===""?JL:ZL),r)}function n4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function r4(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=q_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=q_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Vo([s,f.pathname]),pathnameBase:o4(Vo([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Vo([s,f.pathnameBase]))}return o}function q_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=i4(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let y=a[f]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const v=a[f];return g&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function i4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),KS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function s4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return KS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function JS(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Vo=t=>t.join("/").replace(/\/\/+/g,"/"),o4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function a4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ZS=["post","put","patch","delete"];new Set(ZS);const l4=["get",...ZS];new Set(l4);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qd(){return qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qd.apply(this,arguments)}const c4=w.createContext(null),u4=w.createContext(null),eC=w.createContext(null),Qh=w.createContext(null),Xh=w.createContext({outlet:null,matches:[],isDataRoute:!1}),tC=w.createContext(null);function Kv(){return w.useContext(Qh)!=null}function nC(){return Kv()||tn(!1),w.useContext(Qh).location}function d4(t,e){return h4(t,e)}function h4(t,e,n,r){Kv()||tn(!1);let{navigator:i}=w.useContext(eC),{matches:s}=w.useContext(Xh),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=nC(),d;if(e){var f;let x=typeof e=="string"?Yh(e):e;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||tn(!1),d=x}else d=u;let h=d.pathname||"/",g=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=qL(t,{pathname:g}),y=v4(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Vo([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Vo([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&y?w.createElement(Qh.Provider,{value:{location:qd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ni.Pop}},y):y}function f4(){let t=E4(),e=a4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,null)}const p4=w.createElement(f4,null);class m4 extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(Xh.Provider,{value:this.props.routeContext},w.createElement(tC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function g4(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(c4);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Xh.Provider,{value:e},r)}function v4(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||tn(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:g}=n,v=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let g,v=!1,y=null,x=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||p4,l&&(u<0&&h===0?(v=!0,x=null):u===h&&(v=!0,x=f.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,h+1)),E=()=>{let b;return g?b=y:v?b=x:f.route.Component?b=w.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,w.createElement(g4,{match:f,routeContext:{outlet:d,matches:T,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(m4,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:E(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):E()},null)}var eg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(eg||{});function y4(t){let e=w.useContext(u4);return e||tn(!1),e}function w4(t){let e=w.useContext(Xh);return e||tn(!1),e}function _4(t){let e=w4(),n=e.matches[e.matches.length-1];return n.route.id||tn(!1),n.route.id}function E4(){var t;let e=w.useContext(tC),n=y4(eg.UseRouteError),r=_4(eg.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function tg(t){tn(!1)}function x4(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ni.Pop,navigator:s,static:o=!1,future:a}=t;Kv()&&tn(!1);let l=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:s,static:o,future:qd({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Yh(r));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:v="default"}=r,y=w.useMemo(()=>{let x=JS(d,l);return x==null?null:{location:{pathname:x,search:f,hash:h,state:g,key:v},navigationType:i}},[l,d,f,h,g,v,i]);return y==null?null:w.createElement(eC.Provider,{value:u},w.createElement(Qh.Provider,{children:n,value:y}))}function T4(t){let{children:e,location:n}=t;return d4(ng(e),n)}new Promise(()=>{});function ng(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let s=[...e,i];if(r.type===w.Fragment){n.push.apply(n,ng(r.props.children,s));return}r.type!==tg&&tn(!1),!r.props.index||!r.props.children||tn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ng(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const b4="6";try{window.__reactRouterVersion=b4}catch{}const S4="startTransition",G_=vx[S4];function C4(t){let{basename:e,children:n,future:r,window:i}=t,s=w.useRef();s.current==null&&(s.current=zL({window:i,v5Compat:!0}));let o=s.current,[a,l]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=w.useCallback(f=>{u&&G_?G_(()=>l(f)):l(f)},[l,u]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.createElement(x4,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var K_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(K_||(K_={}));var Y_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Y_||(Y_={}));const I4=()=>{};var Q_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},P4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},iC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(h=64)),r.push(n[d],n[f],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):P4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new A4;const h=s<<2|a>>4;if(r.push(h),u!==64){const g=a<<4&240|u>>2;if(r.push(g),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class A4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const R4=function(t){const e=rC(t);return iC.encodeByteArray(e,!0)},Gd=function(t){return R4(t).replace(/\./g,"")},sC=function(t){try{return iC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=()=>k4().__FIREBASE_DEFAULTS__,D4=()=>{if(typeof process>"u"||typeof Q_>"u")return;const t=Q_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},O4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sC(t[1]);return e&&JSON.parse(e)},Jh=()=>{try{return I4()||N4()||D4()||O4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oC=t=>{var e,n;return(n=(e=Jh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},M4=t=>{const e=oC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},aC=()=>{var t;return(t=Jh())===null||t===void 0?void 0:t.config},lC=t=>{var e;return(e=Jh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t){return t.endsWith(".cloudworkstations.dev")}async function cC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Gd(JSON.stringify(n)),Gd(JSON.stringify(o)),""].join(".")}const Rl={};function V4(){const t={prod:[],emulator:[]};for(const e of Object.keys(Rl))Rl[e]?t.emulator.push(e):t.prod.push(e);return t}function F4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let X_=!1;function uC(t,e){if(typeof window>"u"||typeof document>"u"||!Ca(window.location.host)||Rl[t]===e||Rl[t]||X_)return;Rl[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=V4().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,g){h.setAttribute("width","24"),h.setAttribute("id",g),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{X_=!0,o()},h}function d(h,g){h.setAttribute("id",g),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=F4(r),g=n("text"),v=document.getElementById(g)||document.createElement("span"),y=n("learnmore"),x=document.getElementById(y)||document.createElement("a"),T=n("preprendIcon"),E=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;a(b),d(x,y);const A=u();l(E,T),b.append(E,v,x,A),document.body.appendChild(b)}s?(v.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function B4(){var t;const e=(t=Jh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function z4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function W4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function H4(){const t=Nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function q4(){return!B4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G4(){try{return typeof indexedDB=="object"}catch{return!1}}function K4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4="FirebaseError";class ni extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Y4,Object.setPrototypeOf(this,ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cc.prototype.create)}}class Cc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Q4(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ni(i,a,r)}}function Q4(t,e){return t.replace(X4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const X4=/\{\$([^}]+)}/g;function J4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $s(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(J_(s)&&J_(o)){if(!$s(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function J_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ml(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Z4(t,e){const n=new ej(t,e);return n.subscribe.bind(n)}class ej{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ep),i.error===void 0&&(i.error=Ep),i.complete===void 0&&(i.complete=Ep);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ep(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class zs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new L4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ij(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xs){return this.instances.has(e)}getOptions(e=xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xs){return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rj(t){return t===xs?void 0:t}function ij(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const oj={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},aj=ge.INFO,lj={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},cj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=lj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yv{constructor(e){this.name=e,this._logLevel=aj,this._logHandler=cj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const uj=(t,e)=>e.some(n=>t instanceof n);let Z_,e1;function dj(){return Z_||(Z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hj(){return e1||(e1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dC=new WeakMap,rg=new WeakMap,hC=new WeakMap,xp=new WeakMap,Qv=new WeakMap;function fj(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n($i(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&dC.set(n,t)}).catch(()=>{}),Qv.set(e,t),e}function pj(t){if(rg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});rg.set(t,e)}let ig={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $i(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mj(t){ig=t(ig)}function gj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Tp(this),e,...n);return hC.set(r,e.sort?e.sort():[e]),$i(r)}:hj().includes(t)?function(...e){return t.apply(Tp(this),e),$i(dC.get(this))}:function(...e){return $i(t.apply(Tp(this),e))}}function vj(t){return typeof t=="function"?gj(t):(t instanceof IDBTransaction&&pj(t),uj(t,dj())?new Proxy(t,ig):t)}function $i(t){if(t instanceof IDBRequest)return fj(t);if(xp.has(t))return xp.get(t);const e=vj(t);return e!==t&&(xp.set(t,e),Qv.set(e,t)),e}const Tp=t=>Qv.get(t);function yj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=$i(o);return r&&o.addEventListener("upgradeneeded",l=>{r($i(o.result),l.oldVersion,l.newVersion,$i(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const wj=["get","getKey","getAll","getAllKeys","count"],_j=["put","add","delete","clear"],bp=new Map;function t1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bp.get(e))return bp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_j.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wj.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return bp.set(e,s),s}mj(t=>({...t,get:(e,n,r)=>t1(e,n)||t.get(e,n,r),has:(e,n)=>!!t1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sg="@firebase/app",n1="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new Yv("@firebase/app"),Tj="@firebase/app-compat",bj="@firebase/analytics-compat",Sj="@firebase/analytics",Cj="@firebase/app-check-compat",Ij="@firebase/app-check",Pj="@firebase/auth",Aj="@firebase/auth-compat",Rj="@firebase/database",kj="@firebase/data-connect",Nj="@firebase/database-compat",Dj="@firebase/functions",Oj="@firebase/functions-compat",Mj="@firebase/installations",Lj="@firebase/installations-compat",jj="@firebase/messaging",Vj="@firebase/messaging-compat",Fj="@firebase/performance",Uj="@firebase/performance-compat",Bj="@firebase/remote-config",$j="@firebase/remote-config-compat",zj="@firebase/storage",Wj="@firebase/storage-compat",Hj="@firebase/firestore",qj="@firebase/ai",Gj="@firebase/firestore-compat",Kj="firebase",Yj="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="[DEFAULT]",Qj={[sg]:"fire-core",[Tj]:"fire-core-compat",[Sj]:"fire-analytics",[bj]:"fire-analytics-compat",[Ij]:"fire-app-check",[Cj]:"fire-app-check-compat",[Pj]:"fire-auth",[Aj]:"fire-auth-compat",[Rj]:"fire-rtdb",[kj]:"fire-data-connect",[Nj]:"fire-rtdb-compat",[Dj]:"fire-fn",[Oj]:"fire-fn-compat",[Mj]:"fire-iid",[Lj]:"fire-iid-compat",[jj]:"fire-fcm",[Vj]:"fire-fcm-compat",[Fj]:"fire-perf",[Uj]:"fire-perf-compat",[Bj]:"fire-rc",[$j]:"fire-rc-compat",[zj]:"fire-gcs",[Wj]:"fire-gcs-compat",[Hj]:"fire-fst",[Gj]:"fire-fst-compat",[qj]:"fire-vertex","fire-js":"fire-js",[Kj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=new Map,Xj=new Map,ag=new Map;function r1(t,e){try{t.container.addComponent(e)}catch(n){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ca(t){const e=t.name;if(ag.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;ag.set(e,t);for(const n of Kd.values())r1(n,t);for(const n of Xj.values())r1(n,t);return!0}function Xv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zi=new Cc("app","Firebase",Jj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=Yj;function fC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:og,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw zi.create("bad-app-name",{appName:String(i)});if(n||(n=aC()),!n)throw zi.create("no-options");const s=Kd.get(i);if(s){if($s(n,s.options)&&$s(r,s.config))return s;throw zi.create("duplicate-app",{appName:i})}const o=new sj(i);for(const l of ag.values())o.addComponent(l);const a=new Zj(n,r,o);return Kd.set(i,a),a}function pC(t=og){const e=Kd.get(t);if(!e&&t===og&&aC())return fC();if(!e)throw zi.create("no-app",{appName:t});return e}function Wi(t,e,n){var r;let i=(r=Qj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(a.join(" "));return}ca(new zs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV="firebase-heartbeat-database",tV=1,sc="firebase-heartbeat-store";let Sp=null;function mC(){return Sp||(Sp=yj(eV,tV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sc)}catch(n){console.warn(n)}}}}).catch(t=>{throw zi.create("idb-open",{originalErrorMessage:t.message})})),Sp}async function nV(t){try{const n=(await mC()).transaction(sc),r=await n.objectStore(sc).get(gC(t));return await n.done,r}catch(e){if(e instanceof ni)Xr.warn(e.message);else{const n=zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xr.warn(n.message)}}}async function i1(t,e){try{const r=(await mC()).transaction(sc,"readwrite");await r.objectStore(sc).put(e,gC(t)),await r.done}catch(n){if(n instanceof ni)Xr.warn(n.message);else{const r=zi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xr.warn(r.message)}}}function gC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=1024,iV=30;class sV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=s1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>iV){const o=lV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Xr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=s1(),{heartbeatsToSend:r,unsentEntries:i}=oV(this._heartbeatsCache.heartbeats),s=Gd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Xr.warn(n),""}}}function s1(){return new Date().toISOString().substring(0,10)}function oV(t,e=rV){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),o1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),o1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return G4()?K4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return i1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return i1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function o1(t){return Gd(JSON.stringify({version:2,heartbeats:t})).length}function lV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(t){ca(new zs("platform-logger",e=>new Ej(e),"PRIVATE")),ca(new zs("heartbeat",e=>new sV(e),"PRIVATE")),Wi(sg,n1,t),Wi(sg,n1,"esm2017"),Wi("fire-js","")}cV("");var dr=function(){return dr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dr.apply(this,arguments)};function Pc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function uV(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function vC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dV=vC,yC=new Cc("auth","Firebase",vC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=new Yv("@firebase/auth");function hV(t,...e){Yd.logLevel<=ge.WARN&&Yd.warn(`Auth (${Ia}): ${t}`,...e)}function ed(t,...e){Yd.logLevel<=ge.ERROR&&Yd.error(`Auth (${Ia}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t,...e){throw Zv(t,...e)}function $n(t,...e){return Zv(t,...e)}function Jv(t,e,n){const r=Object.assign(Object.assign({},dV()),{[e]:n});return new Cc("auth","Firebase",r).create(e,{appName:t.name})}function $r(t){return Jv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&In(t,"argument-error"),Jv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yC.create(t,...e)}function re(t,e,...n){if(!t)throw Zv(e,...n)}function jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ed(e),new Error(e)}function Jr(t,e){t||jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function pV(){return a1()==="http:"||a1()==="https:"}function a1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pV()||z4()||"connection"in navigator)?navigator.onLine:!0}function gV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jr(n>e,"Short delay should be less than long delay!"),this.isMobile=U4()||W4()}get(){return mV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(t,e){Jr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wV=new Ac(3e4,6e4);function us(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ds(t,e,n,r,i={}){return _C(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ic(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return $4()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ca(t.emulatorConfig.host)&&(u.credentials="include"),wC.fetch()(await EC(t,t.config.apiHost,n,a),u)})}async function _C(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},vV),e);try{const i=new EV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Pu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Pu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Pu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Jv(t,d,u);In(t,d)}}catch(i){if(i instanceof ni)throw i;In(t,"network-request-failed",{message:String(i)})}}async function Rc(t,e,n,r,i={}){const s=await ds(t,e,n,r,i);return"mfaPendingCredential"in s&&In(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function EC(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?ey(t.config,i):`${t.config.apiScheme}://${i}`;return yV.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function _V(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($n(this.auth,"network-request-failed")),wV.get())})}}function Pu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=$n(t,e,r);return i.customData._tokenResponse=n,i}function l1(t){return t!==void 0&&t.enterprise!==void 0}class xV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _V(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function TV(t,e){return ds(t,"GET","/v2/recaptchaConfig",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(t,e){return ds(t,"POST","/v1/accounts:delete",e)}async function Qd(t,e){return ds(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SV(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),i=ty(r);re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:kl(Cp(i.auth_time)),issuedAtTime:kl(Cp(i.iat)),expirationTime:kl(Cp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Cp(t){return Number(t)*1e3}function ty(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ed("JWT malformed, contained fewer than 3 sections"),null;try{const i=sC(n);return i?JSON.parse(i):(ed("Failed to decode base64 JWT payload"),null)}catch(i){return ed("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function c1(t){const e=ty(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ni&&CV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function CV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await oc(t,Qd(n,{idToken:r}));re(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?xC(s.providerUserInfo):[],a=AV(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new cg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function PV(t){const e=Dt(t);await Xd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function xC(t){return t.map(e=>{var{providerId:n}=e,r=Pc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RV(t,e){const n=await _C(t,{},async()=>{const r=Ic({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await EC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Ca(t.emulatorConfig.host)&&(l.credentials="include"),wC.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kV(t,e){return ds(t,"POST","/v2/accounts:revokeToken",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):c1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=c1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await RV(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Fo;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(re(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Vn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Pc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new cg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await oc(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return SV(this,e)}reload(){return PV(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cn(this.auth.app))return Promise.reject($r(this.auth));const e=await this.getIdToken();return await oc(this,bV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,E=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:b,emailVerified:A,isAnonymous:D,providerData:L,stsTokenManager:P}=n;re(b&&P,e,"internal-error");const S=Fo.fromJSON(this.name,P);re(typeof b=="string",e,"internal-error"),fi(f,e.name),fi(h,e.name),re(typeof A=="boolean",e,"internal-error"),re(typeof D=="boolean",e,"internal-error"),fi(g,e.name),fi(v,e.name),fi(y,e.name),fi(x,e.name),fi(T,e.name),fi(E,e.name);const C=new Vn({uid:b,auth:e,email:h,emailVerified:A,displayName:f,isAnonymous:D,photoURL:v,phoneNumber:g,tenantId:y,stsTokenManager:S,createdAt:T,lastLoginAt:E});return L&&Array.isArray(L)&&(C.providerData=L.map(R=>Object.assign({},R))),x&&(C._redirectEventId=x),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Fo;i.updateFromServerResponse(n);const s=new Vn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];re(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?xC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Fo;a.updateFromIdToken(r);const l=new Vn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new cg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=new Map;function Vr(t){Jr(t instanceof Function,"Expected a class definition");let e=u1.get(t);return e?(Jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,u1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TC.type="NONE";const d1=TC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(t,e,n){return`firebase:${t}:${e}:${n}`}class Uo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=td(this.userKey,i.apiKey,s),this.fullPersistenceKey=td("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Qd(this.auth,{idToken:e}).catch(()=>{});return n?Vn._fromGetAccountInfoResponse(this.auth,n,e):null}return Vn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Uo(Vr(d1),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Vr(d1);const o=td(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const h=await Qd(e,{idToken:d}).catch(()=>{});if(!h)break;f=await Vn._fromGetAccountInfoResponse(e,h,d)}else f=Vn._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Uo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Uo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AC(e))return"Blackberry";if(RC(e))return"Webos";if(SC(e))return"Safari";if((e.includes("chrome/")||CC(e))&&!e.includes("edge/"))return"Chrome";if(PC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function bC(t=Nt()){return/firefox\//i.test(t)}function SC(t=Nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CC(t=Nt()){return/crios\//i.test(t)}function IC(t=Nt()){return/iemobile/i.test(t)}function PC(t=Nt()){return/android/i.test(t)}function AC(t=Nt()){return/blackberry/i.test(t)}function RC(t=Nt()){return/webos/i.test(t)}function ny(t=Nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function NV(t=Nt()){var e;return ny(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DV(){return H4()&&document.documentMode===10}function kC(t=Nt()){return ny(t)||PC(t)||RC(t)||AC(t)||/windows phone/i.test(t)||IC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t,e=[]){let n;switch(t){case"Browser":n=h1(Nt());break;case"Worker":n=`${h1(Nt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ia}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MV(t,e={}){return ds(t,"GET","/v2/passwordPolicy",us(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV=6;class jV{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:LV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new f1(this),this.idTokenSubscription=new f1(this),this.beforeStateQueue=new OV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Uo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qd(this,{idToken:e}),r=await Vn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(cn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cn(this.app))return Promise.reject($r(this));const n=e?Dt(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cn(this.app)?Promise.reject($r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cn(this.app)?Promise.reject($r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MV(this),n=new jV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await kV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vr(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[Vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&hV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function hs(t){return Dt(t)}class f1{constructor(e){this.auth=e,this.observer=null,this.addObserver=Z4(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FV(t){Zh=t}function DC(t){return Zh.loadJS(t)}function UV(){return Zh.recaptchaEnterpriseScript}function BV(){return Zh.gapiScript}function $V(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class zV{constructor(){this.enterprise=new WV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class WV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const HV="recaptcha-enterprise",OC="NO_RECAPTCHA";class qV{constructor(e){this.type=HV,this.auth=hs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{TV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new xV(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;l1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(OC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zV().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&l1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=UV();l.length!==0&&(l+=a),DC(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function p1(t,e,n,r=!1,i=!1){const s=new qV(t);let o;if(i)o=OC;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ug(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await p1(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await p1(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(t,e){const n=Xv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if($s(s,e??{}))return i;In(i,"already-initialized")}return n.initialize({options:e})}function KV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function YV(t,e,n){const r=hs(t);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=MC(e),{host:o,port:a}=QV(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re($s(u,r.config.emulator)&&$s(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Ca(o)?(cC(`${s}//${o}${l}`),uC("Auth",!0)):XV()}function MC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function QV(t){const e=MC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:m1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:m1(o)}}}function m1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function XV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,n){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}}async function JV(t,e){return ds(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZV(t,e){return Rc(t,"POST","/v1/accounts:signInWithPassword",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eF(t,e){return Rc(t,"POST","/v1/accounts:signInWithEmailLink",us(t,e))}async function tF(t,e){return Rc(t,"POST","/v1/accounts:signInWithEmailLink",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends ry{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ac(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ac(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ug(e,n,"signInWithPassword",ZV);case"emailLink":return eF(e,{email:this._email,oobCode:this._password});default:In(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ug(e,r,"signUpPassword",JV);case"emailLink":return tF(e,{idToken:n,email:this._email,oobCode:this._password});default:In(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(t,e){return Rc(t,"POST","/v1/accounts:signInWithIdp",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF="http://localhost";class Ws extends ry{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):In("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Pc(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ws(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Bo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bo(e,n)}buildRequest(){const e={requestUri:nF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ic(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iF(t){const e=pl(ml(t)).link,n=e?pl(ml(e)).deep_link_id:null,r=pl(ml(t)).deep_link_id;return(r?pl(ml(r)).link:null)||r||n||e||t}class iy{constructor(e){var n,r,i,s,o,a;const l=pl(ml(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=rF((i=l.mode)!==null&&i!==void 0?i:null);re(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=iF(e);try{return new iy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.providerId=Pa.PROVIDER_ID}static credential(e,n){return ac._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=iy.parseLink(n);return re(r,"argument-error"),ac._fromEmailAndCode(e,r.code,r.tenantId)}}Pa.PROVIDER_ID="password";Pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends sy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends kc{constructor(){super("facebook.com")}static credential(e){return Ws._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ei.credential(e.oauthAccessToken)}catch{return null}}}Ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ws._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Or.credential(n,r)}catch{return null}}}Or.GOOGLE_SIGN_IN_METHOD="google.com";Or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends kc{constructor(){super("github.com")}static credential(e){return Ws._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.GITHUB_SIGN_IN_METHOD="github.com";xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends kc{constructor(){super("twitter.com")}static credential(e,n){return Ws._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ti.credential(n,r)}catch{return null}}}Ti.TWITTER_SIGN_IN_METHOD="twitter.com";Ti.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sF(t,e){return Rc(t,"POST","/v1/accounts:signUp",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Vn._fromIdTokenResponse(e,r,i),o=g1(r);return new Hs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=g1(r);return new Hs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function g1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd extends ni{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Jd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Jd(e,n,r,i)}}function LC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Jd._fromErrorAndOperation(t,s,e,r):s})}async function oF(t,e,n=!1){const r=await oc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Hs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aF(t,e,n=!1){const{auth:r}=t;if(cn(r.app))return Promise.reject($r(r));const i="reauthenticate";try{const s=await oc(t,LC(r,i,e,t),n);re(s.idToken,r,"internal-error");const o=ty(s.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),Hs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&In(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jC(t,e,n=!1){if(cn(t.app))return Promise.reject($r(t));const r="signIn",i=await LC(t,r,e),s=await Hs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function lF(t,e){return jC(hs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(t){const e=hs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function cF(t,e,n){if(cn(t.app))return Promise.reject($r(t));const r=hs(t),o=await ug(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sF).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&VC(t),l}),a=await Hs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function uF(t,e,n){return cn(t.app)?Promise.reject($r(t)):lF(Dt(t),Pa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&VC(t),r})}function dF(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function hF(t,e,n){return Dt(t).beforeAuthStateChanged(e,n)}function fF(t,e,n,r){return Dt(t).onAuthStateChanged(e,n,r)}function pF(t){return Dt(t).signOut()}const Zd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zd,"1"),this.storage.removeItem(Zd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF=1e3,gF=10;class UC extends FC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);DV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,gF):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},mF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}UC.type="LOCAL";const vF=UC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC extends FC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BC.type="SESSION";const $C=BC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ef(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await yF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=oy("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(){return window}function _F(t){mr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(){return typeof mr().WorkerGlobalScope<"u"&&typeof mr().importScripts=="function"}async function EF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function TF(){return zC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="firebaseLocalStorageDb",bF=1,eh="firebaseLocalStorage",HC="fbase_key";class Nc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tf(t,e){return t.transaction([eh],e?"readwrite":"readonly").objectStore(eh)}function SF(){const t=indexedDB.deleteDatabase(WC);return new Nc(t).toPromise()}function dg(){const t=indexedDB.open(WC,bF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(eh,{keyPath:HC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(eh)?e(r):(r.close(),await SF(),e(await dg()))})})}async function v1(t,e,n){const r=tf(t,!0).put({[HC]:e,value:n});return new Nc(r).toPromise()}async function CF(t,e){const n=tf(t,!1).get(e),r=await new Nc(n).toPromise();return r===void 0?null:r.value}function y1(t,e){const n=tf(t,!0).delete(e);return new Nc(n).toPromise()}const IF=800,PF=3;class qC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>PF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance(TF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await EF(),!this.activeServiceWorker)return;this.sender=new wF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dg();return await v1(e,Zd,"1"),await y1(e,Zd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>v1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>CF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>y1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=tf(i,!1).getAll();return new Nc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qC.type="LOCAL";const AF=qC;new Ac(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t,e){return e?Vr(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay extends ry{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function RF(t){return jC(t.auth,new ay(t),t.bypassAuthState)}function kF(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),aF(n,new ay(t),t.bypassAuthState)}async function NF(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),oF(n,new ay(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RF;case"linkViaPopup":case"linkViaRedirect":return NF;case"reauthViaPopup":case"reauthViaRedirect":return kF;default:In(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF=new Ac(2e3,1e4);async function OF(t,e,n){if(cn(t.app))return Promise.reject($n(t,"operation-not-supported-in-this-environment"));const r=hs(t);fV(t,e,sy);const i=GC(r,n);return new Is(r,"signInViaPopup",e,i).executeNotNull()}class Is extends KC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Is.currentPopupAction&&Is.currentPopupAction.cancel(),Is.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){Jr(this.filter.length===1,"Popup operations only handle one event");const e=oy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Is.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DF.get())};e()}}Is.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF="pendingRedirect",nd=new Map;class LF extends KC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=nd.get(this.auth._key());if(!e){try{const r=await jF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}nd.set(this.auth._key(),e)}return this.bypassAuthState||nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jF(t,e){const n=UF(e),r=FF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function VF(t,e){nd.set(t._key(),e)}function FF(t){return Vr(t._redirectPersistence)}function UF(t){return td(MF,t.config.apiKey,t.name)}async function BF(t,e,n=!1){if(cn(t.app))return Promise.reject($r(t));const r=hs(t),i=GC(r,e),o=await new LF(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=10*60*1e3;class zF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!YC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError($n(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$F&&this.cachedEventUids.clear(),this.cachedEventUids.has(w1(e))}saveEventToCache(e){this.cachedEventUids.add(w1(e)),this.lastProcessedEventTime=Date.now()}}function w1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HF(t,e={}){return ds(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GF=/^https?/;async function KF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await HF(t);for(const n of e)try{if(YF(n))return}catch{}In(t,"unauthorized-domain")}function YF(t){const e=lg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!GF.test(n))return!1;if(qF.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF=new Ac(3e4,6e4);function _1(){const t=mr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function XF(t){return new Promise((e,n)=>{var r,i,s;function o(){_1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_1(),n($n(t,"network-request-failed"))},timeout:QF.get()})}if(!((i=(r=mr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=mr().gapi)===null||s===void 0)&&s.load)o();else{const a=$V("iframefcb");return mr()[a]=()=>{gapi.load?o():n($n(t,"network-request-failed"))},DC(`${BV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw rd=null,e})}let rd=null;function JF(t){return rd=rd||XF(t),rd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF=new Ac(5e3,15e3),e5="__/auth/iframe",t5="emulator/auth/iframe",n5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},r5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i5(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ey(e,t5):`https://${t.config.authDomain}/${e5}`,r={apiKey:e.apiKey,appName:t.name,v:Ia},i=r5.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ic(r).slice(1)}`}async function s5(t){const e=await JF(t),n=mr().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:i5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n5,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=$n(t,"network-request-failed"),a=mr().setTimeout(()=>{s(o)},ZF.get());function l(){mr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},a5=500,l5=600,c5="_blank",u5="http://localhost";class E1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function d5(t,e,n,r=a5,i=l5){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},o5),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Nt().toLowerCase();n&&(a=CC(u)?c5:n),bC(u)&&(e=e||u5,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[g,v])=>`${h}${g}=${v},`,"");if(NV(u)&&a!=="_self")return h5(e||"",a),new E1(null);const f=window.open(e||"",a,d);re(f,t,"popup-blocked");try{f.focus()}catch{}return new E1(f)}function h5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5="__/auth/handler",p5="emulator/auth/handler",m5=encodeURIComponent("fac");async function x1(t,e,n,r,i,s){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ia,eventId:i};if(e instanceof sy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",J4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof kc){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${m5}=${encodeURIComponent(l)}`:"";return`${g5(t)}?${Ic(a).slice(1)}${u}`}function g5({config:t}){return t.emulator?ey(t,p5):`https://${t.authDomain}/${f5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="webStorageSupport";class v5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$C,this._completeRedirectFn=BF,this._overrideRedirectResult=VF}async _openPopup(e,n,r,i){var s;Jr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await x1(e,n,r,lg(),i);return d5(e,o,oy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await x1(e,n,r,lg(),i);return _F(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Jr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await s5(e),r=new zF(e);return n.register("authEvent",i=>(re(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ip,{type:Ip},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Ip];o!==void 0&&n(!!o),In(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kC()||SC()||ny()}}const y5=v5;var T1="@firebase/auth",b1="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E5(t){ca(new zs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NC(t)},u=new VV(r,i,s,l);return KV(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ca(new zs("auth-internal",e=>{const n=hs(e.getProvider("auth").getImmediate());return(r=>new w5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(T1,b1,_5(t)),Wi(T1,b1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=5*60,T5=lC("authIdTokenMaxAge")||x5;let S1=null;const b5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>T5)return;const i=n==null?void 0:n.token;S1!==i&&(S1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function S5(t=pC()){const e=Xv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=GV(t,{popupRedirectResolver:y5,persistence:[AF,vF,$C]}),r=lC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=b5(s.toString());hF(n,o,()=>o(n.currentUser)),dF(n,a=>o(a))}}const i=oC("auth");return i&&YV(n,`http://${i}`),n}function C5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}FV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=$n("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",C5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E5("Browser");var I5="firebase",P5="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi(I5,P5,"app");var C1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hi,QC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,S){function C(){}C.prototype=S.prototype,P.D=S.prototype,P.prototype=new C,P.prototype.constructor=P,P.C=function(R,N,O){for(var k=Array(arguments.length-2),H=2;H<arguments.length;H++)k[H-2]=arguments[H];return S.prototype[N].apply(R,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,S,C){C||(C=0);var R=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)R[N]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(N=0;16>N;++N)R[N]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=P.g[0],C=P.g[1],N=P.g[2];var O=P.g[3],k=S+(O^C&(N^O))+R[0]+3614090360&4294967295;S=C+(k<<7&4294967295|k>>>25),k=O+(N^S&(C^N))+R[1]+3905402710&4294967295,O=S+(k<<12&4294967295|k>>>20),k=N+(C^O&(S^C))+R[2]+606105819&4294967295,N=O+(k<<17&4294967295|k>>>15),k=C+(S^N&(O^S))+R[3]+3250441966&4294967295,C=N+(k<<22&4294967295|k>>>10),k=S+(O^C&(N^O))+R[4]+4118548399&4294967295,S=C+(k<<7&4294967295|k>>>25),k=O+(N^S&(C^N))+R[5]+1200080426&4294967295,O=S+(k<<12&4294967295|k>>>20),k=N+(C^O&(S^C))+R[6]+2821735955&4294967295,N=O+(k<<17&4294967295|k>>>15),k=C+(S^N&(O^S))+R[7]+4249261313&4294967295,C=N+(k<<22&4294967295|k>>>10),k=S+(O^C&(N^O))+R[8]+1770035416&4294967295,S=C+(k<<7&4294967295|k>>>25),k=O+(N^S&(C^N))+R[9]+2336552879&4294967295,O=S+(k<<12&4294967295|k>>>20),k=N+(C^O&(S^C))+R[10]+4294925233&4294967295,N=O+(k<<17&4294967295|k>>>15),k=C+(S^N&(O^S))+R[11]+2304563134&4294967295,C=N+(k<<22&4294967295|k>>>10),k=S+(O^C&(N^O))+R[12]+1804603682&4294967295,S=C+(k<<7&4294967295|k>>>25),k=O+(N^S&(C^N))+R[13]+4254626195&4294967295,O=S+(k<<12&4294967295|k>>>20),k=N+(C^O&(S^C))+R[14]+2792965006&4294967295,N=O+(k<<17&4294967295|k>>>15),k=C+(S^N&(O^S))+R[15]+1236535329&4294967295,C=N+(k<<22&4294967295|k>>>10),k=S+(N^O&(C^N))+R[1]+4129170786&4294967295,S=C+(k<<5&4294967295|k>>>27),k=O+(C^N&(S^C))+R[6]+3225465664&4294967295,O=S+(k<<9&4294967295|k>>>23),k=N+(S^C&(O^S))+R[11]+643717713&4294967295,N=O+(k<<14&4294967295|k>>>18),k=C+(O^S&(N^O))+R[0]+3921069994&4294967295,C=N+(k<<20&4294967295|k>>>12),k=S+(N^O&(C^N))+R[5]+3593408605&4294967295,S=C+(k<<5&4294967295|k>>>27),k=O+(C^N&(S^C))+R[10]+38016083&4294967295,O=S+(k<<9&4294967295|k>>>23),k=N+(S^C&(O^S))+R[15]+3634488961&4294967295,N=O+(k<<14&4294967295|k>>>18),k=C+(O^S&(N^O))+R[4]+3889429448&4294967295,C=N+(k<<20&4294967295|k>>>12),k=S+(N^O&(C^N))+R[9]+568446438&4294967295,S=C+(k<<5&4294967295|k>>>27),k=O+(C^N&(S^C))+R[14]+3275163606&4294967295,O=S+(k<<9&4294967295|k>>>23),k=N+(S^C&(O^S))+R[3]+4107603335&4294967295,N=O+(k<<14&4294967295|k>>>18),k=C+(O^S&(N^O))+R[8]+1163531501&4294967295,C=N+(k<<20&4294967295|k>>>12),k=S+(N^O&(C^N))+R[13]+2850285829&4294967295,S=C+(k<<5&4294967295|k>>>27),k=O+(C^N&(S^C))+R[2]+4243563512&4294967295,O=S+(k<<9&4294967295|k>>>23),k=N+(S^C&(O^S))+R[7]+1735328473&4294967295,N=O+(k<<14&4294967295|k>>>18),k=C+(O^S&(N^O))+R[12]+2368359562&4294967295,C=N+(k<<20&4294967295|k>>>12),k=S+(C^N^O)+R[5]+4294588738&4294967295,S=C+(k<<4&4294967295|k>>>28),k=O+(S^C^N)+R[8]+2272392833&4294967295,O=S+(k<<11&4294967295|k>>>21),k=N+(O^S^C)+R[11]+1839030562&4294967295,N=O+(k<<16&4294967295|k>>>16),k=C+(N^O^S)+R[14]+4259657740&4294967295,C=N+(k<<23&4294967295|k>>>9),k=S+(C^N^O)+R[1]+2763975236&4294967295,S=C+(k<<4&4294967295|k>>>28),k=O+(S^C^N)+R[4]+1272893353&4294967295,O=S+(k<<11&4294967295|k>>>21),k=N+(O^S^C)+R[7]+4139469664&4294967295,N=O+(k<<16&4294967295|k>>>16),k=C+(N^O^S)+R[10]+3200236656&4294967295,C=N+(k<<23&4294967295|k>>>9),k=S+(C^N^O)+R[13]+681279174&4294967295,S=C+(k<<4&4294967295|k>>>28),k=O+(S^C^N)+R[0]+3936430074&4294967295,O=S+(k<<11&4294967295|k>>>21),k=N+(O^S^C)+R[3]+3572445317&4294967295,N=O+(k<<16&4294967295|k>>>16),k=C+(N^O^S)+R[6]+76029189&4294967295,C=N+(k<<23&4294967295|k>>>9),k=S+(C^N^O)+R[9]+3654602809&4294967295,S=C+(k<<4&4294967295|k>>>28),k=O+(S^C^N)+R[12]+3873151461&4294967295,O=S+(k<<11&4294967295|k>>>21),k=N+(O^S^C)+R[15]+530742520&4294967295,N=O+(k<<16&4294967295|k>>>16),k=C+(N^O^S)+R[2]+3299628645&4294967295,C=N+(k<<23&4294967295|k>>>9),k=S+(N^(C|~O))+R[0]+4096336452&4294967295,S=C+(k<<6&4294967295|k>>>26),k=O+(C^(S|~N))+R[7]+1126891415&4294967295,O=S+(k<<10&4294967295|k>>>22),k=N+(S^(O|~C))+R[14]+2878612391&4294967295,N=O+(k<<15&4294967295|k>>>17),k=C+(O^(N|~S))+R[5]+4237533241&4294967295,C=N+(k<<21&4294967295|k>>>11),k=S+(N^(C|~O))+R[12]+1700485571&4294967295,S=C+(k<<6&4294967295|k>>>26),k=O+(C^(S|~N))+R[3]+2399980690&4294967295,O=S+(k<<10&4294967295|k>>>22),k=N+(S^(O|~C))+R[10]+4293915773&4294967295,N=O+(k<<15&4294967295|k>>>17),k=C+(O^(N|~S))+R[1]+2240044497&4294967295,C=N+(k<<21&4294967295|k>>>11),k=S+(N^(C|~O))+R[8]+1873313359&4294967295,S=C+(k<<6&4294967295|k>>>26),k=O+(C^(S|~N))+R[15]+4264355552&4294967295,O=S+(k<<10&4294967295|k>>>22),k=N+(S^(O|~C))+R[6]+2734768916&4294967295,N=O+(k<<15&4294967295|k>>>17),k=C+(O^(N|~S))+R[13]+1309151649&4294967295,C=N+(k<<21&4294967295|k>>>11),k=S+(N^(C|~O))+R[4]+4149444226&4294967295,S=C+(k<<6&4294967295|k>>>26),k=O+(C^(S|~N))+R[11]+3174756917&4294967295,O=S+(k<<10&4294967295|k>>>22),k=N+(S^(O|~C))+R[2]+718787259&4294967295,N=O+(k<<15&4294967295|k>>>17),k=C+(O^(N|~S))+R[9]+3951481745&4294967295,P.g[0]=P.g[0]+S&4294967295,P.g[1]=P.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,P.g[2]=P.g[2]+N&4294967295,P.g[3]=P.g[3]+O&4294967295}r.prototype.u=function(P,S){S===void 0&&(S=P.length);for(var C=S-this.blockSize,R=this.B,N=this.h,O=0;O<S;){if(N==0)for(;O<=C;)i(this,P,O),O+=this.blockSize;if(typeof P=="string"){for(;O<S;)if(R[N++]=P.charCodeAt(O++),N==this.blockSize){i(this,R),N=0;break}}else for(;O<S;)if(R[N++]=P[O++],N==this.blockSize){i(this,R),N=0;break}}this.h=N,this.o+=S},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var S=1;S<P.length-8;++S)P[S]=0;var C=8*this.o;for(S=P.length-8;S<P.length;++S)P[S]=C&255,C/=256;for(this.u(P),P=Array(16),S=C=0;4>S;++S)for(var R=0;32>R;R+=8)P[C++]=this.g[S]>>>R&255;return P};function s(P,S){var C=a;return Object.prototype.hasOwnProperty.call(C,P)?C[P]:C[P]=S(P)}function o(P,S){this.h=S;for(var C=[],R=!0,N=P.length-1;0<=N;N--){var O=P[N]|0;R&&O==S||(C[N]=O,R=!1)}this.g=C}var a={};function l(P){return-128<=P&&128>P?s(P,function(S){return new o([S|0],0>S?-1:0)}):new o([P|0],0>P?-1:0)}function u(P){if(isNaN(P)||!isFinite(P))return f;if(0>P)return x(u(-P));for(var S=[],C=1,R=0;P>=C;R++)S[R]=P/C|0,C*=4294967296;return new o(S,0)}function d(P,S){if(P.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P.charAt(0)=="-")return x(d(P.substring(1),S));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(S,8)),R=f,N=0;N<P.length;N+=8){var O=Math.min(8,P.length-N),k=parseInt(P.substring(N,N+O),S);8>O?(O=u(Math.pow(S,O)),R=R.j(O).add(u(k))):(R=R.j(C),R=R.add(u(k)))}return R}var f=l(0),h=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-x(this).m();for(var P=0,S=1,C=0;C<this.g.length;C++){var R=this.i(C);P+=(0<=R?R:4294967296+R)*S,S*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(v(this))return"0";if(y(this))return"-"+x(this).toString(P);for(var S=u(Math.pow(P,6)),C=this,R="";;){var N=A(C,S).g;C=T(C,N.j(S));var O=((0<C.g.length?C.g[0]:C.h)>>>0).toString(P);if(C=N,v(C))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function v(P){if(P.h!=0)return!1;for(var S=0;S<P.g.length;S++)if(P.g[S]!=0)return!1;return!0}function y(P){return P.h==-1}t.l=function(P){return P=T(this,P),y(P)?-1:v(P)?0:1};function x(P){for(var S=P.g.length,C=[],R=0;R<S;R++)C[R]=~P.g[R];return new o(C,~P.h).add(h)}t.abs=function(){return y(this)?x(this):this},t.add=function(P){for(var S=Math.max(this.g.length,P.g.length),C=[],R=0,N=0;N<=S;N++){var O=R+(this.i(N)&65535)+(P.i(N)&65535),k=(O>>>16)+(this.i(N)>>>16)+(P.i(N)>>>16);R=k>>>16,O&=65535,k&=65535,C[N]=k<<16|O}return new o(C,C[C.length-1]&-2147483648?-1:0)};function T(P,S){return P.add(x(S))}t.j=function(P){if(v(this)||v(P))return f;if(y(this))return y(P)?x(this).j(x(P)):x(x(this).j(P));if(y(P))return x(this.j(x(P)));if(0>this.l(g)&&0>P.l(g))return u(this.m()*P.m());for(var S=this.g.length+P.g.length,C=[],R=0;R<2*S;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(var N=0;N<P.g.length;N++){var O=this.i(R)>>>16,k=this.i(R)&65535,H=P.i(N)>>>16,oe=P.i(N)&65535;C[2*R+2*N]+=k*oe,E(C,2*R+2*N),C[2*R+2*N+1]+=O*oe,E(C,2*R+2*N+1),C[2*R+2*N+1]+=k*H,E(C,2*R+2*N+1),C[2*R+2*N+2]+=O*H,E(C,2*R+2*N+2)}for(R=0;R<S;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=S;R<2*S;R++)C[R]=0;return new o(C,0)};function E(P,S){for(;(P[S]&65535)!=P[S];)P[S+1]+=P[S]>>>16,P[S]&=65535,S++}function b(P,S){this.g=P,this.h=S}function A(P,S){if(v(S))throw Error("division by zero");if(v(P))return new b(f,f);if(y(P))return S=A(x(P),S),new b(x(S.g),x(S.h));if(y(S))return S=A(P,x(S)),new b(x(S.g),S.h);if(30<P.g.length){if(y(P)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var C=h,R=S;0>=R.l(P);)C=D(C),R=D(R);var N=L(C,1),O=L(R,1);for(R=L(R,2),C=L(C,2);!v(R);){var k=O.add(R);0>=k.l(P)&&(N=N.add(C),O=k),R=L(R,1),C=L(C,1)}return S=T(P,N.j(S)),new b(N,S)}for(N=f;0<=P.l(S);){for(C=Math.max(1,Math.floor(P.m()/S.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=u(C),k=O.j(S);y(k)||0<k.l(P);)C-=R,O=u(C),k=O.j(S);v(O)&&(O=h),N=N.add(O),P=T(P,k)}return new b(N,P)}t.A=function(P){return A(this,P).h},t.and=function(P){for(var S=Math.max(this.g.length,P.g.length),C=[],R=0;R<S;R++)C[R]=this.i(R)&P.i(R);return new o(C,this.h&P.h)},t.or=function(P){for(var S=Math.max(this.g.length,P.g.length),C=[],R=0;R<S;R++)C[R]=this.i(R)|P.i(R);return new o(C,this.h|P.h)},t.xor=function(P){for(var S=Math.max(this.g.length,P.g.length),C=[],R=0;R<S;R++)C[R]=this.i(R)^P.i(R);return new o(C,this.h^P.h)};function D(P){for(var S=P.g.length+1,C=[],R=0;R<S;R++)C[R]=P.i(R)<<1|P.i(R-1)>>>31;return new o(C,P.h)}function L(P,S){var C=S>>5;S%=32;for(var R=P.g.length-C,N=[],O=0;O<R;O++)N[O]=0<S?P.i(O+C)>>>S|P.i(O+C+1)<<32-S:P.i(O+C);return new o(N,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,QC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Hi=o}).apply(typeof C1<"u"?C1:typeof self<"u"?self:typeof window<"u"?window:{});var Au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XC,gl,JC,id,hg,ZC,eI,tI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,_){return c==Array.prototype||c==Object.prototype||(c[m]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Au=="object"&&Au];for(var m=0;m<c.length;++m){var _=c[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(c,m){if(m)e:{var _=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var j=c[I];if(!(j in _))break e;_=_[j]}c=c[c.length-1],I=_[c],m=m(I),m!=I&&m!=null&&e(_,c,{configurable:!0,writable:!0,value:m})}}function s(c,m){c instanceof String&&(c+="");var _=0,I=!1,j={next:function(){if(!I&&_<c.length){var V=_++;return{value:m(V,c[V]),done:!1}}return I=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(c){return c||function(){return s(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function u(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function d(c,m,_){return c.call.apply(c.bind,arguments)}function f(c,m,_){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,I),c.apply(m,j)}}return function(){return c.apply(m,arguments)}}function h(c,m,_){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function g(c,m){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function v(c,m){function _(){}_.prototype=m.prototype,c.aa=m.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(I,j,V){for(var q=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)q[Re-2]=arguments[Re];return m.prototype[j].apply(I,q)}}function y(c){const m=c.length;if(0<m){const _=Array(m);for(let I=0;I<m;I++)_[I]=c[I];return _}return[]}function x(c,m){for(let _=1;_<arguments.length;_++){const I=arguments[_];if(l(I)){const j=c.length||0,V=I.length||0;c.length=j+V;for(let q=0;q<V;q++)c[j+q]=I[q]}else c.push(I)}}class T{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function E(c){return/^[\s\xa0]*$/.test(c)}function b(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function A(c){return A[" "](c),c}A[" "]=function(){};var D=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function L(c,m,_){for(const I in c)m.call(_,c[I],I,c)}function P(c,m){for(const _ in c)m.call(void 0,c[_],_,c)}function S(c){const m={};for(const _ in c)m[_]=c[_];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(c,m){let _,I;for(let j=1;j<arguments.length;j++){I=arguments[j];for(_ in I)c[_]=I[_];for(let V=0;V<C.length;V++)_=C[V],Object.prototype.hasOwnProperty.call(I,_)&&(c[_]=I[_])}}function N(c){var m=1;c=c.split(":");const _=[];for(;0<m&&c.length;)_.push(c.shift()),m--;return c.length&&_.push(c.join(":")),_}function O(c){a.setTimeout(()=>{throw c},0)}function k(){var c=W;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class H{constructor(){this.h=this.g=null}add(m,_){const I=oe.get();I.set(m,_),this.h?this.h.next=I:this.g=I,this.h=I}}var oe=new T(()=>new Z,c=>c.reset());class Z{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let z,M=!1,W=new H,J=()=>{const c=a.Promise.resolve(void 0);z=()=>{c.then(K)}};var K=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(_){O(_)}var m=oe;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}M=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var De=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};a.addEventListener("test",_,m),a.removeEventListener("test",_,m)}catch{}return c}();function it(c,m){if(ne.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(D){e:{try{A(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else _=="mouseover"?m=c.fromElement:_=="mouseout"&&(m=c.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Te[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&it.aa.h.call(this)}}v(it,ne);var Te={2:"touch",3:"pen",4:"mouse"};it.prototype.h=function(){it.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var wt="closure_listenable_"+(1e6*Math.random()|0),Zn=0;function er(c,m,_,I,j){this.listener=c,this.proxy=null,this.src=m,this.type=_,this.capture=!!I,this.ha=j,this.key=++Zn,this.da=this.fa=!1}function nn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Tr(c){this.src=c,this.g={},this.h=0}Tr.prototype.add=function(c,m,_,I,j){var V=c.toString();c=this.g[V],c||(c=this.g[V]=[],this.h++);var q=An(c,m,I,j);return-1<q?(m=c[q],_||(m.fa=!1)):(m=new er(m,this.src,V,!!I,j),m.fa=_,c.push(m)),m};function tr(c,m){var _=m.type;if(_ in c.g){var I=c.g[_],j=Array.prototype.indexOf.call(I,m,void 0),V;(V=0<=j)&&Array.prototype.splice.call(I,j,1),V&&(nn(m),c.g[_].length==0&&(delete c.g[_],c.h--))}}function An(c,m,_,I){for(var j=0;j<c.length;++j){var V=c[j];if(!V.da&&V.listener==m&&V.capture==!!_&&V.ha==I)return j}return-1}var br="closure_lm_"+(1e6*Math.random()|0),ri={};function Rn(c,m,_,I,j){if(Array.isArray(m)){for(var V=0;V<m.length;V++)Rn(c,m[V],_,I,j);return null}return _=ja(_),c&&c[wt]?c.K(m,_,u(I)?!!I.capture:!!I,j):Oa(c,m,_,!1,I,j)}function Oa(c,m,_,I,j,V){if(!m)throw Error("Invalid event type");var q=u(j)?!!j.capture:!!j,Re=ii(c);if(Re||(c[br]=Re=new Tr(c)),_=Re.add(m,_,I,q,V),_.proxy)return _;if(I=Ma(),_.proxy=I,I.src=c,I.listener=_,c.addEventListener)De||(j=q),j===void 0&&(j=!1),c.addEventListener(m.toString(),I,j);else if(c.attachEvent)c.attachEvent($c(m.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ma(){function c(_){return m.call(c.src,c.listener,_)}const m=Cf;return c}function Je(c,m,_,I,j){if(Array.isArray(m))for(var V=0;V<m.length;V++)Je(c,m[V],_,I,j);else I=u(I)?!!I.capture:!!I,_=ja(_),c&&c[wt]?(c=c.i,m=String(m).toString(),m in c.g&&(V=c.g[m],_=An(V,_,I,j),-1<_&&(nn(V[_]),Array.prototype.splice.call(V,_,1),V.length==0&&(delete c.g[m],c.h--)))):c&&(c=ii(c))&&(m=c.g[m.toString()],c=-1,m&&(c=An(m,_,I,j)),(_=-1<c?m[c]:null)&&nr(_))}function nr(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[wt])tr(m.i,c);else{var _=c.type,I=c.proxy;m.removeEventListener?m.removeEventListener(_,I,c.capture):m.detachEvent?m.detachEvent($c(_),I):m.addListener&&m.removeListener&&m.removeListener(I),(_=ii(m))?(tr(_,c),_.h==0&&(_.src=null,m[br]=null)):nn(c)}}}function $c(c){return c in ri?ri[c]:ri[c]="on"+c}function Cf(c,m){if(c.da)c=!0;else{m=new it(m,this);var _=c.listener,I=c.ha||c.src;c.fa&&nr(c),c=_.call(I,m)}return c}function ii(c){return c=c[br],c instanceof Tr?c:null}var La="__closure_events_fn_"+(1e9*Math.random()>>>0);function ja(c){return typeof c=="function"?c:(c[La]||(c[La]=function(m){return c.handleEvent(m)}),c[La])}function Ze(){ee.call(this),this.i=new Tr(this),this.M=this,this.F=null}v(Ze,ee),Ze.prototype[wt]=!0,Ze.prototype.removeEventListener=function(c,m,_,I){Je(this,c,m,_,I)};function qe(c,m){var _,I=c.F;if(I)for(_=[];I;I=I.F)_.push(I);if(c=c.M,I=m.type||m,typeof m=="string")m=new ne(m,c);else if(m instanceof ne)m.target=m.target||c;else{var j=m;m=new ne(I,c),R(m,j)}if(j=!0,_)for(var V=_.length-1;0<=V;V--){var q=m.g=_[V];j=ms(q,I,!0,m)&&j}if(q=m.g=c,j=ms(q,I,!0,m)&&j,j=ms(q,I,!1,m)&&j,_)for(V=0;V<_.length;V++)q=m.g=_[V],j=ms(q,I,!1,m)&&j}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var _=c.g[m],I=0;I<_.length;I++)nn(_[I]);delete c.g[m],c.h--}}this.F=null},Ze.prototype.K=function(c,m,_,I){return this.i.add(String(c),m,!1,_,I)},Ze.prototype.L=function(c,m,_,I){return this.i.add(String(c),m,!0,_,I)};function ms(c,m,_,I){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,V=0;V<m.length;++V){var q=m[V];if(q&&!q.da&&q.capture==_){var Re=q.listener,ht=q.ha||q.src;q.fa&&tr(c.i,q),j=Re.call(ht,I)!==!1&&j}}return j&&!I.defaultPrevented}function Sr(c,m,_){if(typeof c=="function")_&&(c=h(c,_));else if(c&&typeof c.handleEvent=="function")c=h(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(c,m||0)}function Va(c){c.g=Sr(()=>{c.g=null,c.i&&(c.i=!1,Va(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class If extends ee{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Va(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function si(c){ee.call(this),this.h=c,this.g={}}v(si,ee);var Fa=[];function zc(c){L(c.g,function(m,_){this.g.hasOwnProperty(_)&&nr(m)},c),c.g={}}si.prototype.N=function(){si.aa.N.call(this),zc(this)},si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gs=a.JSON.stringify,rr=a.JSON.parse,Pf=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ae(){}ae.prototype.h=null;function Ae(c){return c.h||(c.h=c.i())}function Ce(){}var _t={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zt(){ne.call(this,"d")}v(zt,ne);function oi(){ne.call(this,"c")}v(oi,ne);var Cr={},v0=null;function Wc(){return v0=v0||new Ze}Cr.La="serverreachability";function y0(c){ne.call(this,Cr.La,c)}v(y0,ne);function Ua(c){const m=Wc();qe(m,new y0(m))}Cr.STAT_EVENT="statevent";function w0(c,m){ne.call(this,Cr.STAT_EVENT,c),this.stat=m}v(w0,ne);function Ot(c){const m=Wc();qe(m,new w0(m,c))}Cr.Ma="timingevent";function _0(c,m){ne.call(this,Cr.Ma,c),this.size=m}v(_0,ne);function Ba(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function $a(){this.g=!0}$a.prototype.xa=function(){this.g=!1};function SR(c,m,_,I,j,V){c.info(function(){if(c.g)if(V)for(var q="",Re=V.split("&"),ht=0;ht<Re.length;ht++){var Ee=Re[ht].split("=");if(1<Ee.length){var Et=Ee[0];Ee=Ee[1];var xt=Et.split("_");q=2<=xt.length&&xt[1]=="type"?q+(Et+"="+Ee+"&"):q+(Et+"=redacted&")}}else q=null;else q=V;return"XMLHTTP REQ ("+I+") [attempt "+j+"]: "+m+`
`+_+`
`+q})}function CR(c,m,_,I,j,V,q){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+j+"]: "+m+`
`+_+`
`+V+" "+q})}function no(c,m,_,I){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+PR(c,_)+(I?" "+I:"")})}function IR(c,m){c.info(function(){return"TIMEOUT: "+m})}$a.prototype.info=function(){};function PR(c,m){if(!c.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var I=_[c];if(!(2>I.length)){var j=I[1];if(Array.isArray(j)&&!(1>j.length)){var V=j[0];if(V!="noop"&&V!="stop"&&V!="close")for(var q=1;q<j.length;q++)j[q]=""}}}}return gs(_)}catch{return m}}var Hc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},E0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Af;function qc(){}v(qc,ae),qc.prototype.g=function(){return new XMLHttpRequest},qc.prototype.i=function(){return{}},Af=new qc;function ai(c,m,_,I){this.j=c,this.i=m,this.l=_,this.R=I||1,this.U=new si(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new x0}function x0(){this.i=null,this.g="",this.h=!1}var T0={},Rf={};function kf(c,m,_){c.L=1,c.v=Qc(Ir(m)),c.m=_,c.P=!0,b0(c,null)}function b0(c,m){c.F=Date.now(),Gc(c),c.A=Ir(c.v);var _=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),V0(_.i,"t",I),c.C=0,_=c.j.J,c.h=new x0,c.g=nw(c.j,_?m:null,!c.m),0<c.O&&(c.M=new If(h(c.Y,c,c.g),c.O)),m=c.U,_=c.g,I=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(Fa[0]=j.toString()),j=Fa);for(var V=0;V<j.length;V++){var q=Rn(_,j[V],I||m.handleEvent,!1,m.h||m);if(!q)break;m.g[q.key]=q}m=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),Ua(),SR(c.i,c.u,c.A,c.l,c.R,c.m)}ai.prototype.ca=function(c){c=c.target;const m=this.M;m&&Pr(c)==3?m.j():this.Y(c)},ai.prototype.Y=function(c){try{if(c==this.g)e:{const xt=Pr(this.g);var m=this.g.Ba();const so=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||H0(this.g)))){this.J||xt!=4||m==7||(m==8||0>=so?Ua(3):Ua(2)),Nf(this);var _=this.g.Z();this.X=_;t:if(S0(this)){var I=H0(this.g);c="";var j=I.length,V=Pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vs(this),za(this);var q="";break t}this.h.i=new a.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,c+=this.h.i.decode(I[m],{stream:!(V&&m==j-1)});I.length=0,this.h.g+=c,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=_==200,CR(this.i,this.u,this.A,this.l,this.R,xt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,ht=this.g;if((Re=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Re)){var Ee=Re;break t}}Ee=null}if(_=Ee)no(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Df(this,_);else{this.o=!1,this.s=3,Ot(12),vs(this),za(this);break e}}if(this.P){_=!0;let kn;for(;!this.J&&this.C<q.length;)if(kn=AR(this,q),kn==Rf){xt==4&&(this.s=4,Ot(14),_=!1),no(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==T0){this.s=4,Ot(15),no(this.i,this.l,q,"[Invalid Chunk]"),_=!1;break}else no(this.i,this.l,kn,null),Df(this,kn);if(S0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||q.length!=0||this.h.h||(this.s=1,Ot(16),_=!1),this.o=this.o&&_,!_)no(this.i,this.l,q,"[Invalid Chunked Response]"),vs(this),za(this);else if(0<q.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),Ff(Et),Et.M=!0,Ot(11))}}else no(this.i,this.l,q,null),Df(this,q);xt==4&&vs(this),this.o&&!this.J&&(xt==4?J0(this.j,this):(this.o=!1,Gc(this)))}else qR(this.g),_==400&&0<q.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),vs(this),za(this)}}}catch{}finally{}};function S0(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function AR(c,m){var _=c.C,I=m.indexOf(`
`,_);return I==-1?Rf:(_=Number(m.substring(_,I)),isNaN(_)?T0:(I+=1,I+_>m.length?Rf:(m=m.slice(I,I+_),c.C=I+_,m)))}ai.prototype.cancel=function(){this.J=!0,vs(this)};function Gc(c){c.S=Date.now()+c.I,C0(c,c.I)}function C0(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ba(h(c.ba,c),m)}function Nf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ai.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(IR(this.i,this.A),this.L!=2&&(Ua(),Ot(17)),vs(this),this.s=2,za(this)):C0(this,this.S-c)};function za(c){c.j.G==0||c.J||J0(c.j,c)}function vs(c){Nf(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,zc(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function Df(c,m){try{var _=c.j;if(_.G!=0&&(_.g==c||Of(_.h,c))){if(!c.K&&Of(_.h,c)&&_.G==3){try{var I=_.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var j=I;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)nu(_),eu(_);else break e;Vf(_),Ot(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ba(h(_.Za,_),6e3));if(1>=A0(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ws(_,11)}else if((c.K||_.g==c)&&nu(_),!E(m))for(j=_.Da.g.parse(m),m=0;m<j.length;m++){let Ee=j[m];if(_.T=Ee[0],Ee=Ee[1],_.G==2)if(Ee[0]=="c"){_.K=Ee[1],_.ia=Ee[2];const Et=Ee[3];Et!=null&&(_.la=Et,_.j.info("VER="+_.la));const xt=Ee[4];xt!=null&&(_.Aa=xt,_.j.info("SVER="+_.Aa));const so=Ee[5];so!=null&&typeof so=="number"&&0<so&&(I=1.5*so,_.L=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const kn=c.g;if(kn){const iu=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(iu){var V=I.h;V.g||iu.indexOf("spdy")==-1&&iu.indexOf("quic")==-1&&iu.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Mf(V,V.h),V.h=null))}if(I.D){const Uf=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Uf&&(I.ya=Uf,Oe(I.I,I.D,Uf))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),I=_;var q=c;if(I.qa=tw(I,I.J?I.ia:null,I.W),q.K){R0(I.h,q);var Re=q,ht=I.L;ht&&(Re.I=ht),Re.B&&(Nf(Re),Gc(Re)),I.g=q}else Q0(I);0<_.i.length&&tu(_)}else Ee[0]!="stop"&&Ee[0]!="close"||ws(_,7);else _.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?ws(_,7):jf(_):Ee[0]!="noop"&&_.l&&_.l.ta(Ee),_.v=0)}}Ua(4)}catch{}}var RR=class{constructor(c,m){this.g=c,this.map=m}};function I0(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function P0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function A0(c){return c.h?1:c.g?c.g.size:0}function Of(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Mf(c,m){c.g?c.g.add(m):c.h=m}function R0(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}I0.prototype.cancel=function(){if(this.i=k0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function k0(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const _ of c.g.values())m=m.concat(_.D);return m}return y(c.i)}function kR(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],_=c.length,I=0;I<_;I++)m.push(c[I]);return m}m=[],_=0;for(I in c)m[_++]=c[I];return m}function NR(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var _=0;_<c;_++)m.push(_);return m}m=[],_=0;for(const I in c)m[_++]=I;return m}}}function N0(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var _=NR(c),I=kR(c),j=I.length,V=0;V<j;V++)m.call(void 0,I[V],_&&_[V],c)}var D0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function DR(c,m){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var I=c[_].indexOf("="),j=null;if(0<=I){var V=c[_].substring(0,I);j=c[_].substring(I+1)}else V=c[_];m(V,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ys(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ys){this.h=c.h,Kc(this,c.j),this.o=c.o,this.g=c.g,Yc(this,c.s),this.l=c.l;var m=c.i,_=new qa;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),O0(this,_),this.m=c.m}else c&&(m=String(c).match(D0))?(this.h=!1,Kc(this,m[1]||"",!0),this.o=Wa(m[2]||""),this.g=Wa(m[3]||"",!0),Yc(this,m[4]),this.l=Wa(m[5]||"",!0),O0(this,m[6]||"",!0),this.m=Wa(m[7]||"")):(this.h=!1,this.i=new qa(null,this.h))}ys.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Ha(m,M0,!0),":");var _=this.g;return(_||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Ha(m,M0,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ha(_,_.charAt(0)=="/"?LR:MR,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ha(_,VR)),c.join("")};function Ir(c){return new ys(c)}function Kc(c,m,_){c.j=_?Wa(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Yc(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function O0(c,m,_){m instanceof qa?(c.i=m,FR(c.i,c.h)):(_||(m=Ha(m,jR)),c.i=new qa(m,c.h))}function Oe(c,m,_){c.i.set(m,_)}function Qc(c){return Oe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Wa(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ha(c,m,_){return typeof c=="string"?(c=encodeURI(c).replace(m,OR),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function OR(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var M0=/[#\/\?@]/g,MR=/[#\?:]/g,LR=/[#\?]/g,jR=/[#\?@]/g,VR=/#/g;function qa(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function li(c){c.g||(c.g=new Map,c.h=0,c.i&&DR(c.i,function(m,_){c.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}t=qa.prototype,t.add=function(c,m){li(this),this.i=null,c=ro(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(m),this.h+=1,this};function L0(c,m){li(c),m=ro(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function j0(c,m){return li(c),m=ro(c,m),c.g.has(m)}t.forEach=function(c,m){li(this),this.g.forEach(function(_,I){_.forEach(function(j){c.call(m,j,I,this)},this)},this)},t.na=function(){li(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let I=0;I<m.length;I++){const j=c[I];for(let V=0;V<j.length;V++)_.push(m[I])}return _},t.V=function(c){li(this);let m=[];if(typeof c=="string")j0(this,c)&&(m=m.concat(this.g.get(ro(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)m=m.concat(c[_])}return m},t.set=function(c,m){return li(this),this.i=null,c=ro(this,c),j0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function V0(c,m,_){L0(c,m),0<_.length&&(c.i=null,c.g.set(ro(c,m),y(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var I=m[_];const V=encodeURIComponent(String(I)),q=this.V(I);for(I=0;I<q.length;I++){var j=V;q[I]!==""&&(j+="="+encodeURIComponent(String(q[I]))),c.push(j)}}return this.i=c.join("&")};function ro(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function FR(c,m){m&&!c.j&&(li(c),c.i=null,c.g.forEach(function(_,I){var j=I.toLowerCase();I!=j&&(L0(this,I),V0(this,j,_))},c)),c.j=m}function UR(c,m){const _=new $a;if(a.Image){const I=new Image;I.onload=g(ci,_,"TestLoadImage: loaded",!0,m,I),I.onerror=g(ci,_,"TestLoadImage: error",!1,m,I),I.onabort=g(ci,_,"TestLoadImage: abort",!1,m,I),I.ontimeout=g(ci,_,"TestLoadImage: timeout",!1,m,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else m(!1)}function BR(c,m){const _=new $a,I=new AbortController,j=setTimeout(()=>{I.abort(),ci(_,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:I.signal}).then(V=>{clearTimeout(j),V.ok?ci(_,"TestPingServer: ok",!0,m):ci(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),ci(_,"TestPingServer: error",!1,m)})}function ci(c,m,_,I,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),I(_)}catch{}}function $R(){this.g=new Pf}function zR(c,m,_){const I=_||"";try{N0(c,function(j,V){let q=j;u(j)&&(q=gs(j)),m.push(I+V+"="+encodeURIComponent(q))})}catch(j){throw m.push(I+"type="+encodeURIComponent("_badmap")),j}}function Xc(c){this.l=c.Ub||null,this.j=c.eb||!1}v(Xc,ae),Xc.prototype.g=function(){return new Jc(this.l,this.j)},Xc.prototype.i=function(c){return function(){return c}}({});function Jc(c,m){Ze.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Jc,Ze),t=Jc.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Ka(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ga(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ka(this)),this.g&&(this.readyState=3,Ka(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;F0(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function F0(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Ga(this):Ka(this),this.readyState==3&&F0(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ga(this))},t.Qa=function(c){this.g&&(this.response=c,Ga(this))},t.ga=function(){this.g&&Ga(this)};function Ga(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ka(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=m.next();return c.join(`\r
`)};function Ka(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Jc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function U0(c){let m="";return L(c,function(_,I){m+=I,m+=":",m+=_,m+=`\r
`}),m}function Lf(c,m,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=U0(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Oe(c,m,_))}function Ge(c){Ze.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Ge,Ze);var WR=/^https?$/i,HR=["POST","PUT"];t=Ge.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Af.g(),this.v=this.o?Ae(this.o):Ae(Af),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(V){B0(this,V);return}if(c=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var j in I)_.set(j,I[j]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const V of I.keys())_.set(V,I.get(V));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(V=>V.toLowerCase()=="content-type"),j=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(HR,m,void 0))||I||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,q]of _)this.g.setRequestHeader(V,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{W0(this),this.u=!0,this.g.send(c),this.u=!1}catch(V){B0(this,V)}};function B0(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,$0(c),Zc(c)}function $0(c){c.A||(c.A=!0,qe(c,"complete"),qe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,qe(this,"complete"),qe(this,"abort"),Zc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zc(this,!0)),Ge.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?z0(this):this.bb())},t.bb=function(){z0(this)};function z0(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Pr(c)!=4||c.Z()!=2)){if(c.u&&Pr(c)==4)Sr(c.Ea,0,c);else if(qe(c,"readystatechange"),Pr(c)==4){c.h=!1;try{const q=c.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var I;if(I=q===0){var j=String(c.D).match(D0)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),I=!WR.test(j?j.toLowerCase():"")}_=I}if(_)qe(c,"complete"),qe(c,"success");else{c.m=6;try{var V=2<Pr(c)?c.g.statusText:""}catch{V=""}c.l=V+" ["+c.Z()+"]",$0(c)}}finally{Zc(c)}}}}function Zc(c,m){if(c.g){W0(c);const _=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||qe(c,"ready");try{_.onreadystatechange=I}catch{}}}function W0(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Pr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Pr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),rr(m)}};function H0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function qR(c){const m={};c=(c.g&&2<=Pr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(E(c[I]))continue;var _=N(c[I]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const V=m[j]||[];m[j]=V,V.push(_)}P(m,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ya(c,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||m}function q0(c){this.Aa=0,this.i=[],this.j=new $a,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ya("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ya("baseRetryDelayMs",5e3,c),this.cb=Ya("retryDelaySeedMs",1e4,c),this.Wa=Ya("forwardChannelMaxRetries",2,c),this.wa=Ya("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new I0(c&&c.concurrentRequestLimit),this.Da=new $R,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=q0.prototype,t.la=8,t.G=1,t.connect=function(c,m,_,I){Ot(0),this.W=c,this.H=m||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.I=tw(this,null,this.W),tu(this)};function jf(c){if(G0(c),c.G==3){var m=c.U++,_=Ir(c.I);if(Oe(_,"SID",c.K),Oe(_,"RID",m),Oe(_,"TYPE","terminate"),Qa(c,_),m=new ai(c,c.j,m),m.L=2,m.v=Qc(Ir(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=m.v,_=!0),_||(m.g=nw(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Gc(m)}ew(c)}function eu(c){c.g&&(Ff(c),c.g.cancel(),c.g=null)}function G0(c){eu(c),c.u&&(a.clearTimeout(c.u),c.u=null),nu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function tu(c){if(!P0(c.h)&&!c.s){c.s=!0;var m=c.Ga;z||J(),M||(z(),M=!0),W.add(m,c),c.B=0}}function GR(c,m){return A0(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ba(h(c.Ga,c,m),Z0(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new ai(this,this.j,c);let V=this.o;if(this.S&&(V?(V=S(V),R(V,this.S)):V=this.S),this.m!==null||this.O||(j.H=V,V=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=Y0(this,j,m),_=Ir(this.I),Oe(_,"RID",c),Oe(_,"CVER",22),this.D&&Oe(_,"X-HTTP-Session-Id",this.D),Qa(this,_),V&&(this.O?m="headers="+encodeURIComponent(String(U0(V)))+"&"+m:this.m&&Lf(_,this.m,V)),Mf(this.h,j),this.Ua&&Oe(_,"TYPE","init"),this.P?(Oe(_,"$req",m),Oe(_,"SID","null"),j.T=!0,kf(j,_,null)):kf(j,_,m),this.G=2}}else this.G==3&&(c?K0(this,c):this.i.length==0||P0(this.h)||K0(this))};function K0(c,m){var _;m?_=m.l:_=c.U++;const I=Ir(c.I);Oe(I,"SID",c.K),Oe(I,"RID",_),Oe(I,"AID",c.T),Qa(c,I),c.m&&c.o&&Lf(I,c.m,c.o),_=new ai(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),m&&(c.i=m.D.concat(c.i)),m=Y0(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Mf(c.h,_),kf(_,I,m)}function Qa(c,m){c.H&&L(c.H,function(_,I){Oe(m,I,_)}),c.l&&N0({},function(_,I){Oe(m,I,_)})}function Y0(c,m,_){_=Math.min(c.i.length,_);var I=c.l?h(c.l.Na,c.l,c):null;e:{var j=c.i;let V=-1;for(;;){const q=["count="+_];V==-1?0<_?(V=j[0].g,q.push("ofs="+V)):V=0:q.push("ofs="+V);let Re=!0;for(let ht=0;ht<_;ht++){let Ee=j[ht].g;const Et=j[ht].map;if(Ee-=V,0>Ee)V=Math.max(0,j[ht].g-100),Re=!1;else try{zR(Et,q,"req"+Ee+"_")}catch{I&&I(Et)}}if(Re){I=q.join("&");break e}}}return c=c.i.splice(0,_),m.D=c,I}function Q0(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;z||J(),M||(z(),M=!0),W.add(m,c),c.v=0}}function Vf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ba(h(c.Fa,c),Z0(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,X0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ba(h(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),eu(this),X0(this))};function Ff(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function X0(c){c.g=new ai(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Ir(c.qa);Oe(m,"RID","rpc"),Oe(m,"SID",c.K),Oe(m,"AID",c.T),Oe(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Oe(m,"TO",c.ja),Oe(m,"TYPE","xmlhttp"),Qa(c,m),c.m&&c.o&&Lf(m,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Qc(Ir(m)),_.m=null,_.P=!0,b0(_,c)}t.Za=function(){this.C!=null&&(this.C=null,eu(this),Vf(this),Ot(19))};function nu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function J0(c,m){var _=null;if(c.g==m){nu(c),Ff(c),c.g=null;var I=2}else if(Of(c.h,m))_=m.D,R0(c.h,m),I=1;else return;if(c.G!=0){if(m.o)if(I==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var j=c.B;I=Wc(),qe(I,new _0(I,_)),tu(c)}else Q0(c);else if(j=m.s,j==3||j==0&&0<m.X||!(I==1&&GR(c,m)||I==2&&Vf(c)))switch(_&&0<_.length&&(m=c.h,m.i=m.i.concat(_)),j){case 1:ws(c,5);break;case 4:ws(c,10);break;case 3:ws(c,6);break;default:ws(c,2)}}}function Z0(c,m){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*m}function ws(c,m){if(c.j.info("Error code "+m),m==2){var _=h(c.fb,c),I=c.Xa;const j=!I;I=new ys(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Kc(I,"https"),Qc(I),j?UR(I.toString(),_):BR(I.toString(),_)}else Ot(2);c.G=0,c.l&&c.l.sa(m),ew(c),G0(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function ew(c){if(c.G=0,c.ka=[],c.l){const m=k0(c.h);(m.length!=0||c.i.length!=0)&&(x(c.ka,m),x(c.ka,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.ra()}}function tw(c,m,_){var I=_ instanceof ys?Ir(_):new ys(_);if(I.g!="")m&&(I.g=m+"."+I.g),Yc(I,I.s);else{var j=a.location;I=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var V=new ys(null);I&&Kc(V,I),m&&(V.g=m),j&&Yc(V,j),_&&(V.l=_),I=V}return _=c.D,m=c.ya,_&&m&&Oe(I,_,m),Oe(I,"VER",c.la),Qa(c,I),I}function nw(c,m,_){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new Ge(new Xc({eb:_})):new Ge(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rw(){}t=rw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ru(){}ru.prototype.g=function(c,m){return new rn(c,m)};function rn(c,m){Ze.call(this),this.g=new q0(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!E(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!E(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new io(this)}v(rn,Ze),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){jf(this.g)},rn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=gs(c),c=_);m.i.push(new RR(m.Ya++,c)),m.G==3&&tu(m)},rn.prototype.N=function(){this.g.l=null,delete this.j,jf(this.g),delete this.g,rn.aa.N.call(this)};function iw(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const _ in m){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}v(iw,zt);function sw(){oi.call(this),this.status=1}v(sw,oi);function io(c){this.g=c}v(io,rw),io.prototype.ua=function(){qe(this.g,"a")},io.prototype.ta=function(c){qe(this.g,new iw(c))},io.prototype.sa=function(c){qe(this.g,new sw)},io.prototype.ra=function(){qe(this.g,"b")},ru.prototype.createWebChannel=ru.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,tI=function(){return new ru},eI=function(){return Wc()},ZC=Cr,hg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hc.NO_ERROR=0,Hc.TIMEOUT=8,Hc.HTTP_ERROR=6,id=Hc,E0.COMPLETE="complete",JC=E0,Ce.EventType=_t,_t.OPEN="a",_t.CLOSE="b",_t.ERROR="c",_t.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,gl=Ce,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,XC=Ge}).apply(typeof Au<"u"?Au:typeof self<"u"?self:typeof window<"u"?window:{});const I1="@firebase/firestore",P1="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aa="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new Yv("@firebase/firestore");function ho(){return qs.logLevel}function Y(t,...e){if(qs.logLevel<=ge.DEBUG){const n=e.map(ly);qs.debug(`Firestore (${Aa}): ${t}`,...n)}}function Zr(t,...e){if(qs.logLevel<=ge.ERROR){const n=e.map(ly);qs.error(`Firestore (${Aa}): ${t}`,...n)}}function ua(t,...e){if(qs.logLevel<=ge.WARN){const n=e.map(ly);qs.warn(`Firestore (${Aa}): ${t}`,...n)}}function ly(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,nI(t,r,n)}function nI(t,e,n){let r=`FIRESTORE (${Aa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Zr(r),new Error(r)}function Se(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||nI(e,i,r)}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}}class R5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class k5{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Se(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string",31837,{l:r}),new rI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string",2055,{h:e}),new Pt(e)}}class N5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class D5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new N5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class A1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Se(this.o===void 0,3512);const r=s=>{s.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new A1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new A1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=M5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function fe(t,e){return t<e?-1:t>e?1:0}function fg(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return fe(r,i);{const s=iI(),o=L5(s.encode(R1(t,n)),s.encode(R1(e,n)));return o!==0?o:fe(r,i)}}n+=r>65535?2:1}return fe(t.length,e.length)}function R1(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function L5(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return fe(t[n],e[n]);return fe(t.length,e.length)}function da(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=-62135596800,N1=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*N1);return new at(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<k1)throw new Q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N1}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-k1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static fromTimestamp(e){return new le(e)}static min(){return new le(new at(0,0))}static max(){return new le(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="__name__";class or{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ie(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return or.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof or?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=or.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return fe(e.length,n.length)}static compareSegments(e,n){const r=or.isNumericId(e),i=or.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?or.extractNumericId(e).compare(or.extractNumericId(n)):fg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hi.fromString(e.substring(4,e.length-2))}}class je extends or{construct(e,n,r){return new je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new je(n)}static emptyPath(){return new je([])}}const j5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends or{construct(e,n,r){return new mt(e,n,r)}static isValidIdentifier(e){return j5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D1}static keyField(){return new mt([D1])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Q(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Q(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Q(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(n)}static emptyPath(){return new mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(je.fromString(e))}static fromName(e){return new te(je.fromString(e).popFirst(5))}static empty(){return new te(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new je(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=-1;function V5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new es(i,te.empty(),e)}function F5(t){return new es(t.readTime,t.key,lc)}class es{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new es(le.min(),te.empty(),lc)}static max(){return new es(le.max(),te.empty(),lc)}}function U5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ra(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==B5)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function z5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ka(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}nf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=-1;function rf(t){return t==null}function th(t){return t===0&&1/t==-1/0}function W5(t){return typeof t=="number"&&Number.isInteger(t)&&!th(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="";function H5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=O1(e)),e=q5(t.get(n),e);return O1(e)}function q5(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case oI:n+="";break;default:n+=s}}return n}function O1(t){return t+oI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Js(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.comparator=e,this.root=n||pt.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pt.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ru(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ru(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ru(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ru(this.root,e,this.comparator,!0)}}class Ru{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??pt.RED,this.left=i??pt.EMPTY,this.right=s??pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new pt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ie(27949);return e+(this.isRed()?0:1)}}pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1;pt.EMPTY=new class{constructor(){this.size=0}get key(){throw ie(57766)}get value(){throw ie(16141)}get color(){throw ie(16727)}get left(){throw ie(29726)}get right(){throw ie(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new L1(this.data.getIterator())}getIteratorFrom(e){return new L1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new lt(this.comparator);return n.data=e,n}}class L1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new Fn([])}unionWith(e){let n=new lt(mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return da(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new lI("Invalid base64 string: "+s):s}}(e);return new yt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const G5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(t){if(Se(!!t,39018),typeof t=="string"){let e=0;const n=G5.exec(t);if(Se(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ns(t){return typeof t=="string"?yt.fromBase64String(t):yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="server_timestamp",uI="__type__",dI="__previous_value__",hI="__local_write_time__";function uy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[uI])===null||n===void 0?void 0:n.stringValue)===cI}function sf(t){const e=t.mapValue.fields[dI];return uy(e)?sf(e):e}function cc(t){const e=ts(t.mapValue.fields[hI].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,n,r,i,s,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const nh="(default)";class uc{constructor(e,n){this.projectId=e,this.database=n||nh}static empty(){return new uc("","")}get isDefaultDatabase(){return this.database===nh}isEqual(e){return e instanceof uc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="__type__",pI="__max__",ku={mapValue:{fields:{__type__:{stringValue:pI}}}},mI="__vector__",rh="value";function rs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uy(t)?4:Q5(t)?9007199254740991:Y5(t)?10:11:ie(28295,{value:t})}function wr(t,e){if(t===e)return!0;const n=rs(t);if(n!==rs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cc(t).isEqual(cc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ts(i.timestampValue),a=ts(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ns(i.bytesValue).isEqual(ns(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Qe(i.geoPointValue.latitude)===Qe(s.geoPointValue.latitude)&&Qe(i.geoPointValue.longitude)===Qe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Qe(i.integerValue)===Qe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Qe(i.doubleValue),a=Qe(s.doubleValue);return o===a?th(o)===th(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return da(t.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(M1(o)!==M1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!wr(o[l],a[l])))return!1;return!0}(t,e);default:return ie(52216,{left:t})}}function dc(t,e){return(t.values||[]).find(n=>wr(n,e))!==void 0}function ha(t,e){if(t===e)return 0;const n=rs(t),r=rs(e);if(n!==r)return fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Qe(s.integerValue||s.doubleValue),l=Qe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return j1(t.timestampValue,e.timestampValue);case 4:return j1(cc(t),cc(e));case 5:return fg(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ns(s),l=ns(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=fe(a[u],l[u]);if(d!==0)return d}return fe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=fe(Qe(s.latitude),Qe(o.latitude));return a!==0?a:fe(Qe(s.longitude),Qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return V1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const f=s.fields||{},h=o.fields||{},g=(a=f[rh])===null||a===void 0?void 0:a.arrayValue,v=(l=h[rh])===null||l===void 0?void 0:l.arrayValue,y=fe(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:V1(g,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===ku.mapValue&&o===ku.mapValue)return 0;if(s===ku.mapValue)return 1;if(o===ku.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=fg(l[f],d[f]);if(h!==0)return h;const g=ha(a[l[f]],u[d[f]]);if(g!==0)return g}return fe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ie(23264,{Pe:n})}}function j1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);const n=ts(t),r=ts(e),i=fe(n.seconds,r.seconds);return i!==0?i:fe(n.nanos,r.nanos)}function V1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ha(n[i],r[i]);if(s)return s}return fe(n.length,r.length)}function fa(t){return pg(t)}function pg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ts(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ns(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=pg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${pg(n.fields[o])}`;return i+"}"}(t.mapValue):ie(61005,{value:t})}function sd(t){switch(rs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sf(t);return e?16+sd(e):16;case 5:return 2*t.stringValue.length;case 6:return ns(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+sd(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Js(r.fields,(s,o)=>{i+=s.length+sd(o)}),i}(t.mapValue);default:throw ie(13486,{value:t})}}function F1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function mg(t){return!!t&&"integerValue"in t}function dy(t){return!!t&&"arrayValue"in t}function U1(t){return!!t&&"nullValue"in t}function B1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function od(t){return!!t&&"mapValue"in t}function Y5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[fI])===null||n===void 0?void 0:n.stringValue)===mI}function Nl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Js(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Nl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Q5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===pI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!od(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nl(n)}setAll(e){let n=mt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Nl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());od(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];od(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Js(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new En(Nl(this.value))}}function gI(t){const e=[];return Js(t.fields,(n,r)=>{const i=new mt([n]);if(od(r)){const s=gI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Rt(e,0,le.min(),le.min(),le.min(),En.empty(),0)}static newFoundDocument(e,n,r,i){return new Rt(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new Rt(e,2,n,le.min(),le.min(),En.empty(),0)}static newUnknownDocument(e,n){return new Rt(e,3,n,le.min(),le.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n){this.position=e,this.inclusive=n}}function $1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=ha(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function z1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n="asc"){this.field=e,this.dir=n}}function X5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{}class rt extends vI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Z5(e,n,r):n==="array-contains"?new n3(e,r):n==="in"?new r3(e,r):n==="not-in"?new i3(e,r):n==="array-contains-any"?new s3(e,r):new rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new e3(e,r):new t3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ha(n,this.value)):n!==null&&rs(this.value)===rs(n)&&this.matchesComparison(ha(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends vI{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Kn(e,n)}matches(e){return yI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function yI(t){return t.op==="and"}function wI(t){return J5(t)&&yI(t)}function J5(t){for(const e of t.filters)if(e instanceof Kn)return!1;return!0}function gg(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+fa(t.value);if(wI(t))return t.filters.map(e=>gg(e)).join(",");{const e=t.filters.map(n=>gg(n)).join(",");return`${t.op}(${e})`}}function _I(t,e){return t instanceof rt?function(r,i){return i instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&wr(r.value,i.value)}(t,e):t instanceof Kn?function(r,i){return i instanceof Kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&_I(o,i.filters[a]),!0):!1}(t,e):void ie(19439)}function EI(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${fa(n.value)}`}(t):t instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(EI).join(" ,")+"}"}(t):"Filter"}class Z5 extends rt{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class e3 extends rt{constructor(e,n){super(e,"in",n),this.keys=xI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class t3 extends rt{constructor(e,n){super(e,"not-in",n),this.keys=xI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class n3 extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dy(n)&&dc(n.arrayValue,this.value)}}class r3 extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dc(this.value.arrayValue,n)}}class i3 extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!dc(this.value.arrayValue,n)}}class s3 extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>dc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function W1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new o3(t,e,n,r,i,s,o)}function hy(t){const e=ce(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>gg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),rf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fa(r)).join(",")),e.Ie=n}return e.Ie}function fy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!X5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_I(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!z1(t.startAt,e.startAt)&&z1(t.endAt,e.endAt)}function vg(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function a3(t,e,n,r,i,s,o,a){return new Na(t,e,n,r,i,s,o,a)}function of(t){return new Na(t)}function H1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TI(t){return t.collectionGroup!==null}function Dl(t){const e=ce(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new lt(mt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new hc(s,r))}),n.has(mt.keyField().canonicalString())||e.Ee.push(new hc(mt.keyField(),r))}return e.Ee}function gr(t){const e=ce(t);return e.de||(e.de=l3(e,Dl(t))),e.de}function l3(t,e){if(t.limitType==="F")return W1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new hc(i.field,s)});const n=t.endAt?new ih(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ih(t.startAt.position,t.startAt.inclusive):null;return W1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function yg(t,e){const n=t.filters.concat([e]);return new Na(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function wg(t,e,n){return new Na(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function af(t,e){return fy(gr(t),gr(e))&&t.limitType===e.limitType}function bI(t){return`${hy(gr(t))}|lt:${t.limitType}`}function fo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>EI(i)).join(", ")}]`),rf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fa(i)).join(",")),`Target(${r})`}(gr(t))}; limitType=${t.limitType})`}function lf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Dl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=$1(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Dl(r),i)||r.endAt&&!function(o,a,l){const u=$1(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Dl(r),i))}(t,e)}function c3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SI(t){return(e,n)=>{let r=!1;for(const i of Dl(t)){const s=u3(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function u3(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ha(l,u):ie(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return aI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=new He(te.comparator);function ei(){return d3}const CI=new He(te.comparator);function vl(...t){let e=CI;for(const n of t)e=e.insert(n.key,n);return e}function II(t){let e=CI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ps(){return Ol()}function PI(){return Ol()}function Ol(){return new Zs(t=>t.toString(),(t,e)=>t.isEqual(e))}const h3=new He(te.comparator),f3=new lt(te.comparator);function ve(...t){let e=f3;for(const n of t)e=e.add(n);return e}const p3=new lt(fe);function m3(){return p3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(e)?"-0":e}}function AI(t){return{integerValue:""+t}}function g3(t,e){return W5(e)?AI(e):py(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(){this._=void 0}}function v3(t,e,n){return t instanceof sh?function(i,s){const o={fields:{[uI]:{stringValue:cI},[hI]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&uy(s)&&(s=sf(s)),s&&(o.fields[dI]=s),{mapValue:o}}(n,e):t instanceof fc?kI(t,e):t instanceof pc?NI(t,e):function(i,s){const o=RI(i,s),a=q1(o)+q1(i.Re);return mg(o)&&mg(i.Re)?AI(a):py(i.serializer,a)}(t,e)}function y3(t,e,n){return t instanceof fc?kI(t,e):t instanceof pc?NI(t,e):n}function RI(t,e){return t instanceof oh?function(r){return mg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class sh extends cf{}class fc extends cf{constructor(e){super(),this.elements=e}}function kI(t,e){const n=DI(e);for(const r of t.elements)n.some(i=>wr(i,r))||n.push(r);return{arrayValue:{values:n}}}class pc extends cf{constructor(e){super(),this.elements=e}}function NI(t,e){let n=DI(e);for(const r of t.elements)n=n.filter(i=>!wr(i,r));return{arrayValue:{values:n}}}class oh extends cf{constructor(e,n){super(),this.serializer=e,this.Re=n}}function q1(t){return Qe(t.integerValue||t.doubleValue)}function DI(t){return dy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function w3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof fc&&i instanceof fc||r instanceof pc&&i instanceof pc?da(r.elements,i.elements,wr):r instanceof oh&&i instanceof oh?wr(r.Re,i.Re):r instanceof sh&&i instanceof sh}(t.transform,e.transform)}class _3{constructor(e,n){this.version=e,this.transformResults=n}}class zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ad(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class uf{}function OI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new my(t.key,zn.none()):new Dc(t.key,t.data,zn.none());{const n=t.data,r=En.empty();let i=new lt(mt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new eo(t.key,r,new Fn(i.toArray()),zn.none())}}function E3(t,e,n){t instanceof Dc?function(i,s,o){const a=i.value.clone(),l=K1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof eo?function(i,s,o){if(!ad(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=K1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(MI(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ml(t,e,n,r){return t instanceof Dc?function(s,o,a,l){if(!ad(s.precondition,o))return a;const u=s.value.clone(),d=Y1(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof eo?function(s,o,a,l){if(!ad(s.precondition,o))return a;const u=Y1(s.fieldTransforms,l,o),d=o.data;return d.setAll(MI(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return ad(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function x3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=RI(r.transform,i||null);s!=null&&(n===null&&(n=En.empty()),n.set(r.field,s))}return n||null}function G1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&da(r,i,(s,o)=>w3(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dc extends uf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class eo extends uf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function MI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function K1(t,e,n){const r=new Map;Se(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,y3(o,a,n[i]))}return r}function Y1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,v3(s,o,e))}return r}class my extends uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class T3 extends uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&E3(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ml(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ml(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=PI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=OI(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&da(this.mutations,e.mutations,(n,r)=>G1(n,r))&&da(this.baseMutations,e.baseMutations,(n,r)=>G1(n,r))}}class gy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Se(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return h3}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new gy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,ye;function I3(t){switch(t){case F.OK:return ie(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return ie(15467,{code:t})}}function LI(t){if(t===void 0)return Zr("GRPC error has no .code"),F.UNKNOWN;switch(t){case et.OK:return F.OK;case et.CANCELLED:return F.CANCELLED;case et.UNKNOWN:return F.UNKNOWN;case et.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case et.INTERNAL:return F.INTERNAL;case et.UNAVAILABLE:return F.UNAVAILABLE;case et.UNAUTHENTICATED:return F.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case et.NOT_FOUND:return F.NOT_FOUND;case et.ALREADY_EXISTS:return F.ALREADY_EXISTS;case et.PERMISSION_DENIED:return F.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case et.ABORTED:return F.ABORTED;case et.OUT_OF_RANGE:return F.OUT_OF_RANGE;case et.UNIMPLEMENTED:return F.UNIMPLEMENTED;case et.DATA_LOSS:return F.DATA_LOSS;default:return ie(39323,{code:t})}}(ye=et||(et={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=new Hi([4294967295,4294967295],0);function Q1(t){const e=iI().encode(t),n=new QC;return n.update(e),new Uint8Array(n.digest())}function X1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Hi([n,r],0),new Hi([i,s],0)]}class vy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yl(`Invalid padding: ${n}`);if(r<0)throw new yl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Hi.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Hi.fromNumber(r)));return i.compare(P3)===1&&(i=new Hi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Q1(e),[r,i]=X1(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.be(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new vy(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=Q1(e),[r,i]=X1(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Oc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new df(le.min(),i,new He(fe),ei(),ve())}}class Oc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Oc(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class jI{constructor(e,n){this.targetId=e,this.Ce=n}}class VI{constructor(e,n,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class J1{constructor(){this.Fe=0,this.Me=Z1(),this.xe=yt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ve(),n=ve(),r=ve();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie(38017,{changeType:s})}}),new Oc(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=Z1()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Se(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class A3{constructor(e){this.ze=e,this.je=new Map,this.He=ei(),this.Je=Nu(),this.Ye=Nu(),this.Ze=new He(fe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:ie(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(vg(s))if(r===0){const o=new te(s.path);this.tt(n,o,Rt.newNoDocument(o,le.min()))}else Se(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ns(r).toUint8Array()}catch(l){if(l instanceof lI)return ua("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new vy(o,i,s)}catch(l){return ua(l instanceof yl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&vg(a.target)){const l=new te(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Rt.newNoDocument(l,e))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=ve();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new df(e,n,this.Ze,this.He,r);return this.He=ei(),this.Je=Nu(),this.Ye=Nu(),this.Ze=new He(fe),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new J1,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new lt(fe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new lt(fe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new J1),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Nu(){return new He(te.comparator)}function Z1(){return new He(te.comparator)}const R3={asc:"ASCENDING",desc:"DESCENDING"},k3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},N3={and:"AND",or:"OR"};class D3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _g(t,e){return t.useProto3Json||rf(e)?e:{value:e}}function ah(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function O3(t,e){return ah(t,e.toTimestamp())}function vr(t){return Se(!!t,49232),le.fromTimestamp(function(n){const r=ts(n);return new at(r.seconds,r.nanos)}(t))}function yy(t,e){return Eg(t,e).canonicalString()}function Eg(t,e){const n=function(i){return new je(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function UI(t){const e=je.fromString(t);return Se(HI(e),10190,{key:e.toString()}),e}function xg(t,e){return yy(t.databaseId,e.path)}function Pp(t,e){const n=UI(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te($I(n))}function BI(t,e){return yy(t.databaseId,e)}function M3(t){const e=UI(t);return e.length===4?je.emptyPath():$I(e)}function Tg(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $I(t){return Se(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function eE(t,e,n){return{name:xg(t,e),fields:n.value.mapValue.fields}}function L3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ie(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Se(d===void 0||typeof d=="string",58123),yt.fromBase64String(d||"")):(Se(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),yt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?F.UNKNOWN:LI(u.code);return new Q(d,u.message||"")}(o);n=new VI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Pp(t,r.document.name),s=vr(r.document.updateTime),o=r.document.createTime?vr(r.document.createTime):le.min(),a=new En({mapValue:{fields:r.document.fields}}),l=Rt.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new ld(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Pp(t,r.document),s=r.readTime?vr(r.readTime):le.min(),o=Rt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ld([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Pp(t,r.document),s=r.removedTargetIds||[];n=new ld([],s,i,null)}else{if(!("filter"in e))return ie(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new C3(i,s),a=r.targetId;n=new jI(a,o)}}return n}function j3(t,e){let n;if(e instanceof Dc)n={update:eE(t,e.key,e.value)};else if(e instanceof my)n={delete:xg(t,e.key)};else if(e instanceof eo)n={update:eE(t,e.key,e.data),updateMask:q3(e.fieldMask)};else{if(!(e instanceof T3))return ie(16599,{ft:e.type});n={verify:xg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof sh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof fc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof pc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof oh)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw ie(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:O3(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ie(27497)}(t,e.precondition)),n}function V3(t,e){return t&&t.length>0?(Se(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?vr(i.updateTime):vr(s);return o.isEqual(le.min())&&(o=vr(s)),new _3(o,i.transformResults||[])}(n,e))):[]}function F3(t,e){return{documents:[BI(t,e.path)]}}function U3(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BI(t,i);const s=function(u){if(u.length!==0)return WI(Kn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:po(h.field),direction:z3(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=_g(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function B3(t){let e=M3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Se(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const h=zI(f);return h instanceof Kn&&wI(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(v){return new hc(mo(v.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,rf(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,g=f.values||[];return new ih(g,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,g=f.values||[];return new ih(g,h)}(n.endAt)),a3(e,i,o,s,a,"F",l,u)}function $3(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mo(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=mo(n.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=mo(n.unaryFilter.field);return rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=mo(n.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ie(61313);default:return ie(60726)}}(t):t.fieldFilter!==void 0?function(n){return rt.create(mo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ie(58110);default:return ie(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(r=>zI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie(1026)}}(n.compositeFilter.op))}(t):ie(30097,{filter:t})}function z3(t){return R3[t]}function W3(t){return k3[t]}function H3(t){return N3[t]}function po(t){return{fieldPath:t.canonicalString()}}function mo(t){return mt.fromServerFormat(t.fieldPath)}function WI(t){return t instanceof rt?function(n){if(n.op==="=="){if(B1(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NAN"}};if(U1(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(B1(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NAN"}};if(U1(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(n.field),op:W3(n.op),value:n.value}}}(t):t instanceof Kn?function(n){const r=n.getFilters().map(i=>WI(i));return r.length===1?r[0]:{compositeFilter:{op:H3(n.op),filters:r}}}(t):ie(54877,{filter:t})}function q3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n,r,i,s=le.min(),o=le.min(),a=yt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.wt=e}}function K3(t){const e=B3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?wg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(){this.Cn=new Q3}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(es.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(es.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class Q3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new lt(je.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qI=41943040;class Wt{static withCacheSize(e){return new Wt(e,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wt.DEFAULT_COLLECTION_PERCENTILE=10,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wt.DEFAULT=new Wt(qI,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wt.DISABLED=new Wt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new pa(0)}static lr(){return new pa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="LruGarbageCollector",X3=1048576;function rE([t,e],[n,r]){const i=fe(t,n);return i===0?fe(e,r):i}class J3{constructor(e){this.Er=e,this.buffer=new lt(rE),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();rE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Z3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Y(nE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ka(n)?Y(nE,"Ignoring IndexedDB error during garbage collection: ",n):await Ra(n)}await this.mr(3e5)})}}class e6{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(nf.le);const r=new J3(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(tE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tE):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,s,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),ho()<=ge.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function t6(t,e){return new e6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(){this.changes=new Zs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ml(r.mutation,i,Fn.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const i=Ps();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=vl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ps();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ei();const o=Ol(),a=function(){return Ol()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof eo)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Ml(d.mutation,u,d.mutation.getFieldMask(),at.now())):o.set(u.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new r6(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ol();let i=new He((o,a)=>o-a),s=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Fn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(i.get(a.batchId)||ve()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=PI();d.forEach(h=>{if(!s.has(h)){const g=OI(n.get(h),r.get(h));g!==null&&f.set(h,g),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(Ps());let a=lc,l=s;return o.next(u=>U.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ve())).next(d=>({batchId:a,changes:II(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=vl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=vl();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,l=>{const u=function(f,h){return new Na(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Rt.newInvalidDocument(d)))});let a=vl();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&Ml(d.mutation,u,Fn.empty(),at.now()),lf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return U.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:vr(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:K3(i.bundledQuery),readTime:vr(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(){this.overlays=new He(te.comparator),this.Qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ps();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Ps(),s=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new He((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Ps(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Ps(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return U.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new S3(n,r));let s=this.Qr.get(n);s===void 0&&(s=ve(),this.Qr.set(n,s)),this.Qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(){this.sessionToken=yt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(){this.$r=new lt(ct.Ur),this.Kr=new lt(ct.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new ct(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new ct(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new te(new je([])),r=new ct(n,e),i=new ct(n,e+1),s=[];return this.Kr.forEachInRange([r,i],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new te(new je([])),r=new ct(n,e),i=new ct(n,e+1);let s=ve();return this.Kr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ct(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return te.comparator(e.key,n.key)||fe(e.Zr,n.Zr)}static Wr(e,n){return fe(e.Zr,n.Zr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new lt(ct.Ur)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new b3(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Xr=this.Xr.add(new ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?cy:this.nr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],o=>{const a=this.ei(o.Zr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(fe);return n.forEach(i=>{const s=new ct(i,0),o=new ct(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],a=>{r=r.add(a.Zr)})}),U.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;te.isDocumentKey(s)||(s=s.child(""));const o=new ct(new te(s),0);let a=new lt(fe);return this.Xr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Zr)),!0)},o),U.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Se(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return U.forEach(n.mutations,i=>{const s=new ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new ct(n,0),i=this.Xr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e){this.ii=e,this.docs=function(){return new He(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Rt.newInvalidDocument(n))}getEntries(e,n){let r=ei();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Rt.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ei();const o=n.path,a=new te(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||U5(F5(d),r)<=0||(i.has(d.key)||lf(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ie(9500)}si(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new u6(this)}getSize(e){return U.resolve(this.size)}}class u6 extends n6{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e){this.persistence=e,this.oi=new Zs(n=>hy(n),fy),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this._i=0,this.ai=new wy,this.targetCount=0,this.ui=pa.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),U.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new pa(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Tr(n),U.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n){this.ci={},this.overlays={},this.li=new nf(0),this.hi=!1,this.hi=!0,this.Pi=new a6,this.referenceDelegate=e(this),this.Ti=new d6(this),this.indexManager=new Y3,this.remoteDocumentCache=function(i){return new c6(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new G3(n),this.Ei=new s6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new o6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new l6(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const i=new h6(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,n){return U.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class h6 extends $5{constructor(e){super(),this.currentSequenceNumber=e}}class _y{constructor(e){this.persistence=e,this.Vi=new wy,this.mi=null}static fi(e){return new _y(e)}get gi(){if(this.mi)return this.mi;throw ie(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.gi,r=>{const i=te.fromPath(r);return this.pi(e,i).next(s=>{s||n.removeEntry(i,le.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return U.or([()=>U.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class lh{constructor(e,n){this.persistence=e,this.yi=new Zs(r=>H5(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=t6(this,n)}static fi(e,n){return new lh(e,n)}di(){}Ai(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return U.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?U.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,le.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),U.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sd(e.data.value)),n}Dr(e,n,r){return U.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=ve(),i=ve();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ey(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return q4()?8:z5(Nt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ws(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.bs(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new f6;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>s.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(ho()<=ge.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),U.resolve()):(ho()<=ge.DEBUG&&Y("QueryEngine","Query:",fo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(ho()<=ge.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(n))):U.resolve())}ws(e,n){if(H1(n))return U.resolve(null);let r=gr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=wg(n,null,"F"),r=gr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ve(...s);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.vs(n,a);return this.Cs(n,u,o,l.readTime)?this.ws(e,wg(n,null,"F")):this.Fs(e,u,n,l)}))})))}bs(e,n,r,i){return H1(n)||i.isEqual(le.min())?U.resolve(null):this.ys.getDocuments(e,r).next(s=>{const o=this.vs(n,s);return this.Cs(n,o,r,i)?U.resolve(null):(ho()<=ge.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fo(n)),this.Fs(e,o,n,V5(i,lc)).next(a=>a))})}vs(e,n){let r=new lt(SI(e));return n.forEach((i,s)=>{lf(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return ho()<=ge.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",fo(n)),this.ys.getDocumentsMatchingQuery(e,n,es.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="LocalStore",m6=3e8;class g6{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new He(fe),this.Os=new Zs(s=>hy(s),fy),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new i6(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function v6(t,e,n,r){return new g6(t,e,n,r)}async function KI(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ve();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:a}))})})}function y6(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const f=u.batch,h=f.keys();let g=U.resolve();return h.forEach(v=>{g=g.next(()=>d.getEntry(l,v)).next(y=>{const x=u.docVersions.get(v);Se(x!==null,48541),y.version.compareTo(x)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),d.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ve();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function YI(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function w6(t,e){const n=ce(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.Ti.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Ti.addMatchingKeys(s,d.addedDocuments,f)));let g=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(yt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(f,g),function(y,x,T){return y.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=m6?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(h,g,d)&&a.push(n.Ti.updateTargetData(s,g))});let l=ei(),u=ve();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(_6(s,o,e.documentUpdates).next(d=>{l=d.qs,u=d.Qs})),!r.isEqual(le.min())){const d=n.Ti.getLastRemoteSnapshotVersion(s).next(f=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.xs=i,s))}function _6(t,e,n){let r=ve(),i=ve();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ei();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(le.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Y(xy,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{qs:o,Qs:i}})}function E6(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=cy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function x6(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Ti.allocateTargetId(r).next(o=>(i=new Di(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function bg(t,e,n){const r=ce(t),i=r.xs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ka(o))throw o;Y(xy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function iE(t,e,n){const r=ce(t);let i=le.min(),s=ve();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const f=ce(l),h=f.Os.get(d);return h!==void 0?U.resolve(f.xs.get(h)):f.Ti.getTargetData(u,d)}(r,o,gr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?i:le.min(),n?s:ve())).next(a=>(T6(r,c3(e),a),{documents:a,$s:s})))}function T6(t,e,n){let r=t.Ns.get(e)||le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ns.set(e,r)}class sE{constructor(){this.activeTargetIds=m3()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class b6{constructor(){this.xo=new sE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new sE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="ConnectivityMonitor";class aE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Y(oE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Y(oE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Du=null;function Sg(){return Du===null?Du=function(){return 268435456+Math.round(2147483648*Math.random())}():Du++,"0x"+Du.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="RestConnection",C6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class I6{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===nh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,s){const o=Sg(),a=this.jo(e,n.toUriEncodedString());Y(Ap,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,i,s);const{host:u}=new URL(a),d=Ca(u);return this.Jo(e,a,l,r,d).then(f=>(Y(Ap,`Received RPC '${e}' ${o}: `,f),f),f=>{throw ua(Ap,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Yo(e,n,r,i,s,o){return this.zo(e,n,r,i,s)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Aa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,n){const r=C6[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ct="WebChannelConnection";class A6 extends I6{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=Sg();return new Promise((a,l)=>{const u=new XC;u.setWithCredentials(!0),u.listenOnce(JC.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case id.NO_ERROR:const f=u.getResponseJson();Y(Ct,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case id.TIMEOUT:Y(Ct,`RPC '${e}' ${o} timed out`),l(new Q(F.DEADLINE_EXCEEDED,"Request time out"));break;case id.HTTP_ERROR:const h=u.getStatus();if(Y(Ct,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const y=function(T){const E=T.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(E)>=0?E:F.UNKNOWN}(v.status);l(new Q(y,v.message))}else l(new Q(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Q(F.UNAVAILABLE,"Connection failed."));break;default:ie(9055,{h_:e,streamId:o,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{Y(Ct,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);Y(Ct,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",d,r,15)})}I_(e,n,r){const i=Sg(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=tI(),a=eI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");Y(Ct,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);this.E_(f);let h=!1,g=!1;const v=new P6({Zo:x=>{g?Y(Ct,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(Y(Ct,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Y(Ct,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},Xo:()=>f.close()}),y=(x,T,E)=>{x.listen(T,b=>{try{E(b)}catch(A){setTimeout(()=>{throw A},0)}})};return y(f,gl.EventType.OPEN,()=>{g||(Y(Ct,`RPC '${e}' stream ${i} transport opened.`),v.__())}),y(f,gl.EventType.CLOSE,()=>{g||(g=!0,Y(Ct,`RPC '${e}' stream ${i} transport closed`),v.u_(),this.d_(f))}),y(f,gl.EventType.ERROR,x=>{g||(g=!0,ua(Ct,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),v.u_(new Q(F.UNAVAILABLE,"The operation could not be completed")))}),y(f,gl.EventType.MESSAGE,x=>{var T;if(!g){const E=x.data[0];Se(!!E,16349);const b=E,A=(b==null?void 0:b.error)||((T=b[0])===null||T===void 0?void 0:T.error);if(A){Y(Ct,`RPC '${e}' stream ${i} received error:`,A);const D=A.status;let L=function(C){const R=et[C];if(R!==void 0)return LI(R)}(D),P=A.message;L===void 0&&(L=F.INTERNAL,P="Unknown error status: "+D+" with message "+A.message),g=!0,v.u_(new Q(L,P)),f.close()}else Y(Ct,`RPC '${e}' stream ${i} received:`,E),v.c_(E)}}),y(a,ZC.STAT_EVENT,x=>{x.stat===hg.PROXY?Y(Ct,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===hg.NOPROXY&&Y(Ct,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.a_()},0),v}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Rp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t){return new D3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="PersistentStream";class XI{constructor(e,n,r,i,s,o,a,l){this.xi=e,this.S_=r,this.D_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new QI(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Zr(n.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new Q(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Y(lE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(Y(lE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class R6 extends XI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=L3(this.serializer,e),r=function(s){if(!("targetChange"in s))return le.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?vr(o.readTime):le.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Tg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=vg(l)?{documents:F3(s,l)}:{query:U3(s,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=FI(s,o.resumeToken);const u=_g(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=ah(s,o.snapshotVersion.toTimestamp());const u=_g(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=$3(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Tg(this.serializer),n.removeTarget=e,this.Q_(n)}}class k6 extends XI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Se(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Se(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=V3(e.writeResults,e.commitTime),r=vr(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Tg(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>j3(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{}class D6 extends N6{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new Q(F.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,Eg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(F.UNKNOWN,s.toString())})}Yo(e,n,r,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,Eg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(F.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class O6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Zr(n),this.ua=!1):Y("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="RemoteStore";class M6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(o=>{r.enqueueAndForget(async()=>{to(this)&&(Y(Gs,"Restarting streams for network reachability change."),await async function(l){const u=ce(l);u.da.add(4),await Mc(u),u.Va.set("Unknown"),u.da.delete(4),await ff(u)}(this))})}),this.Va=new O6(r,i)}}async function ff(t){if(to(t))for(const e of t.Aa)await e(!0)}async function Mc(t){for(const e of t.Aa)await e(!1)}function JI(t,e){const n=ce(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Cy(n)?Sy(n):Da(n).N_()&&by(n,e))}function Ty(t,e){const n=ce(t),r=Da(n);n.Ea.delete(e),r.N_()&&ZI(n,e),n.Ea.size===0&&(r.N_()?r.k_():to(n)&&n.Va.set("Unknown"))}function by(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Da(t).Z_(e)}function ZI(t,e){t.ma.Ke(e),Da(t).X_(e)}function Sy(t){t.ma=new A3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Da(t).start(),t.Va.ca()}function Cy(t){return to(t)&&!Da(t).O_()&&t.Ea.size>0}function to(t){return ce(t).da.size===0}function eP(t){t.ma=void 0}async function L6(t){t.Va.set("Online")}async function j6(t){t.Ea.forEach((e,n)=>{by(t,e)})}async function V6(t,e){eP(t),Cy(t)?(t.Va.Pa(e),Sy(t)):t.Va.set("Unknown")}async function F6(t,e,n){if(t.Va.set("Online"),e instanceof VI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ea.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ea.delete(a),i.ma.removeTarget(a))}(t,e)}catch(r){Y(Gs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ch(t,r)}else if(e instanceof ld?t.ma.Xe(e):e instanceof jI?t.ma.ot(e):t.ma.nt(e),!n.isEqual(le.min()))try{const r=await YI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.ma.It(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ea.get(u);d&&s.Ea.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.Ea.get(l);if(!d)return;s.Ea.set(l,d.withResumeToken(yt.EMPTY_BYTE_STRING,d.snapshotVersion)),ZI(s,l);const f=new Di(d.target,l,u,d.sequenceNumber);by(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y(Gs,"Failed to raise snapshot:",r),await ch(t,r)}}async function ch(t,e,n){if(!ka(e))throw e;t.da.add(1),await Mc(t),t.Va.set("Offline"),n||(n=()=>YI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(Gs,"Retrying IndexedDB access"),await n(),t.da.delete(1),await ff(t)})}function tP(t,e){return e().catch(n=>ch(t,n,e))}async function pf(t){const e=ce(t),n=is(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:cy;for(;U6(e);)try{const i=await E6(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,B6(e,i)}catch(i){await ch(e,i)}nP(e)&&rP(e)}function U6(t){return to(t)&&t.Ia.length<10}function B6(t,e){t.Ia.push(e);const n=is(t);n.N_()&&n.ea&&n.ta(e.mutations)}function nP(t){return to(t)&&!is(t).O_()&&t.Ia.length>0}function rP(t){is(t).start()}async function $6(t){is(t).ia()}async function z6(t){const e=is(t);for(const n of t.Ia)e.ta(n.mutations)}async function W6(t,e,n){const r=t.Ia.shift(),i=gy.from(r,e,n);await tP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await pf(t)}async function H6(t,e){e&&is(t).ea&&await async function(r,i){if(function(o){return I3(o)&&o!==F.ABORTED}(i.code)){const s=r.Ia.shift();is(r).L_(),await tP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await pf(r)}}(t,e),nP(t)&&rP(t)}async function cE(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),Y(Gs,"RemoteStore received new credentials");const r=to(n);n.da.add(3),await Mc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await ff(n)}async function q6(t,e){const n=ce(t);e?(n.da.delete(2),await ff(n)):e||(n.da.add(2),await Mc(n),n.Va.set("Unknown"))}function Da(t){return t.fa||(t.fa=function(n,r,i){const s=ce(n);return s.oa(),new R6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:L6.bind(null,t),n_:j6.bind(null,t),i_:V6.bind(null,t),Y_:F6.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),Cy(t)?Sy(t):t.Va.set("Unknown")):(await t.fa.stop(),eP(t))})),t.fa}function is(t){return t.ga||(t.ga=function(n,r,i){const s=ce(n);return s.oa(),new k6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:$6.bind(null,t),i_:H6.bind(null,t),na:z6.bind(null,t),ra:W6.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await pf(t)):(await t.ga.stop(),t.Ia.length>0&&(Y(Gs,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Iy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Py(t,e){if(Zr("AsyncQueue",`${e}: ${t}`),ka(t))return new Q(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{static emptySet(e){return new $o(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=vl(),this.sortedSet=new He(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $o)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $o;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(){this.pa=new He(te.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):ie(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class ma{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ma(e,n,$o.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class K6{constructor(){this.queries=dE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ce(n),s=i.queries;i.queries=dE(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Q(F.ABORTED,"Firestore shutting down"))}}function dE(){return new Zs(t=>bI(t),af)}async function Ay(t,e){const n=ce(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Da()&&e.va()&&(r=2):(s=new G6,r=e.va()?0:1);try{switch(r){case 0:s.ba=await n.onListen(i,!0);break;case 1:s.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Py(o,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.Fa(n.onlineState),s.ba&&e.Ma(s.ba)&&ky(n)}async function Ry(t,e){const n=ce(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.va()?0:1:!s.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Y6(t,e){const n=ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Ma(i)&&(r=!0);o.ba=i}}r&&ky(n)}function Q6(t,e,n){const r=ce(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function ky(t){t.Ca.forEach(e=>{e.next()})}var Cg,hE;(hE=Cg||(Cg={})).xa="default",hE.Cache="cache";class Ny{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ma(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=ma.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Cg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.key=e}}class sP{constructor(e){this.key=e}}class X6{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ve(),this.mutatedKeys=ve(),this.Za=SI(e),this.Xa=new $o(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new uE,i=n?n.Xa:this.Xa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),g=lf(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;h&&g?h.data.isEqual(g.data)?v!==y&&(r.track({type:3,doc:g}),x=!0):this.ru(h,g)||(r.track({type:2,doc:g}),x=!0,(l&&this.Za(g,l)>0||u&&this.Za(g,u)<0)&&(a=!0)):!h&&g?(r.track({type:0,doc:g}),x=!0):h&&!g&&(r.track({type:1,doc:h}),x=!0,(l||u)&&(a=!0)),x&&(g?(o=o.add(g),s=y?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Xa:o,nu:r,Cs:a,mutatedKeys:s}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((d,f)=>function(g,v){const y=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie(20277,{Vt:x})}};return y(g)-y(v)}(d.type,f.type)||this.Za(d.doc,f.doc)),this.iu(r),i=i!=null&&i;const a=n&&!i?this.su():[],l=this.Ya.size===0&&this.current&&!i?1:0,u=l!==this.Ja;return this.Ja=l,o.length!==0||u?{snapshot:new ma(this.query,e.Xa,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new uE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ve(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new sP(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new iP(r))}),n}au(e){this.Ha=e.$s,this.Ya=ve();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return ma.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Dy="SyncEngine";class J6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Z6{constructor(e){this.key=e,this.cu=!1}}class e9{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new Zs(a=>bI(a),af),this.Pu=new Map,this.Tu=new Set,this.Iu=new He(te.comparator),this.Eu=new Map,this.du=new wy,this.Au={},this.Ru=new Map,this.Vu=pa.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function t9(t,e,n=!0){const r=dP(t);let i;const s=r.hu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.uu()):i=await oP(r,e,n,!0),i}async function n9(t,e){const n=dP(t);await oP(n,e,!0,!1)}async function oP(t,e,n,r){const i=await x6(t.localStore,gr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await r9(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&JI(t.remoteStore,i),a}async function r9(t,e,n,r,i){t.fu=(f,h,g)=>async function(y,x,T,E){let b=x.view.tu(T);b.Cs&&(b=await iE(y.localStore,x.query,!1).then(({documents:P})=>x.view.tu(P,b)));const A=E&&E.targetChanges.get(x.targetId),D=E&&E.targetMismatches.get(x.targetId)!=null,L=x.view.applyChanges(b,y.isPrimaryClient,A,D);return pE(y,x.targetId,L.ou),L.snapshot}(t,f,h,g);const s=await iE(t.localStore,e,!0),o=new X6(e,s.$s),a=o.tu(s.documents),l=Oc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);pE(t,n,u.ou);const d=new J6(e,n,o);return t.hu.set(e,d),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),u.snapshot}async function i9(t,e,n){const r=ce(t),i=r.hu.get(e),s=r.Pu.get(i.targetId);if(s.length>1)return r.Pu.set(i.targetId,s.filter(o=>!af(o,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await bg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ty(r.remoteStore,i.targetId),Ig(r,i.targetId)}).catch(Ra)):(Ig(r,i.targetId),await bg(r.localStore,i.targetId,!0))}async function s9(t,e){const n=ce(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ty(n.remoteStore,r.targetId))}async function o9(t,e,n){const r=f9(t);try{const i=await function(o,a){const l=ce(o),u=at.now(),d=a.reduce((g,v)=>g.add(v.key),ve());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=ei(),y=ve();return l.Bs.getEntries(g,d).next(x=>{v=x,v.forEach((T,E)=>{E.isValidDocument()||(y=y.add(T))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,v)).next(x=>{f=x;const T=[];for(const E of a){const b=x3(E,f.get(E.key).overlayedDocument);b!=null&&T.push(new eo(E.key,b,gI(b.value.mapValue),zn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,T,a)}).next(x=>{h=x;const T=x.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(g,x.batchId,T)})}).then(()=>({batchId:h.batchId,changes:II(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Au[o.currentUser.toKey()];u||(u=new He(fe)),u=u.insert(a,l),o.Au[o.currentUser.toKey()]=u}(r,i.batchId,n),await Lc(r,i.changes),await pf(r.remoteStore)}catch(i){const s=Py(i,"Failed to persist write");n.reject(s)}}async function aP(t,e){const n=ce(t);try{const r=await w6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.cu=!0:i.modifiedDocuments.size>0?Se(o.cu,14607):i.removedDocuments.size>0&&(Se(o.cu,42227),o.cu=!1))}),await Lc(n,r,e)}catch(r){await Ra(r)}}function fE(t,e,n){const r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((s,o)=>{const a=o.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ce(o);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(const h of f.Sa)h.Fa(a)&&(u=!0)}),u&&ky(l)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function a9(t,e,n){const r=ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new He(te.comparator);o=o.insert(s,Rt.newNoDocument(s,le.min()));const a=ve().add(s),l=new df(le.min(),new Map,new He(fe),o,a);await aP(r,l),r.Iu=r.Iu.remove(s),r.Eu.delete(e),Oy(r)}else await bg(r.localStore,e,!1).then(()=>Ig(r,e,n)).catch(Ra)}async function l9(t,e){const n=ce(t),r=e.batch.batchId;try{const i=await y6(n.localStore,e);cP(n,r,null),lP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Lc(n,i)}catch(i){await Ra(i)}}async function c9(t,e,n){const r=ce(t);try{const i=await function(o,a){const l=ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Se(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);cP(r,e,n),lP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Lc(r,i)}catch(i){await Ra(i)}}function lP(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function cP(t,e,n){const r=ce(t);let i=r.Au[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function Ig(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||uP(t,r)})}function uP(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(Ty(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),Oy(t))}function pE(t,e,n){for(const r of n)r instanceof iP?(t.du.addReference(r.key,e),u9(t,r)):r instanceof sP?(Y(Dy,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||uP(t,r.key)):ie(19791,{pu:r})}function u9(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(Y(Dy,"New document in limbo: "+n),t.Tu.add(r),Oy(t))}function Oy(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new te(je.fromString(e)),r=t.Vu.next();t.Eu.set(r,new Z6(n)),t.Iu=t.Iu.insert(n,r),JI(t.remoteStore,new Di(gr(of(n.path)),r,"TargetPurposeLimboResolution",nf.le))}}async function Lc(t,e,n){const r=ce(t),i=[],s=[],o=[];r.hu.isEmpty()||(r.hu.forEach((a,l)=>{o.push(r.fu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Ey.Rs(l.targetId,u);s.push(f)}}))}),await Promise.all(o),r.lu.Y_(i),await async function(l,u){const d=ce(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(u,h=>U.forEach(h.ds,g=>d.persistence.referenceDelegate.addReference(f,h.targetId,g)).next(()=>U.forEach(h.As,g=>d.persistence.referenceDelegate.removeReference(f,h.targetId,g)))))}catch(f){if(!ka(f))throw f;Y(xy,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const g=d.xs.get(h),v=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(v);d.xs=d.xs.insert(h,y)}}}(r.localStore,s))}async function d9(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){Y(Dy,"User change. New user:",e.toKey());const r=await KI(n.localStore,e);n.currentUser=e,function(s,o){s.Ru.forEach(a=>{a.forEach(l=>{l.reject(new Q(F.CANCELLED,o))})}),s.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Lc(n,r.ks)}}function h9(t,e){const n=ce(t),r=n.Eu.get(e);if(r&&r.cu)return ve().add(r.key);{let i=ve();const s=n.Pu.get(e);if(!s)return i;for(const o of s){const a=n.hu.get(o);i=i.unionWith(a.view.eu)}return i}}function dP(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=h9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=a9.bind(null,e),e.lu.Y_=Y6.bind(null,e.eventManager),e.lu.gu=Q6.bind(null,e.eventManager),e}function f9(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=l9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c9.bind(null,e),e}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return v6(this.persistence,new p6,e.initialUser,this.serializer)}Su(e){return new GI(_y.fi,this.serializer)}bu(e){return new b6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class p9 extends uh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Se(this.persistence.referenceDelegate instanceof lh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Z3(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Wt.withCacheSize(this.cacheSizeBytes):Wt.DEFAULT;return new GI(r=>lh.fi(r,n),this.serializer)}}class Pg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=d9.bind(null,this.syncEngine),await q6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new K6}()}createDatastore(e){const n=hf(e.databaseInfo.databaseId),r=function(s){return new A6(s)}(e.databaseInfo);return function(s,o,a,l){return new D6(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new M6(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>fE(this.syncEngine,n,0),function(){return aE.C()?new aE:new S6}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const f=new e9(i,s,o,a,l,u);return d&&(f.mu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ce(i);Y(Gs,"RemoteStore shutting down."),s.da.add(5),await Mc(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Pg.provider={build:()=>new Pg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="FirestoreClient";class m9{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pt.UNAUTHENTICATED,this.clientId=sI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Y(ss,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y(ss,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Py(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function kp(t,e){t.asyncQueue.verifyOperationInProgress(),Y(ss,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await KI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function mE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await g9(t);Y(ss,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>cE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>cE(e.remoteStore,i)),t._onlineComponents=e}async function g9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(ss,"Using user provided OfflineComponentProvider");try{await kp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ua("Error using user provided cache. Falling back to memory cache: "+n),await kp(t,new uh)}}else Y(ss,"Using default OfflineComponentProvider"),await kp(t,new p9(void 0));return t._offlineComponents}async function hP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(ss,"Using user provided OnlineComponentProvider"),await mE(t,t._uninitializedComponentsProvider._online)):(Y(ss,"Using default OnlineComponentProvider"),await mE(t,new Pg))),t._onlineComponents}function v9(t){return hP(t).then(e=>e.syncEngine)}async function dh(t){const e=await hP(t),n=e.eventManager;return n.onListen=t9.bind(null,e.syncEngine),n.onUnlisten=i9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=n9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=s9.bind(null,e.syncEngine),n}function y9(t,e,n={}){const r=new zr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new My({next:h=>{d.xu(),o.enqueueAndForget(()=>Ry(s,f));const g=h.docs.has(a);!g&&h.fromCache?u.reject(new Q(F.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&h.fromCache&&l&&l.source==="server"?u.reject(new Q(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new Ny(of(a.path),d,{includeMetadataChanges:!0,Qa:!0});return Ay(s,f)}(await dh(t),t.asyncQueue,e,n,r)),r.promise}function w9(t,e,n={}){const r=new zr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new My({next:h=>{d.xu(),o.enqueueAndForget(()=>Ry(s,f)),h.fromCache&&l.source==="server"?u.reject(new Q(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new Ny(a,d,{includeMetadataChanges:!0,Qa:!0});return Ay(s,f)}(await dh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t,e,n){if(!n)throw new Q(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _9(t,e,n,r){if(e===!0&&r===!0)throw new Q(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vE(t){if(!te.isDocumentKey(t))throw new Q(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yE(t){if(te.isDocumentKey(t))throw new Q(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie(12329,{type:typeof t})}function bn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mf(t);throw new Q(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP="firestore.googleapis.com",wE=!0;class _E{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mP,this.ssl=wE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:wE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<X3)throw new Q(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _E({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _E(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new A5;switch(r.type){case"firstParty":return new D5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=gE.get(n);r&&(Y("ComponentProvider","Removing Datastore"),gE.delete(n),r.terminate())}(this),Promise.resolve()}}function E9(t,e,n,r={}){var i;t=bn(t,gf);const s=Ca(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(cC(`https://${l}`),uC("Firestore",!0)),o.host!==mP&&o.host!==l&&ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!$s(u,a)&&(t._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Pt.MOCK_USER;else{d=j4(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Q(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Pt(h)}t._authCredentials=new R5(new rI(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fs(this.firestore,e,this._query)}}class Ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}}class qi extends fs{constructor(e,n,r){super(e,n,of(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new te(e))}withConverter(e){return new qi(this.firestore,e,this._path)}}function As(t,e,...n){if(t=Dt(t),pP("collection","path",e),t instanceof gf){const r=je.fromString(e,...n);return yE(r),new qi(t,null,r)}{if(!(t instanceof Ut||t instanceof qi))throw new Q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return yE(r),new qi(t.firestore,null,r)}}function bi(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=sI.newId()),pP("doc","path",e),t instanceof gf){const r=je.fromString(e,...n);return vE(r),new Ut(t,null,new te(r))}{if(!(t instanceof Ut||t instanceof qi))throw new Q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return vE(r),new Ut(t.firestore,t instanceof qi?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="AsyncQueue";class xE{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new QI(this,"async_queue_retry"),this.rc=()=>{const r=Rp();r&&Y(EE,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=Rp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Rp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new zr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ka(e))throw e;Y(EE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Zr("INTERNAL UNHANDLED ERROR: ",TE(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=Iy.createAndSchedule(this,e,n,r,s=>this.uc(s));return this.Zu.push(i),i}oc(){this.Xu&&ie(47125,{cc:TE(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function TE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class os extends gf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new xE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xE(e),this._firestoreClient=void 0,await e}}}function x9(t,e){const n=typeof t=="object"?t:pC(),r=typeof t=="string"?t:nh,i=Xv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=M4("firestore");s&&E9(i,...s)}return i}function vf(t){if(t._terminated)throw new Q(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||T9(t),t._firestoreClient}function T9(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new K5(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,fP(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new m9(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ga(yt.fromBase64String(e))}catch(n){throw new Q(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ga(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=/^__.*__$/;class S9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new eo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dc(e,this.data,n,this.fieldTransforms)}}function vP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie(40011,{Ic:t})}}class Fy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Fy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return hh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(vP(this.Ic)&&b9.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class C9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hf(e)}bc(e,n,r,i=!1){return new Fy({Ic:e,methodName:n,wc:r,path:mt.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uy(t){const e=t._freezeSettings(),n=hf(t._databaseId);return new C9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yP(t,e,n,r,i,s={}){const o=t.bc(s.merge||s.mergeFields?2:0,e,n,i);EP("Data must be an object, but it was:",o,r);const a=wP(r,o);let l,u;if(s.merge)l=new Fn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const h=P9(e,f,n);if(!o.contains(h))throw new Q(F.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);R9(d,h)||d.push(h)}l=new Fn(d),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new S9(new En(a),l,u)}function I9(t,e,n,r=!1){return By(n,t.bc(r?4:3,e))}function By(t,e){if(_P(t=Dt(t)))return EP("Unsupported field value:",e,t),wP(t,e);if(t instanceof gP)return function(r,i){if(!vP(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=By(a,i.fc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return g3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=at.fromDate(r);return{timestampValue:ah(i.serializer,s)}}if(r instanceof at){const s=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ah(i.serializer,s)}}if(r instanceof jy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ga)return{bytesValue:FI(i.serializer,r._byteString)};if(r instanceof Ut){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:yy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Vy)return function(o,a){return{mapValue:{fields:{[fI]:{stringValue:mI},[rh]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.gc("VectorValues must only contain numeric values.");return py(a.serializer,u)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${mf(r)}`)}(t,e)}function wP(t,e){const n={};return aI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(t,(r,i)=>{const s=By(i,e.Ac(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function _P(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof jy||t instanceof ga||t instanceof Ut||t instanceof gP||t instanceof Vy)}function EP(t,e,n){if(!_P(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=mf(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function P9(t,e,n){if((e=Dt(e))instanceof Ly)return e._internalPath;if(typeof e=="string")return xP(t,e);throw hh("Field path arguments must be of type string or ",t,!1,void 0,n)}const A9=new RegExp("[~\\*/\\[\\]]");function xP(t,e,n){if(e.search(A9)>=0)throw hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ly(...e.split("."))._internalPath}catch{throw hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Q(F.INVALID_ARGUMENT,a+t+l)}function R9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new k9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class k9 extends TP{data(){return super.data()}}function yf(t,e){return typeof e=="string"?xP(t,e):e instanceof Ly?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $y{}class SP extends $y{}function Ll(t,e,...n){let r=[];e instanceof $y&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof zy).length,a=s.filter(l=>l instanceof wf).length;if(o>1||o>0&&a>0)throw new Q(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class wf extends SP{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new wf(e,n,r)}_apply(e){const n=this._parse(e);return IP(e._query,n),new fs(e.firestore,e.converter,yg(e._query,n))}_parse(e){const n=Uy(e.firestore);return function(s,o,a,l,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Q(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){CE(f,d);const v=[];for(const y of f)v.push(SE(l,s,y));h={arrayValue:{values:v}}}else h=SE(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||CE(f,d),h=I9(a,o,f,d==="in"||d==="not-in");return rt.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function fh(t,e,n){const r=e,i=yf("where",t);return wf._create(i,r,n)}class zy extends $y{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)IP(o,l),o=yg(o,l)}(e._query,n),new fs(e.firestore,e.converter,yg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wy extends SP{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Wy(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Q(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Q(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hc(s,o)}(e._query,this._field,this._direction);return new fs(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Na(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function CP(t,e="asc"){const n=e,r=yf("orderBy",t);return Wy._create(r,n)}function SE(t,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new Q(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TI(e)&&n.indexOf("/")!==-1)throw new Q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(je.fromString(n));if(!te.isDocumentKey(r))throw new Q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return F1(t,new te(r))}if(n instanceof Ut)return F1(t,n._key);throw new Q(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mf(n)}.`)}function CE(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IP(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class N9{convertValue(e,n="none"){switch(rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Js(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[rh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Qe(o.doubleValue));return new Vy(s)}convertGeoPoint(e){return new jy(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cc(e));default:return null}}convertTimestamp(e){const n=ts(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=je.fromString(e);Se(HI(r),9688,{name:e});const i=new uc(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||Zr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class AP extends TP{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class cd extends AP{data(e={}){return super.data(e)}}class RP{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new wl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new cd(this._firestore,this._userDataWriter,r.key,r,new wl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new cd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new wl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new cd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new wl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:D9(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function D9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(t){t=bn(t,Ut);const e=bn(t.firestore,os);return y9(vf(e),t._key).then(n=>DP(e,t,n))}class Hy extends N9{constructor(e){super(),this.firestore=e}convertBytes(e){return new ga(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}function ud(t){t=bn(t,fs);const e=bn(t.firestore,os),n=vf(e),r=new Hy(e);return bP(t._query),w9(n,t._query).then(i=>new RP(e,r,t,i))}function Ou(t,e,n){t=bn(t,Ut);const r=bn(t.firestore,os),i=PP(t.converter,e,n);return qy(r,[yP(Uy(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,zn.none())])}function O9(t){return qy(bn(t.firestore,os),[new my(t._key,zn.none())])}function M9(t,e){const n=bn(t.firestore,os),r=bi(t),i=PP(t.converter,e);return qy(n,[yP(Uy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,zn.exists(!1))]).then(()=>r)}function NP(t,...e){var n,r,i;t=Dt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||bE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(bE(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,d;if(t instanceof Ut)u=bn(t.firestore,os),d=of(t._key.path),l={next:f=>{e[o]&&e[o](DP(u,t,f))},error:e[o+1],complete:e[o+2]};else{const f=bn(t,fs);u=bn(f.firestore,os),d=f._query;const h=new Hy(u);l={next:g=>{e[o]&&e[o](new RP(u,h,f,g))},error:e[o+1],complete:e[o+2]},bP(t._query)}return function(h,g,v,y){const x=new My(y),T=new Ny(g,x,v);return h.asyncQueue.enqueueAndForget(async()=>Ay(await dh(h),T)),()=>{x.xu(),h.asyncQueue.enqueueAndForget(async()=>Ry(await dh(h),T))}}(vf(u),d,a,l)}function qy(t,e){return function(r,i){const s=new zr;return r.asyncQueue.enqueueAndForget(async()=>o9(await v9(r),i,s)),s.promise}(vf(t),e)}function DP(t,e,n){const r=n.docs.get(e._key),i=new Hy(t);return new AP(t,i,e._key,r,new wl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Aa=i})(Ia),ca(new zs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new os(new k5(r.getProvider("auth-internal")),new O5(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Q(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uc(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Wi(I1,P1,e),Wi(I1,P1,"esm2017")})();const L9={apiKey:"AIzaSyBjGEuLSpruUucknYXyHEeqbXi8ihr2EOc",authDomain:"period-tracker-e6144.firebaseapp.com",projectId:"period-tracker-e6144",storageBucket:"period-tracker-e6144.firebasestorage.app",messagingSenderId:"55556853672",appId:"1:55556853672:web:269c2afa226159f508579d"},OP=fC(L9),al=S5(OP),Kt=x9(OP),j9=new Or,MP=w.createContext(void 0),_f=()=>{const t=w.useContext(MP);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},V9=({children:t})=>{const[e,n]=w.useState(null),[r,i]=w.useState(!1),[s,o]=w.useState(!0);w.useEffect(()=>fF(al,async g=>{var v;if(n(g),g){const y=await kP(bi(Kt,"users",g.uid));y.exists()?i(y.data().isAdmin||!1):(await Ou(bi(Kt,"users",g.uid),{email:g.email,name:g.displayName||((v=g.email)==null?void 0:v.split("@")[0])||"User",isAdmin:!1,createdAt:new Date}),i(!1))}else i(!1);o(!1)}),[]);const f={user:e,isAdmin:r,loading:s,signInWithGoogle:async()=>{var h;try{const v=(await OF(al,j9)).user;await Ou(bi(Kt,"users",v.uid),{email:v.email,name:v.displayName||((h=v.email)==null?void 0:h.split("@")[0])||"User",photoURL:v.photoURL||"",lastLogin:new Date().toISOString()},{merge:!0})}catch(g){throw console.error("Error signing in with Google:",g),g}},signInWithEmail:async(h,g)=>{var v;try{const x=(await uF(al,h,g)).user;await Ou(bi(Kt,"users",x.uid),{email:x.email,name:x.displayName||((v=x.email)==null?void 0:v.split("@")[0])||"User",photoURL:x.photoURL||"",lastLogin:new Date().toISOString()},{merge:!0})}catch(y){throw console.error("Error signing in with email:",y),y}},signUpWithEmail:async(h,g,v)=>{try{const x=(await cF(al,h,g)).user;await Ou(bi(Kt,"users",x.uid),{email:h,name:v,photoURL:x.photoURL||"",lastLogin:new Date().toISOString(),isAdmin:!1,createdAt:new Date},{merge:!0})}catch(y){throw console.error("Error signing up with email:",y),y}},logout:async()=>{try{await pF(al)}catch(h){console.error("Error signing out:",h)}}};return p.jsx(MP.Provider,{value:f,children:t})},Ag=Uh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-full text-base font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 shadow-sm hover:shadow-md",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 px-6 py-2",sm:"h-9 rounded-full px-4",lg:"h-14 rounded-full px-10",icon:"h-11 w-11"}},defaultVariants:{variant:"default",size:"default"}}),Wn=w.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?oa:"button";return p.jsx(o,{className:pe(Ag({variant:e,size:n,className:t})),ref:s,...i})});Wn.displayName="Button";const F9=({activeTab:t,onTabChange:e})=>{const{user:n,isAdmin:r,logout:i}=_f(),s=[{id:"calendar",label:"Calendar",icon:ec},{id:"log",label:"Log Entry",icon:ND},{id:"entries",label:"Entries",icon:bD},{id:"insights",label:"Insights",icon:gD},{id:"relief",label:"Relief Ideas",icon:Wm}];return r&&s.push({id:"admin",label:"Admin",icon:PD},{id:"logs",label:"System Logs",icon:xD}),p.jsx("header",{className:"mt-4",children:p.jsxs("div",{className:"w-full px-4 py-6 bg-gradient-to-r from-pink-50 to-purple-50 border-b border-pink-100 rounded-2xl shadow-lg",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-pink-400 via-purple-400 to-blue-400 leading-tight pb-2",style:{fontFamily:"Poppins, Nunito, Inter, sans-serif"},children:"SyncCycle"}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("img",{src:(n==null?void 0:n.photoURL)||"",alt:(n==null?void 0:n.displayName)||"User",className:"w-8 h-8 rounded-full"}),p.jsx("span",{className:"text-sm text-gray-600",children:n==null?void 0:n.displayName})]}),p.jsxs(Wn,{onClick:i,variant:"ghost",size:"sm",className:"flex items-center gap-2",children:[p.jsx(SD,{className:"h-4 w-4"}),"Logout"]})]})]}),p.jsx("nav",{className:"flex justify-center",children:p.jsx("div",{className:"flex bg-white rounded-full p-1 shadow-md",children:s.map(o=>{const a=o.icon;return p.jsxs("button",{onClick:()=>e(o.id),className:`flex items-center gap-2 px-4 py-2 rounded-full transition-all duration-200 ${t===o.id?"bg-primary text-primary-foreground shadow-sm":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:[p.jsx(a,{size:18}),p.jsx("span",{className:"font-medium",children:o.label})]},o.id)})})})]})})},LP=(t,e,n,r)=>{const s=Math.floor((t.getTime()-e.getTime())/864e5)%n+1;let o=null,a=!1,l=!1,u=!1;const d=n-14;return s<=r?(o="period",a=!0):s<=d-3?o="follicular":s>=d-2&&s<=d+2?(o="ovulation",l=s===d,u=!0):s<=n-5?o="luteal":o="pms",s>=d-5&&s<=d+1&&(u=!0),{date:t.toISOString().split("T")[0],phase:o,isPeriod:a,isOvulation:l,isFertile:u,dayOfCycle:s}},IE=(t,e=3)=>{const n=[],r=new Date(t.lastPeriodStart);let i=new Date(r);i.setDate(r.getDate()+t.cycleLength),n.push(i);for(let s=2;s<=e;s++){const o=new Date(r);o.setDate(r.getDate()+t.averageCycleLength*s),n.push(o)}return n},U9=({cycleData:t,periodEntries:e,onDateClick:n})=>{const r=new Date,[i,s]=w.useState(new Date(2025,r.getMonth(),1)),o=f=>{switch(f){case"light":return"bg-pink-100 border-pink-300 text-pink-800";case"medium":return"bg-pink-200 border-pink-400 text-pink-800";case"heavy":return"bg-pink-300 border-pink-500 text-pink-800";default:return"bg-gray-100 border-gray-300 text-gray-600"}},{calendarDays:a,monthYear:l}=w.useMemo(()=>{const f=i.getFullYear(),h=i.getMonth(),g=new Date(f,h,1),v=new Date(g);v.setDate(v.getDate()-g.getDay());const y=[],x=new Date(v);for(let T=0;T<42;T++){const E=LP(new Date(x),new Date(t.lastPeriodStart),t.cycleLength,t.periodLength),b=e.find(A=>A.date===x.toISOString().split("T")[0]);y.push({date:new Date(x),dayInfo:E,periodEntry:b,isCurrentMonth:x.getMonth()===h,isToday:x.toDateString()===new Date().toDateString()}),x.setDate(x.getDate()+1)}return{calendarDays:y,monthYear:g.toLocaleDateString("en-GB",{month:"long",year:"numeric"})}},[i,t,e]),u=f=>{s(h=>{const g=new Date(h);return g.setMonth(h.getMonth()+(f==="next"?1:-1)),g})},d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return p.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx(Wn,{variant:"ghost",size:"sm",onClick:()=>u("prev"),className:"h-9 w-9 p-0",children:p.jsx(Xb,{className:"h-4 w-4"})}),p.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:l}),p.jsx(Wn,{variant:"ghost",size:"sm",onClick:()=>u("next"),className:"h-9 w-9 p-0",children:p.jsx(Jb,{className:"h-4 w-4"})})]}),p.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:d.map(f=>p.jsx("div",{className:"text-center text-sm font-medium text-gray-500 py-2",children:f},f))}),p.jsx("div",{className:"grid grid-cols-7 gap-2",children:a.map((f,h)=>p.jsx("button",{onClick:()=>n(f.date.toISOString().split("T")[0]),className:`relative aspect-square p-2 rounded-lg text-sm transition-all hover:scale-105 ${f.isCurrentMonth?"text-gray-800":"text-gray-400"} ${f.isToday?"ring-2 ring-primary":""} ${f.periodEntry?o(f.periodEntry.flow):"bg-gray-50 hover:bg-gray-100 border border-gray-100"}`,children:p.jsx("span",{className:"font-medium",children:f.date.getDate()})},h))}),p.jsxs("div",{className:"mt-6 flex flex-wrap gap-4 text-xs",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 rounded bg-pink-100 border border-pink-300"}),p.jsx("span",{children:"Light Flow"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 rounded bg-pink-200 border border-pink-400"}),p.jsx("span",{children:"Medium Flow"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 rounded bg-pink-300 border border-pink-500"}),p.jsx("span",{children:"Heavy Flow"})]})]})]})};function _e(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function pn(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function jt(t,e){const n=_e(t);return isNaN(e)?pn(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Yn(t,e){const n=_e(t);if(isNaN(e))return pn(t,NaN);if(!e)return n;const r=n.getDate(),i=pn(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const Gy=6048e5,B9=864e5;let $9={};function jc(){return $9}function _r(t,e){var a,l,u,d;const n=jc(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=_e(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Ks(t){return _r(t,{weekStartsOn:1})}function jP(t){const e=_e(t),n=e.getFullYear(),r=pn(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Ks(r),s=pn(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=Ks(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function va(t){const e=_e(t);return e.setHours(0,0,0,0),e}function ph(t){const e=_e(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function hr(t,e){const n=va(t),r=va(e),i=+n-ph(n),s=+r-ph(r);return Math.round((i-s)/B9)}function z9(t){const e=jP(t),n=pn(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Ks(n)}function Rg(t,e){const n=e*7;return jt(t,n)}function W9(t,e){return Yn(t,e*12)}function H9(t){let e;return t.forEach(function(n){const r=_e(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function q9(t){let e;return t.forEach(n=>{const r=_e(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Qt(t,e){const n=va(t),r=va(e);return+n==+r}function Ky(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function G9(t){if(!Ky(t)&&typeof t!="number")return!1;const e=_e(t);return!isNaN(Number(e))}function mc(t,e){const n=_e(t),r=_e(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function K9(t,e,n){const r=_r(t,n),i=_r(e,n),s=+r-ph(r),o=+i-ph(i);return Math.round((s-o)/Gy)}function Yy(t){const e=_e(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function en(t){const e=_e(t);return e.setDate(1),e.setHours(0,0,0,0),e}function VP(t){const e=_e(t),n=pn(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Qy(t,e){var a,l,u,d;const n=jc(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=_e(t),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function FP(t){return Qy(t,{weekStartsOn:1})}const Y9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Q9=(t,e,n)=>{let r;const i=Y9[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Np(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const X9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},J9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Z9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eU={date:Np({formats:X9,defaultWidth:"full"}),time:Np({formats:J9,defaultWidth:"full"}),dateTime:Np({formats:Z9,defaultWidth:"full"})},tU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nU=(t,e,n,r)=>tU[t];function ll(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const rU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},iU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},sU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},oU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},aU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cU=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},uU={ordinalNumber:cU,era:ll({values:rU,defaultWidth:"wide"}),quarter:ll({values:iU,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ll({values:sU,defaultWidth:"wide"}),day:ll({values:oU,defaultWidth:"wide"}),dayPeriod:ll({values:aU,defaultWidth:"wide",formattingValues:lU,defaultFormattingWidth:"wide"})};function cl(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?hU(a,f=>f.test(o)):dU(a,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function dU(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function hU(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function fU(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const pU=/^(\d+)(th|st|nd|rd)?/i,mU=/\d+/i,gU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vU={any:[/^b/i,/^(a|c)/i]},yU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wU={any:[/1/i,/2/i,/3/i,/4/i]},_U={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},EU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},TU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},SU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},CU={ordinalNumber:fU({matchPattern:pU,parsePattern:mU,valueCallback:t=>parseInt(t,10)}),era:cl({matchPatterns:gU,defaultMatchWidth:"wide",parsePatterns:vU,defaultParseWidth:"any"}),quarter:cl({matchPatterns:yU,defaultMatchWidth:"wide",parsePatterns:wU,defaultParseWidth:"any",valueCallback:t=>t+1}),month:cl({matchPatterns:_U,defaultMatchWidth:"wide",parsePatterns:EU,defaultParseWidth:"any"}),day:cl({matchPatterns:xU,defaultMatchWidth:"wide",parsePatterns:TU,defaultParseWidth:"any"}),dayPeriod:cl({matchPatterns:bU,defaultMatchWidth:"any",parsePatterns:SU,defaultParseWidth:"any"})},UP={code:"en-US",formatDistance:Q9,formatLong:eU,formatRelative:nU,localize:uU,match:CU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function IU(t){const e=_e(t);return hr(e,VP(e))+1}function BP(t){const e=_e(t),n=+Ks(e)-+z9(e);return Math.round(n/Gy)+1}function $P(t,e){var d,f,h,g;const n=_e(t),r=n.getFullYear(),i=jc(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(h=i.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,o=pn(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=_r(o,e),l=pn(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const u=_r(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function PU(t,e){var a,l,u,d;const n=jc(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=$P(t,e),s=pn(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),_r(s,e)}function zP(t,e){const n=_e(t),r=+_r(n,e)-+PU(n,e);return Math.round(r/Gy)+1}function Ie(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const pi={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ie(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ie(n+1,2)},d(t,e){return Ie(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ie(t.getHours()%12||12,e.length)},H(t,e){return Ie(t.getHours(),e.length)},m(t,e){return Ie(t.getMinutes(),e.length)},s(t,e){return Ie(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ie(i,e.length)}},ao={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},PE={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return pi.y(t,e)},Y:function(t,e,n,r){const i=$P(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Ie(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Ie(s,e.length)},R:function(t,e){const n=jP(t);return Ie(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ie(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ie(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ie(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return pi.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ie(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=zP(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ie(i,e.length)},I:function(t,e,n){const r=BP(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ie(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):pi.d(t,e)},D:function(t,e,n){const r=IU(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ie(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Ie(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Ie(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ie(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=ao.noon:r===0?i=ao.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=ao.evening:r>=12?i=ao.afternoon:r>=4?i=ao.morning:i=ao.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return pi.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):pi.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ie(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ie(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):pi.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):pi.s(t,e)},S:function(t,e){return pi.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return RE(r);case"XXXX":case"XX":return Ts(r);case"XXXXX":case"XXX":default:return Ts(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return RE(r);case"xxxx":case"xx":return Ts(r);case"xxxxx":case"xxx":default:return Ts(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+AE(r,":");case"OOOO":default:return"GMT"+Ts(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+AE(r,":");case"zzzz":default:return"GMT"+Ts(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Ie(r,e.length)},T:function(t,e,n){const r=t.getTime();return Ie(r,e.length)}};function AE(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Ie(s,2)}function RE(t,e){return t%60===0?(t>0?"-":"+")+Ie(Math.abs(t)/60,2):Ts(t,e)}function Ts(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Ie(Math.trunc(r/60),2),s=Ie(r%60,2);return n+i+e+s}const kE=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},WP=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},AU=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return kE(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",kE(r,e)).replace("{{time}}",WP(i,e))},RU={p:WP,P:AU},kU=/^D+$/,NU=/^Y+$/,DU=["D","DD","YY","YYYY"];function OU(t){return kU.test(t)}function MU(t){return NU.test(t)}function LU(t,e,n){const r=jU(t,e,n);if(console.warn(r),DU.includes(t))throw new RangeError(r)}function jU(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const VU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,UU=/^'([^]*?)'?$/,BU=/''/g,$U=/[a-zA-Z]/;function Qn(t,e,n){var d,f,h,g,v,y,x,T;const r=jc(),i=(n==null?void 0:n.locale)??r.locale??UP,s=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(h=r.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((T=(x=r.locale)==null?void 0:x.options)==null?void 0:T.weekStartsOn)??0,a=_e(t);if(!G9(a))throw new RangeError("Invalid time value");let l=e.match(FU).map(E=>{const b=E[0];if(b==="p"||b==="P"){const A=RU[b];return A(E,i.formatLong)}return E}).join("").match(VU).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const b=E[0];if(b==="'")return{isToken:!1,value:zU(E)};if(PE[b])return{isToken:!0,value:E};if(b.match($U))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:E}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(E=>{if(!E.isToken)return E.value;const b=E.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&MU(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&OU(b))&&LU(b,e,String(t));const A=PE[b[0]];return A(a,b,i.localize,u)}).join("")}function zU(t){const e=t.match(UU);return e?e[1].replace(BU,"'"):t}function WU(t){const e=_e(t),n=e.getFullYear(),r=e.getMonth(),i=pn(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function HU(t){return Math.trunc(+_e(t)/1e3)}function qU(t){const e=_e(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function GU(t,e){return K9(qU(t),en(t),e)+1}function kg(t,e){const n=_e(t),r=_e(e);return n.getTime()>r.getTime()}function HP(t,e){const n=_e(t),r=_e(e);return+n<+r}function Xy(t,e){const n=_e(t),r=_e(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function KU(t,e){const n=_e(t),r=_e(e);return n.getFullYear()===r.getFullYear()}function Dp(t,e){return jt(t,-e)}function Op(t,e){const n=_e(t),r=n.getFullYear(),i=n.getDate(),s=pn(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const o=WU(s);return n.setMonth(e,Math.min(i,o)),n}function NE(t,e){const n=_e(t);return isNaN(+n)?pn(t,NaN):(n.setFullYear(e),n)}const Ht=w.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:pe("rounded-2xl border bg-white/80 text-card-foreground shadow-md transition-shadow hover:shadow-lg",t),...e}));Ht.displayName="Card";const Fr=w.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:pe("flex flex-col space-y-1.5 p-8",t),...e}));Fr.displayName="CardHeader";const Ur=w.forwardRef(({className:t,...e},n)=>p.jsx("h3",{ref:n,className:pe("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ur.displayName="CardTitle";const YU=w.forwardRef(({className:t,...e},n)=>p.jsx("p",{ref:n,className:pe("text-sm text-muted-foreground",t),...e}));YU.displayName="CardDescription";const qt=w.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:pe("p-8 pt-0",t),...e}));qt.displayName="CardContent";const QU=w.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:pe("flex items-center p-8 pt-0",t),...e}));QU.displayName="CardFooter";var se=function(){return se=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},se.apply(this,arguments)};function XU(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function qP(t,e,n){for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Vc(t){return t.mode==="multiple"}function Fc(t){return t.mode==="range"}function Ef(t){return t.mode==="single"}var JU={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function ZU(t,e){return Qn(t,"LLLL y",e)}function e8(t,e){return Qn(t,"d",e)}function t8(t,e){return Qn(t,"LLLL",e)}function n8(t){return"".concat(t)}function r8(t,e){return Qn(t,"cccccc",e)}function i8(t,e){return Qn(t,"yyyy",e)}var s8=Object.freeze({__proto__:null,formatCaption:ZU,formatDay:e8,formatMonthCaption:t8,formatWeekNumber:n8,formatWeekdayName:r8,formatYearCaption:i8}),o8=function(t,e,n){return Qn(t,"do MMMM (EEEE)",n)},a8=function(){return"Month: "},l8=function(){return"Go to next month"},c8=function(){return"Go to previous month"},u8=function(t,e){return Qn(t,"cccc",e)},d8=function(t){return"Week n. ".concat(t)},h8=function(){return"Year: "},f8=Object.freeze({__proto__:null,labelDay:o8,labelMonthDropdown:a8,labelNext:l8,labelPrevious:c8,labelWeekNumber:d8,labelWeekday:u8,labelYearDropdown:h8});function p8(){var t="buttons",e=JU,n=UP,r={},i={},s=1,o={},a=new Date;return{captionLayout:t,classNames:e,formatters:s8,labels:f8,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:s,styles:o,today:a,mode:"default"}}function m8(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,s=t.fromDate,o=t.toDate;return r?s=en(r):e&&(s=new Date(e,0,1)),i?o=Yy(i):n&&(o=new Date(n,11,31)),{fromDate:s?va(s):void 0,toDate:o?va(o):void 0}}var GP=w.createContext(void 0);function g8(t){var e,n=t.initialProps,r=p8(),i=m8(n),s=i.fromDate,o=i.toDate,a=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;a!=="buttons"&&(!s||!o)&&(a="buttons");var l;(Ef(n)||Vc(n)||Fc(n))&&(l=n.onSelect);var u=se(se(se({},r),n),{captionLayout:a,classNames:se(se({},r.classNames),n.classNames),components:se({},n.components),formatters:se(se({},r.formatters),n.formatters),fromDate:s,labels:se(se({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:se(se({},r.modifiers),n.modifiers),modifiersClassNames:se(se({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:se(se({},r.styles),n.styles),toDate:o});return p.jsx(GP.Provider,{value:u,children:t.children})}function Ne(){var t=w.useContext(GP);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function KP(t){var e=Ne(),n=e.locale,r=e.classNames,i=e.styles,s=e.formatters.formatCaption;return p.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:s(t.displayMonth,{locale:n})})}function v8(t){return p.jsx("svg",se({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:p.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function YP(t){var e,n,r=t.onChange,i=t.value,s=t.children,o=t.caption,a=t.className,l=t.style,u=Ne(),d=(n=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:v8;return p.jsxs("div",{className:a,style:l,children:[p.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),p.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:r,children:s}),p.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,p.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function y8(t){var e,n=Ne(),r=n.fromDate,i=n.toDate,s=n.styles,o=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return p.jsx(p.Fragment,{});if(!i)return p.jsx(p.Fragment,{});var f=[];if(KU(r,i))for(var h=en(r),g=r.getMonth();g<=i.getMonth();g++)f.push(Op(h,g));else for(var h=en(new Date),g=0;g<=11;g++)f.push(Op(h,g));var v=function(x){var T=Number(x.target.value),E=Op(en(t.displayMonth),T);t.onChange(E)},y=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:YP;return p.jsx(y,{name:"months","aria-label":d(),className:l.dropdown_month,style:s.dropdown_month,onChange:v,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:o}),children:f.map(function(x){return p.jsx("option",{value:x.getMonth(),children:a(x,{locale:o})},x.getMonth())})})}function w8(t){var e,n=t.displayMonth,r=Ne(),i=r.fromDate,s=r.toDate,o=r.locale,a=r.styles,l=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,h=[];if(!i)return p.jsx(p.Fragment,{});if(!s)return p.jsx(p.Fragment,{});for(var g=i.getFullYear(),v=s.getFullYear(),y=g;y<=v;y++)h.push(NE(VP(new Date),y));var x=function(E){var b=NE(en(n),Number(E.target.value));t.onChange(b)},T=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:YP;return p.jsx(T,{name:"years","aria-label":f(),className:l.dropdown_year,style:a.dropdown_year,onChange:x,value:n.getFullYear(),caption:d(n,{locale:o}),children:h.map(function(E){return p.jsx("option",{value:E.getFullYear(),children:d(E,{locale:o})},E.getFullYear())})})}function _8(t,e){var n=w.useState(t),r=n[0],i=n[1],s=e===void 0?r:e;return[s,i]}function E8(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,s=t.toDate,o=t.fromDate,a=t.numberOfMonths,l=a===void 0?1:a;if(s&&mc(s,i)<0){var u=-1*(l-1);i=Yn(s,u)}return o&&mc(i,o)<0&&(i=o),en(i)}function x8(){var t=Ne(),e=E8(t),n=_8(e,t.month),r=n[0],i=n[1],s=function(o){var a;if(!t.disableNavigation){var l=en(o);i(l),(a=t.onMonthChange)===null||a===void 0||a.call(t,l)}};return[r,s]}function T8(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=en(t),s=en(Yn(i,r)),o=mc(s,i),a=[],l=0;l<o;l++){var u=Yn(i,l);a.push(u)}return n&&(a=a.reverse()),a}function b8(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,o=r?s:1,a=en(t);if(!n)return Yn(a,o);var l=mc(n,t);if(!(l<s))return Yn(a,o)}}function S8(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,o=r?s:1,a=en(t);if(!n)return Yn(a,-o);var l=mc(a,n);if(!(l<=0))return Yn(a,-o)}}var QP=w.createContext(void 0);function C8(t){var e=Ne(),n=x8(),r=n[0],i=n[1],s=T8(r,e),o=b8(r,e),a=S8(r,e),l=function(f){return s.some(function(h){return Xy(f,h)})},u=function(f,h){l(f)||(h&&HP(f,h)?i(Yn(f,1+e.numberOfMonths*-1)):i(f))},d={currentMonth:r,displayMonths:s,goToMonth:i,goToDate:u,previousMonth:a,nextMonth:o,isDateDisplayed:l};return p.jsx(QP.Provider,{value:d,children:t.children})}function Uc(){var t=w.useContext(QP);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function DE(t){var e,n=Ne(),r=n.classNames,i=n.styles,s=n.components,o=Uc().goToMonth,a=function(d){o(Yn(d,t.displayIndex?-t.displayIndex:0))},l=(e=s==null?void 0:s.CaptionLabel)!==null&&e!==void 0?e:KP,u=p.jsx(l,{id:t.id,displayMonth:t.displayMonth});return p.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[p.jsx("div",{className:r.vhidden,children:u}),p.jsx(y8,{onChange:a,displayMonth:t.displayMonth}),p.jsx(w8,{onChange:a,displayMonth:t.displayMonth})]})}function I8(t){return p.jsx("svg",se({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:p.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function P8(t){return p.jsx("svg",se({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:p.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var mh=w.forwardRef(function(t,e){var n=Ne(),r=n.classNames,i=n.styles,s=[r.button_reset,r.button];t.className&&s.push(t.className);var o=s.join(" "),a=se(se({},i.button_reset),i.button);return t.style&&Object.assign(a,t.style),p.jsx("button",se({},t,{ref:e,type:"button",className:o,style:a}))});function A8(t){var e,n,r=Ne(),i=r.dir,s=r.locale,o=r.classNames,a=r.styles,l=r.labels,u=l.labelPrevious,d=l.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return p.jsx(p.Fragment,{});var h=u(t.previousMonth,{locale:s}),g=[o.nav_button,o.nav_button_previous].join(" "),v=d(t.nextMonth,{locale:s}),y=[o.nav_button,o.nav_button_next].join(" "),x=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:P8,T=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:I8;return p.jsxs("div",{className:o.nav,style:a.nav,children:[!t.hidePrevious&&p.jsx(mh,{name:"previous-month","aria-label":h,className:g,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?p.jsx(x,{className:o.nav_icon,style:a.nav_icon}):p.jsx(T,{className:o.nav_icon,style:a.nav_icon})}),!t.hideNext&&p.jsx(mh,{name:"next-month","aria-label":v,className:y,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?p.jsx(T,{className:o.nav_icon,style:a.nav_icon}):p.jsx(x,{className:o.nav_icon,style:a.nav_icon})})]})}function OE(t){var e=Ne().numberOfMonths,n=Uc(),r=n.previousMonth,i=n.nextMonth,s=n.goToMonth,o=n.displayMonths,a=o.findIndex(function(v){return Xy(t.displayMonth,v)}),l=a===0,u=a===o.length-1,d=e>1&&(l||!u),f=e>1&&(u||!l),h=function(){r&&s(r)},g=function(){i&&s(i)};return p.jsx(A8,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:i,previousMonth:r,onPreviousClick:h,onNextClick:g})}function R8(t){var e,n=Ne(),r=n.classNames,i=n.disableNavigation,s=n.styles,o=n.captionLayout,a=n.components,l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:KP,u;return i?u=p.jsx(l,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?u=p.jsx(DE,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?u=p.jsxs(p.Fragment,{children:[p.jsx(DE,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),p.jsx(OE,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=p.jsxs(p.Fragment,{children:[p.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),p.jsx(OE,{displayMonth:t.displayMonth,id:t.id})]}),p.jsx("div",{className:r.caption,style:s.caption,children:u})}function k8(t){var e=Ne(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?p.jsx("tfoot",{className:i,style:r.tfoot,children:p.jsx("tr",{children:p.jsx("td",{colSpan:8,children:n})})}):p.jsx(p.Fragment,{})}function N8(t,e,n){for(var r=n?Ks(new Date):_r(new Date,{locale:t,weekStartsOn:e}),i=[],s=0;s<7;s++){var o=jt(r,s);i.push(o)}return i}function D8(){var t=Ne(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,s=t.weekStartsOn,o=t.ISOWeek,a=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,u=N8(i,s,o);return p.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&p.jsx("td",{style:n.head_cell,className:e.head_cell}),u.map(function(d,f){return p.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(d,{locale:i}),children:a(d,{locale:i})},f)})]})}function O8(){var t,e=Ne(),n=e.classNames,r=e.styles,i=e.components,s=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:D8;return p.jsx("thead",{style:r.head,className:n.head,children:p.jsx(s,{})})}function M8(t){var e=Ne(),n=e.locale,r=e.formatters.formatDay;return p.jsx(p.Fragment,{children:r(t.date,{locale:n})})}var Jy=w.createContext(void 0);function L8(t){if(!Vc(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return p.jsx(Jy.Provider,{value:e,children:t.children})}return p.jsx(j8,{initialProps:t.initialProps,children:t.children})}function j8(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,s=e.max,o=function(u,d,f){var h,g;(h=e.onDayClick)===null||h===void 0||h.call(e,u,d,f);var v=!!(d.selected&&i&&(r==null?void 0:r.length)===i);if(!v){var y=!!(!d.selected&&s&&(r==null?void 0:r.length)===s);if(!y){var x=r?qP([],r):[];if(d.selected){var T=x.findIndex(function(E){return Qt(u,E)});x.splice(T,1)}else x.push(u);(g=e.onSelect)===null||g===void 0||g.call(e,x,u,d,f)}}},a={disabled:[]};r&&a.disabled.push(function(u){var d=s&&r.length>s-1,f=r.some(function(h){return Qt(h,u)});return!!(d&&!f)});var l={selected:r,onDayClick:o,modifiers:a};return p.jsx(Jy.Provider,{value:l,children:n})}function Zy(){var t=w.useContext(Jy);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function V8(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?Qt(i,t)&&Qt(r,t)?void 0:Qt(i,t)?{from:i,to:void 0}:Qt(r,t)?void 0:kg(r,t)?{from:t,to:i}:{from:r,to:t}:i?kg(t,i)?{from:i,to:t}:{from:t,to:i}:r?HP(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var e0=w.createContext(void 0);function F8(t){if(!Fc(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return p.jsx(e0.Provider,{value:e,children:t.children})}return p.jsx(U8,{initialProps:t.initialProps,children:t.children})}function U8(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},s=i.from,o=i.to,a=e.min,l=e.max,u=function(g,v,y){var x,T;(x=e.onDayClick)===null||x===void 0||x.call(e,g,v,y);var E=V8(g,r);(T=e.onSelect)===null||T===void 0||T.call(e,E,g,v,y)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],o?(d.range_end=[o],Qt(s,o)||(d.range_middle=[{after:s,before:o}])):d.range_end=[s]):o&&(d.range_start=[o],d.range_end=[o]),a&&(s&&!o&&d.disabled.push({after:Dp(s,a-1),before:jt(s,a-1)}),s&&o&&d.disabled.push({after:s,before:jt(s,a-1)}),!s&&o&&d.disabled.push({after:Dp(o,a-1),before:jt(o,a-1)})),l){if(s&&!o&&(d.disabled.push({before:jt(s,-l+1)}),d.disabled.push({after:jt(s,l-1)})),s&&o){var f=hr(o,s)+1,h=l-f;d.disabled.push({before:Dp(s,h)}),d.disabled.push({after:jt(o,h)})}!s&&o&&(d.disabled.push({before:jt(o,-l+1)}),d.disabled.push({after:jt(o,l-1)}))}return p.jsx(e0.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function t0(){var t=w.useContext(e0);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function dd(t){return Array.isArray(t)?qP([],t):t!==void 0?[t]:[]}function B8(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=dd(i)}),e}var Xn;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Xn||(Xn={}));var $8=Xn.Selected,Rr=Xn.Disabled,z8=Xn.Hidden,W8=Xn.Today,Mp=Xn.RangeEnd,Lp=Xn.RangeMiddle,jp=Xn.RangeStart,H8=Xn.Outside;function q8(t,e,n){var r,i=(r={},r[$8]=dd(t.selected),r[Rr]=dd(t.disabled),r[z8]=dd(t.hidden),r[W8]=[t.today],r[Mp]=[],r[Lp]=[],r[jp]=[],r[H8]=[],r);return t.fromDate&&i[Rr].push({before:t.fromDate}),t.toDate&&i[Rr].push({after:t.toDate}),Vc(t)?i[Rr]=i[Rr].concat(e.modifiers[Rr]):Fc(t)&&(i[Rr]=i[Rr].concat(n.modifiers[Rr]),i[jp]=n.modifiers[jp],i[Lp]=n.modifiers[Lp],i[Mp]=n.modifiers[Mp]),i}var XP=w.createContext(void 0);function G8(t){var e=Ne(),n=Zy(),r=t0(),i=q8(e,n,r),s=B8(e.modifiers),o=se(se({},i),s);return p.jsx(XP.Provider,{value:o,children:t.children})}function JP(){var t=w.useContext(XP);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function K8(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Y8(t){return!!(t&&typeof t=="object"&&"from"in t)}function Q8(t){return!!(t&&typeof t=="object"&&"after"in t)}function X8(t){return!!(t&&typeof t=="object"&&"before"in t)}function J8(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Z8(t,e){var n,r=e.from,i=e.to;if(r&&i){var s=hr(i,r)<0;s&&(n=[i,r],r=n[0],i=n[1]);var o=hr(t,r)>=0&&hr(i,t)>=0;return o}return i?Qt(i,t):r?Qt(r,t):!1}function eB(t){return Ky(t)}function tB(t){return Array.isArray(t)&&t.every(Ky)}function nB(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(eB(n))return Qt(t,n);if(tB(n))return n.includes(t);if(Y8(n))return Z8(t,n);if(J8(n))return n.dayOfWeek.includes(t.getDay());if(K8(n)){var r=hr(n.before,t),i=hr(n.after,t),s=r>0,o=i<0,a=kg(n.before,n.after);return a?o&&s:s||o}return Q8(n)?hr(t,n.after)>0:X8(n)?hr(n.before,t)>0:typeof n=="function"?n(t):!1})}function n0(t,e,n){var r=Object.keys(e).reduce(function(s,o){var a=e[o];return nB(t,a)&&s.push(o),s},[]),i={};return r.forEach(function(s){return i[s]=!0}),n&&!Xy(t,n)&&(i.outside=!0),i}function rB(t,e){for(var n=en(t[0]),r=Yy(t[t.length-1]),i,s,o=n;o<=r;){var a=n0(o,e),l=!a.disabled&&!a.hidden;if(!l){o=jt(o,1);continue}if(a.selected)return o;a.today&&!s&&(s=o),i||(i=o),o=jt(o,1)}return s||i}var iB=365;function ZP(t,e){var n=e.moveBy,r=e.direction,i=e.context,s=e.modifiers,o=e.retry,a=o===void 0?{count:0,lastFocused:t}:o,l=i.weekStartsOn,u=i.fromDate,d=i.toDate,f=i.locale,h={day:jt,week:Rg,month:Yn,year:W9,startOfWeek:function(x){return i.ISOWeek?Ks(x):_r(x,{locale:f,weekStartsOn:l})},endOfWeek:function(x){return i.ISOWeek?FP(x):Qy(x,{locale:f,weekStartsOn:l})}},g=h[n](t,r==="after"?1:-1);r==="before"&&u?g=H9([u,g]):r==="after"&&d&&(g=q9([d,g]));var v=!0;if(s){var y=n0(g,s);v=!y.disabled&&!y.hidden}return v?g:a.count>iB?a.lastFocused:ZP(g,{moveBy:n,direction:r,context:i,modifiers:s,retry:se(se({},a),{count:a.count+1})})}var eA=w.createContext(void 0);function sB(t){var e=Uc(),n=JP(),r=w.useState(),i=r[0],s=r[1],o=w.useState(),a=o[0],l=o[1],u=rB(e.displayMonths,n),d=i??(a&&e.isDateDisplayed(a))?a:u,f=function(){l(i),s(void 0)},h=function(x){s(x)},g=Ne(),v=function(x,T){if(i){var E=ZP(i,{moveBy:x,direction:T,context:g,modifiers:n});Qt(i,E)||(e.goToDate(E,i),h(E))}},y={focusedDay:i,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return p.jsx(eA.Provider,{value:y,children:t.children})}function r0(){var t=w.useContext(eA);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function oB(t,e){var n=JP(),r=n0(t,n,e);return r}var i0=w.createContext(void 0);function aB(t){if(!Ef(t.initialProps)){var e={selected:void 0};return p.jsx(i0.Provider,{value:e,children:t.children})}return p.jsx(lB,{initialProps:t.initialProps,children:t.children})}function lB(t){var e=t.initialProps,n=t.children,r=function(s,o,a){var l,u,d;if((l=e.onDayClick)===null||l===void 0||l.call(e,s,o,a),o.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,s,o,a);return}(d=e.onSelect)===null||d===void 0||d.call(e,s,s,o,a)},i={selected:e.selected,onDayClick:r};return p.jsx(i0.Provider,{value:i,children:n})}function tA(){var t=w.useContext(i0);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function cB(t,e){var n=Ne(),r=tA(),i=Zy(),s=t0(),o=r0(),a=o.focusDayAfter,l=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,g=o.focusMonthBefore,v=o.focusMonthAfter,y=o.focusYearBefore,x=o.focusYearAfter,T=o.focusStartOfWeek,E=o.focusEndOfWeek,b=function(z){var M,W,J,K;Ef(n)?(M=r.onDayClick)===null||M===void 0||M.call(r,t,e,z):Vc(n)?(W=i.onDayClick)===null||W===void 0||W.call(i,t,e,z):Fc(n)?(J=s.onDayClick)===null||J===void 0||J.call(s,t,e,z):(K=n.onDayClick)===null||K===void 0||K.call(n,t,e,z)},A=function(z){var M;h(t),(M=n.onDayFocus)===null||M===void 0||M.call(n,t,e,z)},D=function(z){var M;f(),(M=n.onDayBlur)===null||M===void 0||M.call(n,t,e,z)},L=function(z){var M;(M=n.onDayMouseEnter)===null||M===void 0||M.call(n,t,e,z)},P=function(z){var M;(M=n.onDayMouseLeave)===null||M===void 0||M.call(n,t,e,z)},S=function(z){var M;(M=n.onDayPointerEnter)===null||M===void 0||M.call(n,t,e,z)},C=function(z){var M;(M=n.onDayPointerLeave)===null||M===void 0||M.call(n,t,e,z)},R=function(z){var M;(M=n.onDayTouchCancel)===null||M===void 0||M.call(n,t,e,z)},N=function(z){var M;(M=n.onDayTouchEnd)===null||M===void 0||M.call(n,t,e,z)},O=function(z){var M;(M=n.onDayTouchMove)===null||M===void 0||M.call(n,t,e,z)},k=function(z){var M;(M=n.onDayTouchStart)===null||M===void 0||M.call(n,t,e,z)},H=function(z){var M;(M=n.onDayKeyUp)===null||M===void 0||M.call(n,t,e,z)},oe=function(z){var M;switch(z.key){case"ArrowLeft":z.preventDefault(),z.stopPropagation(),n.dir==="rtl"?a():l();break;case"ArrowRight":z.preventDefault(),z.stopPropagation(),n.dir==="rtl"?l():a();break;case"ArrowDown":z.preventDefault(),z.stopPropagation(),u();break;case"ArrowUp":z.preventDefault(),z.stopPropagation(),d();break;case"PageUp":z.preventDefault(),z.stopPropagation(),z.shiftKey?y():g();break;case"PageDown":z.preventDefault(),z.stopPropagation(),z.shiftKey?x():v();break;case"Home":z.preventDefault(),z.stopPropagation(),T();break;case"End":z.preventDefault(),z.stopPropagation(),E();break}(M=n.onDayKeyDown)===null||M===void 0||M.call(n,t,e,z)},Z={onClick:b,onFocus:A,onBlur:D,onKeyDown:oe,onKeyUp:H,onMouseEnter:L,onMouseLeave:P,onPointerEnter:S,onPointerLeave:C,onTouchCancel:R,onTouchEnd:N,onTouchMove:O,onTouchStart:k};return Z}function uB(){var t=Ne(),e=tA(),n=Zy(),r=t0(),i=Ef(t)?e.selected:Vc(t)?n.selected:Fc(t)?r.selected:void 0;return i}function dB(t){return Object.values(Xn).includes(t)}function hB(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(dB(r)){var s=t.classNames["day_".concat(r)];s&&n.push(s)}}),n}function fB(t,e){var n=se({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=se(se({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function pB(t,e,n){var r,i,s,o=Ne(),a=r0(),l=oB(t,e),u=cB(t,l),d=uB(),f=!!(o.onDayClick||o.mode!=="default");w.useEffect(function(){var L;l.outside||a.focusedDay&&f&&Qt(a.focusedDay,t)&&((L=n.current)===null||L===void 0||L.focus())},[a.focusedDay,t,n,f,l.outside]);var h=hB(o,l).join(" "),g=fB(o,l),v=!!(l.outside&&!o.showOutsideDays||l.hidden),y=(s=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:M8,x=p.jsx(y,{date:t,displayMonth:e,activeModifiers:l}),T={style:g,className:h,children:x,role:"gridcell"},E=a.focusTarget&&Qt(a.focusTarget,t)&&!l.outside,b=a.focusedDay&&Qt(a.focusedDay,t),A=se(se(se({},T),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=b||E?0:-1,r)),u),D={isButton:f,isHidden:v,activeModifiers:l,selectedDays:d,buttonProps:A,divProps:T};return D}function mB(t){var e=w.useRef(null),n=pB(t.date,t.displayMonth,e);return n.isHidden?p.jsx("div",{role:"gridcell"}):n.isButton?p.jsx(mh,se({name:"day",ref:e},n.buttonProps)):p.jsx("div",se({},n.divProps))}function gB(t){var e=t.number,n=t.dates,r=Ne(),i=r.onWeekNumberClick,s=r.styles,o=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(e),{locale:a});if(!i)return p.jsx("span",{className:o.weeknumber,style:s.weeknumber,children:d});var f=l(Number(e),{locale:a}),h=function(g){i(e,n,g)};return p.jsx(mh,{name:"week-number","aria-label":f,className:o.weeknumber,style:s.weeknumber,onClick:h,children:d})}function vB(t){var e,n,r=Ne(),i=r.styles,s=r.classNames,o=r.showWeekNumber,a=r.components,l=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:mB,u=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:gB,d;return o&&(d=p.jsx("td",{className:s.cell,style:i.cell,children:p.jsx(u,{number:t.weekNumber,dates:t.dates})})),p.jsxs("tr",{className:s.row,style:i.row,children:[d,t.dates.map(function(f){return p.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:p.jsx(l,{displayMonth:t.displayMonth,date:f})},HU(f))})]})}function ME(t,e,n){for(var r=n!=null&&n.ISOWeek?FP(e):Qy(e,n),i=n!=null&&n.ISOWeek?Ks(t):_r(t,n),s=hr(r,i),o=[],a=0;a<=s;a++)o.push(jt(i,a));var l=o.reduce(function(u,d){var f=n!=null&&n.ISOWeek?BP(d):zP(d,n),h=u.find(function(g){return g.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return l}function yB(t,e){var n=ME(en(t),Yy(t),e);if(e!=null&&e.useFixedWeeks){var r=GU(t,e);if(r<6){var i=n[n.length-1],s=i.dates[i.dates.length-1],o=Rg(s,6-r),a=ME(Rg(s,1),o,e);n.push.apply(n,a)}}return n}function wB(t){var e,n,r,i=Ne(),s=i.locale,o=i.classNames,a=i.styles,l=i.hideHead,u=i.fixedWeeks,d=i.components,f=i.weekStartsOn,h=i.firstWeekContainsDate,g=i.ISOWeek,v=yB(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:g,locale:s,weekStartsOn:f,firstWeekContainsDate:h}),y=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:O8,x=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:vB,T=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:k8;return p.jsxs("table",{id:t.id,className:o.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&p.jsx(y,{}),p.jsx("tbody",{className:o.tbody,style:a.tbody,children:v.map(function(E){return p.jsx(x,{displayMonth:t.displayMonth,dates:E.dates,weekNumber:E.weekNumber},E.weekNumber)})}),p.jsx(T,{displayMonth:t.displayMonth})]})}function _B(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var EB=_B()?w.useLayoutEffect:w.useEffect,Vp=!1,xB=0;function LE(){return"react-day-picker-".concat(++xB)}function TB(t){var e,n=t??(Vp?LE():null),r=w.useState(n),i=r[0],s=r[1];return EB(function(){i===null&&s(LE())},[]),w.useEffect(function(){Vp===!1&&(Vp=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function bB(t){var e,n,r=Ne(),i=r.dir,s=r.classNames,o=r.styles,a=r.components,l=Uc().displayMonths,u=TB(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[s.month],h=o.month,g=t.displayIndex===0,v=t.displayIndex===l.length-1,y=!g&&!v;i==="rtl"&&(e=[g,v],v=e[0],g=e[1]),g&&(f.push(s.caption_start),h=se(se({},h),o.caption_start)),v&&(f.push(s.caption_end),h=se(se({},h),o.caption_end)),y&&(f.push(s.caption_between),h=se(se({},h),o.caption_between));var x=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:R8;return p.jsxs("div",{className:f.join(" "),style:h,children:[p.jsx(x,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),p.jsx(wB,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function SB(t){var e=Ne(),n=e.classNames,r=e.styles;return p.jsx("div",{className:n.months,style:r.months,children:t.children})}function CB(t){var e,n,r=t.initialProps,i=Ne(),s=r0(),o=Uc(),a=w.useState(!1),l=a[0],u=a[1];w.useEffect(function(){i.initialFocus&&s.focusTarget&&(l||(s.focus(s.focusTarget),u(!0)))},[i.initialFocus,l,s.focus,s.focusTarget,s]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var f=se(se({},i.styles.root),i.style),h=Object.keys(r).filter(function(v){return v.startsWith("data-")}).reduce(function(v,y){var x;return se(se({},v),(x={},x[y]=r[y],x))},{}),g=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:SB;return p.jsx("div",se({className:d.join(" "),style:f,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:p.jsx(g,{children:o.displayMonths.map(function(v,y){return p.jsx(bB,{displayIndex:y,displayMonth:v},y)})})}))}function IB(t){var e=t.children,n=XU(t,["children"]);return p.jsx(g8,{initialProps:n,children:p.jsx(C8,{children:p.jsx(aB,{initialProps:n,children:p.jsx(L8,{initialProps:n,children:p.jsx(F8,{initialProps:n,children:p.jsx(G8,{children:p.jsx(sB,{children:e})})})})})})})}function PB(t){return p.jsx(IB,se({},t,{children:p.jsx(CB,{initialProps:t})}))}function nA({className:t,classNames:e,showOutsideDays:n=!0,...r}){return p.jsx(PB,{showOutsideDays:n,className:pe("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:pe(Ag({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:pe(Ag({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>p.jsx(Xb,{className:"h-4 w-4"}),IconRight:({...i})=>p.jsx(Jb,{className:"h-4 w-4"})},...r})}nA.displayName="Calendar";var Fp=0;function AB(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??jE()),document.body.insertAdjacentElement("beforeend",t[1]??jE()),Fp++,()=>{Fp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Fp--}},[])}function jE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Up="focusScope.autoFocusOnMount",Bp="focusScope.autoFocusOnUnmount",VE={bubbles:!1,cancelable:!0},RB="FocusScope",rA=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=w.useState(null),u=nt(i),d=nt(s),f=w.useRef(null),h=Be(e,y=>l(y)),g=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let y=function(b){if(g.paused||!a)return;const A=b.target;a.contains(A)?f.current=A:gi(f.current,{select:!0})},x=function(b){if(g.paused||!a)return;const A=b.relatedTarget;A!==null&&(a.contains(A)||gi(f.current,{select:!0}))},T=function(b){if(document.activeElement===document.body)for(const D of b)D.removedNodes.length>0&&gi(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",x);const E=new MutationObserver(T);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",x),E.disconnect()}}},[r,a,g.paused]),w.useEffect(()=>{if(a){UE.add(g);const y=document.activeElement;if(!a.contains(y)){const T=new CustomEvent(Up,VE);a.addEventListener(Up,u),a.dispatchEvent(T),T.defaultPrevented||(kB(LB(iA(a)),{select:!0}),document.activeElement===y&&gi(a))}return()=>{a.removeEventListener(Up,u),setTimeout(()=>{const T=new CustomEvent(Bp,VE);a.addEventListener(Bp,d),a.dispatchEvent(T),T.defaultPrevented||gi(y??document.body,{select:!0}),a.removeEventListener(Bp,d),UE.remove(g)},0)}}},[a,u,d,g]);const v=w.useCallback(y=>{if(!n&&!r||g.paused)return;const x=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,T=document.activeElement;if(x&&T){const E=y.currentTarget,[b,A]=NB(E);b&&A?!y.shiftKey&&T===A?(y.preventDefault(),n&&gi(b,{select:!0})):y.shiftKey&&T===b&&(y.preventDefault(),n&&gi(A,{select:!0})):T===E&&y.preventDefault()}},[n,r,g.paused]);return p.jsx(xe.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});rA.displayName=RB;function kB(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(gi(r,{select:e}),document.activeElement!==n)return}function NB(t){const e=iA(t),n=FE(e,t),r=FE(e.reverse(),t);return[n,r]}function iA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function FE(t,e){for(const n of t)if(!DB(n,{upTo:e}))return n}function DB(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function OB(t){return t instanceof HTMLInputElement&&"select"in t}function gi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&OB(t)&&e&&t.select()}}var UE=MB();function MB(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=BE(t,e),t.unshift(e)},remove(e){var n;t=BE(t,e),(n=t[0])==null||n.resume()}}}function BE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function LB(t){return t.filter(e=>e.tagName!=="A")}var jB=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},lo=new WeakMap,Mu=new WeakMap,Lu={},$p=0,sA=function(t){return t&&(t.host||sA(t.parentNode))},VB=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=sA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},FB=function(t,e,n,r){var i=VB(e,Array.isArray(t)?t:[t]);Lu[n]||(Lu[n]=new WeakMap);var s=Lu[n],o=[],a=new Set,l=new Set(i),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var g=h.getAttribute(r),v=g!==null&&g!=="false",y=(lo.get(h)||0)+1,x=(s.get(h)||0)+1;lo.set(h,y),s.set(h,x),o.push(h),y===1&&v&&Mu.set(h,!0),x===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(T){console.error("aria-hidden: cannot operate on ",h,T)}})};return d(e),a.clear(),$p++,function(){o.forEach(function(f){var h=lo.get(f)-1,g=s.get(f)-1;lo.set(f,h),s.set(f,g),h||(Mu.has(f)||f.removeAttribute(r),Mu.delete(f)),g||f.removeAttribute(n)}),$p--,$p||(lo=new WeakMap,lo=new WeakMap,Mu=new WeakMap,Lu={})}},UB=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=jB(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),FB(r,i,n,"aria-hidden")):function(){return null}},hd="right-scroll-bar-position",fd="width-before-scroll-bar",BB="with-scroll-bars-hidden",$B="--removed-body-scroll-bar-size";function zp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function zB(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var WB=typeof window<"u"?w.useLayoutEffect:w.useEffect,$E=new WeakMap;function HB(t,e){var n=zB(null,function(r){return t.forEach(function(i){return zp(i,r)})});return WB(function(){var r=$E.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||zp(a,null)}),s.forEach(function(a){i.has(a)||zp(a,o)})}$E.set(n,t)},[t]),n}function qB(t){return t}function GB(t,e){e===void 0&&(e=qB);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function KB(t){t===void 0&&(t={});var e=GB(null);return e.options=dr({async:!0,ssr:!1},t),e}var oA=function(t){var e=t.sideCar,n=Pc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,dr({},n))};oA.isSideCarExport=!0;function YB(t,e){return t.useMedium(e),oA}var aA=KB(),Wp=function(){},xf=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:Wp,onWheelCapture:Wp,onTouchMoveCapture:Wp}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,g=t.noIsolation,v=t.inert,y=t.allowPinchZoom,x=t.as,T=x===void 0?"div":x,E=t.gapMode,b=Pc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=h,D=HB([n,e]),L=dr(dr({},b),i);return w.createElement(w.Fragment,null,d&&w.createElement(A,{sideCar:aA,removeScrollBar:u,shards:f,noIsolation:g,inert:v,setCallbacks:s,allowPinchZoom:!!y,lockRef:n,gapMode:E}),o?w.cloneElement(w.Children.only(a),dr(dr({},L),{ref:D})):w.createElement(T,dr({},L,{className:l,ref:D}),a))});xf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xf.classNames={fullWidth:fd,zeroRight:hd};var QB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function XB(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=QB();return e&&t.setAttribute("nonce",e),t}function JB(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function ZB(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var e$=function(){var t=0,e=null;return{add:function(n){t==0&&(e=XB())&&(JB(e,n),ZB(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},t$=function(){var t=e$();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},lA=function(){var t=t$(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},n$={left:0,top:0,right:0,gap:0},Hp=function(t){return parseInt(t||"",10)||0},r$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Hp(n),Hp(r),Hp(i)]},i$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return n$;var e=r$(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},s$=lA(),zo="data-scroll-locked",o$=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(BB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(zo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(fd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(hd," .").concat(hd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(fd," .").concat(fd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(zo,`] {
    `).concat($B,": ").concat(a,`px;
  }
`)},zE=function(){var t=parseInt(document.body.getAttribute(zo)||"0",10);return isFinite(t)?t:0},a$=function(){w.useEffect(function(){return document.body.setAttribute(zo,(zE()+1).toString()),function(){var t=zE()-1;t<=0?document.body.removeAttribute(zo):document.body.setAttribute(zo,t.toString())}},[])},l$=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;a$();var s=w.useMemo(function(){return i$(i)},[i]);return w.createElement(s$,{styles:o$(s,!e,i,n?"":"!important")})},Ng=!1;if(typeof window<"u")try{var ju=Object.defineProperty({},"passive",{get:function(){return Ng=!0,!0}});window.addEventListener("test",ju,ju),window.removeEventListener("test",ju,ju)}catch{Ng=!1}var co=Ng?{passive:!1}:!1,c$=function(t){return t.tagName==="TEXTAREA"},cA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!c$(t)&&n[e]==="visible")},u$=function(t){return cA(t,"overflowY")},d$=function(t){return cA(t,"overflowX")},WE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=uA(t,r);if(i){var s=dA(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},h$=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},f$=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},uA=function(t,e){return t==="v"?u$(e):d$(e)},dA=function(t,e){return t==="v"?h$(e):f$(e)},p$=function(t,e){return t==="h"&&e==="rtl"?-1:1},m$=function(t,e,n,r,i){var s=p$(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),u=!1,d=o>0,f=0,h=0;do{var g=dA(t,a),v=g[0],y=g[1],x=g[2],T=y-x-s*v;(v||T)&&uA(t,a)&&(f+=T,h+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(u=!0),u},Vu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},HE=function(t){return[t.deltaX,t.deltaY]},qE=function(t){return t&&"current"in t?t.current:t},g$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},v$=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},y$=0,uo=[];function w$(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),i=w.useState(y$++)[0],s=w.useState(lA)[0],o=w.useRef(t);w.useEffect(function(){o.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=uV([t.lockRef.current],(t.shards||[]).map(qE),!0).filter(Boolean);return y.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=w.useCallback(function(y,x){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var T=Vu(y),E=n.current,b="deltaX"in y?y.deltaX:E[0]-T[0],A="deltaY"in y?y.deltaY:E[1]-T[1],D,L=y.target,P=Math.abs(b)>Math.abs(A)?"h":"v";if("touches"in y&&P==="h"&&L.type==="range")return!1;var S=WE(P,L);if(!S)return!0;if(S?D=P:(D=P==="v"?"h":"v",S=WE(P,L)),!S)return!1;if(!r.current&&"changedTouches"in y&&(b||A)&&(r.current=D),!D)return!0;var C=r.current||D;return m$(C,x,y,C==="h"?b:A,!0)},[]),l=w.useCallback(function(y){var x=y;if(!(!uo.length||uo[uo.length-1]!==s)){var T="deltaY"in x?HE(x):Vu(x),E=e.current.filter(function(D){return D.name===x.type&&(D.target===x.target||x.target===D.shadowParent)&&g$(D.delta,T)})[0];if(E&&E.should){x.cancelable&&x.preventDefault();return}if(!E){var b=(o.current.shards||[]).map(qE).filter(Boolean).filter(function(D){return D.contains(x.target)}),A=b.length>0?a(x,b[0]):!o.current.noIsolation;A&&x.cancelable&&x.preventDefault()}}},[]),u=w.useCallback(function(y,x,T,E){var b={name:y,delta:x,target:T,should:E,shadowParent:_$(T)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(A){return A!==b})},1)},[]),d=w.useCallback(function(y){n.current=Vu(y),r.current=void 0},[]),f=w.useCallback(function(y){u(y.type,HE(y),y.target,a(y,t.lockRef.current))},[]),h=w.useCallback(function(y){u(y.type,Vu(y),y.target,a(y,t.lockRef.current))},[]);w.useEffect(function(){return uo.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,co),document.addEventListener("touchmove",l,co),document.addEventListener("touchstart",d,co),function(){uo=uo.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,co),document.removeEventListener("touchmove",l,co),document.removeEventListener("touchstart",d,co)}},[]);var g=t.removeScrollBar,v=t.inert;return w.createElement(w.Fragment,null,v?w.createElement(s,{styles:v$(i)}):null,g?w.createElement(l$,{gapMode:t.gapMode}):null)}function _$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const E$=YB(aA,w$);var hA=w.forwardRef(function(t,e){return w.createElement(xf,dr({},t,{ref:e,sideCar:E$}))});hA.classNames=xf.classNames;var s0="Popover",[fA,uz]=Xs(s0,[Wh]),Bc=Wh(),[x$,ps]=fA(s0),pA=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!1}=t,a=Bc(e),l=w.useRef(null),[u,d]=w.useState(!1),[f=!1,h]=bc({prop:r,defaultProp:i,onChange:s});return p.jsx(eL,{...a,children:p.jsx(x$,{scope:e,contentId:hS(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(g=>!g),[h]),hasCustomAnchor:u,onCustomAnchorAdd:w.useCallback(()=>d(!0),[]),onCustomAnchorRemove:w.useCallback(()=>d(!1),[]),modal:o,children:n})})};pA.displayName=s0;var mA="PopoverAnchor",T$=w.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=ps(mA,n),s=Bc(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=i;return w.useEffect(()=>(o(),()=>a()),[o,a]),p.jsx(Wv,{...s,...r,ref:e})});T$.displayName=mA;var gA="PopoverTrigger",vA=w.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=ps(gA,n),s=Bc(n),o=Be(e,i.triggerRef),a=p.jsx(xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":xA(i.open),...r,ref:o,onClick:ue(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:p.jsx(Wv,{asChild:!0,...s,children:a})});vA.displayName=gA;var o0="PopoverPortal",[b$,S$]=fA(o0,{forceMount:void 0}),yA=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=ps(o0,e);return p.jsx(b$,{scope:e,forceMount:n,children:p.jsx(Jn,{present:n||s.open,children:p.jsx(Rv,{asChild:!0,container:i,children:r})})})};yA.displayName=o0;var ya="PopoverContent",wA=w.forwardRef((t,e)=>{const n=S$(ya,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=ps(ya,t.__scopePopover);return p.jsx(Jn,{present:r||s.open,children:s.modal?p.jsx(C$,{...i,ref:e}):p.jsx(I$,{...i,ref:e})})});wA.displayName=ya;var C$=w.forwardRef((t,e)=>{const n=ps(ya,t.__scopePopover),r=w.useRef(null),i=Be(e,r),s=w.useRef(!1);return w.useEffect(()=>{const o=r.current;if(o)return UB(o)},[]),p.jsx(hA,{as:oa,allowPinchZoom:!0,children:p.jsx(_A,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),s.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ue(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,u=a.button===2||l;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ue(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),I$=w.forwardRef((t,e)=>{const n=ps(ya,t.__scopePopover),r=w.useRef(!1),i=w.useRef(!1);return p.jsx(_A,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),_A=w.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,...f}=t,h=ps(ya,n),g=Bc(n);return AB(),p.jsx(rA,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:p.jsx(Lh,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:p.jsx(kS,{"data-state":xA(h.open),role:"dialog",id:h.contentId,...g,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),EA="PopoverClose",P$=w.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=ps(EA,n);return p.jsx(xe.button,{type:"button",...r,ref:e,onClick:ue(t.onClick,()=>i.onOpenChange(!1))})});P$.displayName=EA;var A$="PopoverArrow",R$=w.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Bc(n);return p.jsx(NS,{...i,...r,ref:e})});R$.displayName=A$;function xA(t){return t?"open":"closed"}var k$=pA,N$=vA,D$=yA,TA=wA;const O$=k$,M$=N$,bA=w.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>p.jsx(D$,{children:p.jsx(TA,{ref:i,align:e,sideOffset:n,className:pe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));bA.displayName=TA.displayName;function L$(t,e=[]){let n=[];function r(s,o){const a=w.createContext(o),l=n.length;n=[...n,o];function u(f){const{scope:h,children:g,...v}=f,y=(h==null?void 0:h[t][l])||a,x=w.useMemo(()=>v,Object.values(v));return p.jsx(y.Provider,{value:x,children:g})}function d(f,h){const g=(h==null?void 0:h[t][l])||a,v=w.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,j$(i,...e)]}function j$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var V$=w.createContext(void 0);function a0(t){const e=w.useContext(V$);return t||e||"ltr"}var qp="rovingFocusGroup.onEntryFocus",F$={bubbles:!1,cancelable:!0},Tf="RovingFocusGroup",[Dg,SA,U$]=bb(Tf),[B$,CA]=L$(Tf,[U$]),[$$,z$]=B$(Tf),IA=w.forwardRef((t,e)=>p.jsx(Dg.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(Dg.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(W$,{...t,ref:e})})}));IA.displayName=Tf;var W$=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,h=w.useRef(null),g=Be(e,h),v=a0(s),[y=null,x]=bc({prop:o,defaultProp:a,onChange:l}),[T,E]=w.useState(!1),b=nt(u),A=SA(n),D=w.useRef(!1),[L,P]=w.useState(0);return w.useEffect(()=>{const S=h.current;if(S)return S.addEventListener(qp,b),()=>S.removeEventListener(qp,b)},[b]),p.jsx($$,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:y,onItemFocus:w.useCallback(S=>x(S),[x]),onItemShiftTab:w.useCallback(()=>E(!0),[]),onFocusableItemAdd:w.useCallback(()=>P(S=>S+1),[]),onFocusableItemRemove:w.useCallback(()=>P(S=>S-1),[]),children:p.jsx(xe.div,{tabIndex:T||L===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:ue(t.onMouseDown,()=>{D.current=!0}),onFocus:ue(t.onFocus,S=>{const C=!D.current;if(S.target===S.currentTarget&&C&&!T){const R=new CustomEvent(qp,F$);if(S.currentTarget.dispatchEvent(R),!R.defaultPrevented){const N=A().filter(Z=>Z.focusable),O=N.find(Z=>Z.active),k=N.find(Z=>Z.id===y),oe=[O,k,...N].filter(Boolean).map(Z=>Z.ref.current);RA(oe,d)}}D.current=!1}),onBlur:ue(t.onBlur,()=>E(!1))})})}),PA="RovingFocusGroupItem",AA=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=hS(),l=s||a,u=z$(PA,n),d=u.currentTabStopId===l,f=SA(n),{onFocusableItemAdd:h,onFocusableItemRemove:g}=u;return w.useEffect(()=>{if(r)return h(),()=>g()},[r,h,g]),p.jsx(Dg.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:p.jsx(xe.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:ue(t.onMouseDown,v=>{r?u.onItemFocus(l):v.preventDefault()}),onFocus:ue(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:ue(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=G$(v,u.orientation,u.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let T=f().filter(E=>E.focusable).map(E=>E.ref.current);if(y==="last")T.reverse();else if(y==="prev"||y==="next"){y==="prev"&&T.reverse();const E=T.indexOf(v.currentTarget);T=u.loop?K$(T,E+1):T.slice(E+1)}setTimeout(()=>RA(T))}})})})});AA.displayName=PA;var H$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function q$(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function G$(t,e,n){const r=q$(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return H$[r]}function RA(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function K$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Y$=IA,Q$=AA;function kA(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var l0="Radio",[X$,NA]=Xs(l0),[J$,Z$]=X$(l0),DA=w.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:s,disabled:o,value:a="on",onCheck:l,form:u,...d}=t,[f,h]=w.useState(null),g=Be(e,x=>h(x)),v=w.useRef(!1),y=f?u||!!f.closest("form"):!0;return p.jsxs(J$,{scope:n,checked:i,disabled:o,children:[p.jsx(xe.button,{type:"button",role:"radio","aria-checked":i,"data-state":LA(i),"data-disabled":o?"":void 0,disabled:o,value:a,...d,ref:g,onClick:ue(t.onClick,x=>{i||l==null||l(),y&&(v.current=x.isPropagationStopped(),v.current||x.stopPropagation())})}),y&&p.jsx(e7,{control:f,bubbles:!v.current,name:r,value:a,checked:i,required:s,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});DA.displayName=l0;var OA="RadioIndicator",MA=w.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...i}=t,s=Z$(OA,n);return p.jsx(Jn,{present:r||s.checked,children:p.jsx(xe.span,{"data-state":LA(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e})})});MA.displayName=OA;var e7=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=w.useRef(null),o=kA(n),a=Bv(e);return w.useEffect(()=>{const l=s.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[o,n,r]),p.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function LA(t){return t?"checked":"unchecked"}var t7=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],c0="RadioGroup",[n7,dz]=Xs(c0,[CA,NA]),jA=CA(),VA=NA(),[r7,i7]=n7(c0),FA=w.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:s,required:o=!1,disabled:a=!1,orientation:l,dir:u,loop:d=!0,onValueChange:f,...h}=t,g=jA(n),v=a0(u),[y,x]=bc({prop:s,defaultProp:i,onChange:f});return p.jsx(r7,{scope:n,name:r,required:o,disabled:a,value:y,onValueChange:x,children:p.jsx(Y$,{asChild:!0,...g,orientation:l,dir:v,loop:d,children:p.jsx(xe.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":a?"":void 0,dir:v,...h,ref:e})})})});FA.displayName=c0;var UA="RadioGroupItem",BA=w.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...i}=t,s=i7(UA,n),o=s.disabled||r,a=jA(n),l=VA(n),u=w.useRef(null),d=Be(e,u),f=s.value===i.value,h=w.useRef(!1);return w.useEffect(()=>{const g=y=>{t7.includes(y.key)&&(h.current=!0)},v=()=>h.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",v)}},[]),p.jsx(Q$,{asChild:!0,...a,focusable:!o,active:f,children:p.jsx(DA,{disabled:o,required:s.required,checked:f,...l,...i,name:s.name,ref:d,onCheck:()=>s.onValueChange(i.value),onKeyDown:ue(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:ue(i.onFocus,()=>{var g;h.current&&((g=u.current)==null||g.click())})})})});BA.displayName=UA;var s7="RadioGroupIndicator",$A=w.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,i=VA(n);return p.jsx(MA,{...i,...r,ref:e})});$A.displayName=s7;var zA=FA,WA=BA,o7=$A;const HA=w.forwardRef(({className:t,...e},n)=>p.jsx(zA,{className:pe("grid gap-2",t),...e,ref:n}));HA.displayName=zA.displayName;const qA=w.forwardRef(({className:t,...e},n)=>p.jsx(WA,{ref:n,className:pe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:p.jsx(o7,{className:"flex items-center justify-center",children:p.jsx(wD,{className:"h-2.5 w-2.5 fill-current text-current"})})}));qA.displayName=WA.displayName;var a7="Label",GA=w.forwardRef((t,e)=>p.jsx(xe.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));GA.displayName=a7;var KA=GA;const l7=Uh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),yn=w.forwardRef(({className:t,...e},n)=>p.jsx(KA,{ref:n,className:pe(l7(),t),...e}));yn.displayName=KA.displayName;var u0="Checkbox",[c7,hz]=Xs(u0),[u7,d7]=c7(u0),YA=w.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:u,form:d,...f}=t,[h,g]=w.useState(null),v=Be(e,A=>g(A)),y=w.useRef(!1),x=h?d||!!h.closest("form"):!0,[T=!1,E]=bc({prop:i,defaultProp:s,onChange:u}),b=w.useRef(T);return w.useEffect(()=>{const A=h==null?void 0:h.form;if(A){const D=()=>E(b.current);return A.addEventListener("reset",D),()=>A.removeEventListener("reset",D)}},[h,E]),p.jsxs(u7,{scope:n,state:T,disabled:a,children:[p.jsx(xe.button,{type:"button",role:"checkbox","aria-checked":Gi(T)?"mixed":T,"aria-required":o,"data-state":JA(T),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:v,onKeyDown:ue(t.onKeyDown,A=>{A.key==="Enter"&&A.preventDefault()}),onClick:ue(t.onClick,A=>{E(D=>Gi(D)?!0:!D),x&&(y.current=A.isPropagationStopped(),y.current||A.stopPropagation())})}),x&&p.jsx(h7,{control:h,bubbles:!y.current,name:r,value:l,checked:T,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Gi(s)?!1:s})]})});YA.displayName=u0;var QA="CheckboxIndicator",XA=w.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=d7(QA,n);return p.jsx(Jn,{present:r||Gi(s.state)||s.state===!0,children:p.jsx(xe.span,{"data-state":JA(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});XA.displayName=QA;var h7=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:i,...s}=t,o=w.useRef(null),a=kA(n),l=Bv(e);w.useEffect(()=>{const d=o.current,f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(a!==n&&g){const v=new Event("click",{bubbles:r});d.indeterminate=Gi(n),g.call(d,Gi(n)?!1:n),d.dispatchEvent(v)}},[a,n,r]);const u=w.useRef(Gi(n)?!1:n);return p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??u.current,...s,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Gi(t){return t==="indeterminate"}function JA(t){return Gi(t)?"indeterminate":t?"checked":"unchecked"}var ZA=YA,f7=XA;const Og=w.forwardRef(({className:t,...e},n)=>p.jsx(ZA,{ref:n,className:pe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:p.jsx(f7,{className:pe("flex items-center justify-center text-current"),children:p.jsx(vD,{className:"h-4 w-4"})})}));Og.displayName=ZA.displayName;const eR=w.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:pe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));eR.displayName="Textarea";const p7=({onSaveEntry:t,selectedDate:e})=>{const[n,r]=w.useState(e?new Date(e):new Date),[i,s]=w.useState("medium"),[o,a]=w.useState([]),[l,u]=w.useState(""),[d,f]=w.useState(""),[h,g]=w.useState(!1),[v,y]=w.useState(!1),x=["Cramps","Headache","Bloating","Breast tenderness","Fatigue","Nausea","Back pain","Acne","Food cravings","Mood swings","Irritability","Anxiety"],T=[" Happy"," Calm"," Sad"," Angry"," Anxious"," Tired"," Loving"," Irritated"],E=(A,D)=>{a(D?[...o,A]:o.filter(L=>L!==A))},b=async()=>{try{g(!0),console.log("Preparing to save entry..."),console.log("Current date:",n),console.log("Current flow:",i),console.log("Current symptoms:",o),console.log("Current mood:",l),console.log("Current notes:",d);const A={date:Qn(n,"yyyy-MM-dd"),flow:i,symptoms:o,mood:l,...d.trim()?{notes:d.trim()}:{}};console.log("Formatted entry to save:",A),await t(A),console.log("Entry saved successfully"),s("medium"),a([]),u(""),f("")}catch(A){console.error("Error in LogEntry component:",A)}finally{g(!1)}};return p.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:p.jsxs(Ht,{children:[p.jsx(Fr,{children:p.jsxs(Ur,{className:"flex items-center gap-2",children:[p.jsx(ec,{className:"h-5 w-5"}),"Log Your Day"]})}),p.jsxs(qt,{className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(yn,{children:"Date"}),p.jsxs(O$,{children:[p.jsx(M$,{asChild:!0,children:p.jsxs(Wn,{variant:"outline",className:pe("w-full justify-start text-left font-normal",!n&&"text-muted-foreground"),children:[p.jsx(ec,{className:"mr-2 h-4 w-4"}),n?Qn(n,"PPP"):p.jsx("span",{children:"Pick a date"})]})}),p.jsx(bA,{className:"w-auto p-0",align:"start",children:p.jsx(nA,{mode:"single",selected:n,onSelect:A=>A&&r(A),initialFocus:!0,className:"p-3 pointer-events-auto"})})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(yn,{children:"Flow"}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"flex gap-4",children:["light","medium","heavy"].map(A=>p.jsx(Wn,{type:"button",variant:i===A?"default":"outline",onClick:()=>s(A),className:"capitalize",children:A},A))}),p.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[p.jsx(Og,{id:"firstDayOfCycle",checked:v,onCheckedChange:A=>y(A)}),p.jsx(yn,{htmlFor:"firstDayOfCycle",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"First day of cycle"})]})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx(yn,{children:"Symptoms"}),p.jsx("div",{className:"grid grid-cols-2 gap-3",children:x.map(A=>p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Og,{id:A,checked:o.includes(A),onCheckedChange:D=>E(A,D===!0)}),p.jsx(yn,{htmlFor:A,className:"text-sm",children:A})]},A))})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx(yn,{children:"Mood"}),p.jsx(HA,{value:l,onValueChange:u,children:p.jsx("div",{className:"grid grid-cols-2 gap-2",children:T.map(A=>p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(qA,{value:A,id:A}),p.jsx(yn,{htmlFor:A,className:"text-sm",children:A})]},A))})})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(yn,{children:"Notes (optional)"}),p.jsx(eR,{placeholder:"Any additional notes about your day...",value:d,onChange:A=>f(A.target.value),className:"min-h-[80px]"})]}),p.jsxs(Wn,{onClick:b,className:"w-full",disabled:h,children:[p.jsx(ID,{className:"mr-2 h-4 w-4"}),h?"Saving...":"Save Entry"]})]})]})})},m7=Uh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function pd({className:t,variant:e,...n}){return p.jsx("div",{className:pe(m7({variant:e}),t),...n})}const g7=({entries:t,onEntryClick:e})=>{const{toast:n}=Mh(),r=async s=>{if(!s.id){n({title:"Error",description:"Cannot delete entry: No entry ID found",variant:"destructive"});return}try{await O9(bi(Kt,"periodEntries",s.id)),n({title:"Success",description:"Entry deleted successfully"})}catch(o){console.error("Error deleting entry:",o),n({title:"Error",description:"Failed to delete entry. Please try again.",variant:"destructive"})}},i=s=>{switch(s){case"light":return"bg-pink-100 text-pink-800 border-pink-200";case"medium":return"bg-pink-200 text-pink-800 border-pink-300";case"heavy":return"bg-pink-300 text-pink-800 border-pink-400";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return p.jsx("div",{className:"space-y-4",children:t.length===0?p.jsx("div",{className:"text-center py-8 text-gray-500",children:"No entries found. Start by logging your first entry!"}):t.map(s=>p.jsx(Ht,{className:"hover:shadow-md transition-shadow",children:p.jsx(qt,{className:"p-6",children:p.jsxs("div",{className:"flex items-start justify-between gap-4",children:[p.jsxs("div",{className:"flex-1 cursor-pointer space-y-4",onClick:()=>e(s),children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[p.jsx(ec,{className:"h-4 w-4"}),p.jsx("span",{className:"font-medium",children:Qn(new Date(s.date),"dd-MM-yyyy")})]}),p.jsxs(pd,{className:i(s.flow),children:[p.jsx(Zb,{className:"h-3 w-3 mr-1"}),s.flow.charAt(0).toUpperCase()+s.flow.slice(1)," flow"]}),s.isFirstDayOfCycle&&p.jsx(pd,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:"First day of cycle"})]}),s.symptoms.length>0&&p.jsx("div",{className:"flex flex-wrap gap-2",children:s.symptoms.map(o=>p.jsx(pd,{variant:"secondary",className:"bg-gray-100 text-gray-700",children:o},o))}),p.jsxs("div",{className:"flex flex-col gap-2",children:[s.mood&&p.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[p.jsx(eS,{className:"h-4 w-4"}),p.jsx("span",{children:s.mood})]}),s.notes&&p.jsxs("div",{className:"flex items-start gap-2 text-gray-600",children:[p.jsx(CD,{className:"h-4 w-4 mt-1"}),p.jsx("span",{className:"text-sm",children:s.notes})]})]})]}),p.jsx(Wn,{variant:"ghost",size:"icon",onClick:o=>{o.stopPropagation(),r(s)},className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:p.jsx(RD,{className:"h-4 w-4"})})]})})},s.id))})};function v7(t,e=[]){let n=[];function r(s,o){const a=w.createContext(o),l=n.length;n=[...n,o];function u(f){const{scope:h,children:g,...v}=f,y=(h==null?void 0:h[t][l])||a,x=w.useMemo(()=>v,Object.values(v));return p.jsx(y.Provider,{value:x,children:g})}function d(f,h){const g=(h==null?void 0:h[t][l])||a,v=w.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,y7(i,...e)]}function y7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var d0="Progress",h0=100,[w7,fz]=v7(d0),[_7,E7]=w7(d0),tR=w.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=x7,...o}=t;(i||i===0)&&!GE(i)&&console.error(T7(`${i}`,"Progress"));const a=GE(i)?i:h0;r!==null&&!KE(r,a)&&console.error(b7(`${r}`,"Progress"));const l=KE(r,a)?r:null,u=gh(l)?s(l,a):void 0;return p.jsx(_7,{scope:n,value:l,max:a,children:p.jsx(xe.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":gh(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":iR(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});tR.displayName=d0;var nR="ProgressIndicator",rR=w.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=E7(nR,n);return p.jsx(xe.div,{"data-state":iR(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});rR.displayName=nR;function x7(t,e){return`${Math.round(t/e*100)}%`}function iR(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function gh(t){return typeof t=="number"}function GE(t){return gh(t)&&!isNaN(t)&&t>0}function KE(t,e){return gh(t)&&!isNaN(t)&&t<=e&&t>=0}function T7(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${h0}\`.`}function b7(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${h0} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var sR=tR,S7=rR;const oR=w.forwardRef(({className:t,value:e,...n},r)=>p.jsx(sR,{ref:r,className:pe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:p.jsx(S7,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));oR.displayName=sR.displayName;const C7=({cycleData:t,periodEntries:e})=>{const n=w.useMemo(()=>{const f=new Date,h=LP(f,new Date(t.lastPeriodStart),t.cycleLength,t.periodLength),g=IE(t,2),v=Math.ceil((g[0].getTime()-f.getTime())/(1e3*60*60*24)),y={};e.forEach(E=>{E.symptoms.forEach(b=>{y[b]=(y[b]||0)+1})});const x=Object.entries(y).sort(([,E],[,b])=>b-E).slice(0,5),T=(h.dayOfCycle-1)/t.cycleLength*100;return{currentPhase:h.phase,dayOfCycle:h.dayOfCycle,daysUntilNextPeriod:v,cycleProgress:T,topSymptoms:x,totalEntries:e.length}},[t,e]),i=(f=>{switch(f){case"period":return{name:"Menstrual",color:"text-red-600",bg:"bg-red-50"};case"follicular":return{name:"Follicular",color:"text-green-600",bg:"bg-green-50"};case"ovulation":return{name:"Ovulation",color:"text-blue-600",bg:"bg-blue-50"};case"luteal":return{name:"Luteal",color:"text-yellow-600",bg:"bg-yellow-50"};case"pms":return{name:"PMS",color:"text-purple-600",bg:"bg-purple-50"};default:return{name:"Unknown",color:"text-gray-600",bg:"bg-gray-50"}}})(n.currentPhase),s=[...e].reverse().find(f=>f.isFirstDayOfCycle===!0);let o=null;s?o=new Date(s.date):o=new Date("2025-06-11");const a=t.cycleLength;t.periodLength;let l=null,u=null,d=null;return o&&(d=new Date(o),d.setDate(o.getDate()+a),l=new Date(o),l.setDate(o.getDate()+(a-14)),u=new Date(o),u.setDate(o.getDate()+a-5)),p.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[p.jsx(Ht,{children:p.jsx(qt,{className:"p-4",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`p-2 rounded-lg ${i.bg}`,children:p.jsx(eS,{className:`h-5 w-5 ${i.color}`})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Phase"}),p.jsx("p",{className:`font-semibold ${i.color}`,children:i.name})]})]})})}),p.jsx(Ht,{children:p.jsx(qt,{className:"p-4",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:p.jsx(ec,{className:"h-5 w-5 text-primary"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Day of Cycle"}),p.jsxs("p",{className:"font-semibold",children:[n.dayOfCycle," of ",t.cycleLength]})]})]})})}),p.jsx(Ht,{children:p.jsx(qt,{className:"p-4",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 rounded-lg bg-blue-50",children:p.jsx(_D,{className:"h-5 w-5 text-blue-600"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Next Period"}),p.jsxs("p",{className:"font-semibold",children:[n.daysUntilNextPeriod," days"]})]})]})})}),p.jsx(Ht,{children:p.jsx(qt,{className:"p-4",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 rounded-lg bg-green-50",children:p.jsx(kD,{className:"h-5 w-5 text-green-600"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Logged Days"}),p.jsx("p",{className:"font-semibold",children:n.totalEntries})]})]})})})]}),p.jsxs(Ht,{children:[p.jsx(Fr,{children:p.jsx(Ur,{children:"Cycle Progress"})}),p.jsx(qt,{children:p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsxs("span",{children:["Day ",n.dayOfCycle," of ",t.cycleLength]}),p.jsxs("span",{children:[Math.round(n.cycleProgress),"%"]})]}),p.jsx(oR,{value:n.cycleProgress,className:"h-2"}),p.jsxs("div",{className:"text-sm text-muted-foreground text-center",children:["Current phase: ",p.jsx("span",{className:i.color,children:i.name})]})]})})]}),n.topSymptoms.length>0&&p.jsxs(Ht,{children:[p.jsx(Fr,{children:p.jsx(Ur,{children:"Most Common Symptoms"})}),p.jsx(qt,{children:p.jsx("div",{className:"space-y-3",children:n.topSymptoms.map(([f,h])=>p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm font-medium",children:f}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:p.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${h/n.totalEntries*100}%`}})}),p.jsx("span",{className:"text-sm text-muted-foreground w-8",children:h})]})]},f))})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs(Ht,{children:[p.jsx(Fr,{children:p.jsx(Ur,{children:"Cycle Information"})}),p.jsxs(qt,{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-muted-foreground",children:"Average cycle length"}),p.jsxs("span",{className:"font-medium",children:[t.averageCycleLength," days"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-muted-foreground",children:"Period length"}),p.jsxs("span",{className:"font-medium",children:[t.periodLength," days"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-muted-foreground",children:"Last period started"}),p.jsx("span",{className:"font-medium",children:new Date(t.lastPeriodStart).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})})]})]})]}),p.jsxs(Ht,{children:[p.jsx(Fr,{children:p.jsx(Ur,{children:"Upcoming Predictions"})}),p.jsxs(qt,{children:[IE(t,2).map((f,h)=>p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-muted-foreground",children:h===0?"Next period":"Following period"}),p.jsx("span",{className:"font-medium",children:f.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})})]},h)),p.jsxs("div",{className:"mt-6 space-y-2",children:[p.jsxs("div",{children:[p.jsx("span",{className:"font-medium",children:"First Day of Cycle:"})," ",o?o.toLocaleDateString("en-GB"):"-"]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-medium",children:"Predicted Ovulation:"})," ",l?l.toLocaleDateString("en-GB"):"-"]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-medium",children:"Predicted PMS Start:"})," ",u?u.toLocaleDateString("en-GB"):"-"]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-medium",children:"Predicted Next Period:"})," ",d?d.toLocaleDateString("en-GB"):"-"]})]})]})]})]})]})},YE=t=>{if(!t)return!1;const e=new Date(t).getTime();return Date.now()-e<5*60*1e3},I7=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!0),[i,s]=w.useState([]),[o,a]=w.useState(null),[l,u]=w.useState(null),[d,f]=w.useState(!1);w.useEffect(()=>{const v=Ll(As(Kt,"periodEntries"),CP("date","desc"));return NP(v,async x=>{const T=[];for(const E of x.docs){const b=E.data(),D=(await kP(bi(Kt,"users",b.userId))).data();T.push({...b,userId:b.userId,userName:(D==null?void 0:D.name)||"Unknown",userEmail:(D==null?void 0:D.email)||"Unknown"})}e(T),r(!1)})},[]),w.useEffect(()=>{(async()=>{r(!0);const y=await ud(As(Kt,"users")),x=[];for(const T of y.docs){const E=T.data(),b=T.id,A=Ll(As(Kt,"periodEntries"),fh("userId","==",b)),D=await ud(A),L=[];D.forEach(O=>{const k=O.data();L.push({id:O.id,userId:k.userId,date:k.date,flow:k.flow,symptoms:k.symptoms,mood:k.mood,notes:k.notes,isFirstDayOfCycle:k.isFirstDayOfCycle||!1})});const P=L.length,S=L.length>0?L.map(O=>O.date).sort().reverse()[0]:null,C=L.length>0?L.sort((O,k)=>k.date.localeCompare(O.date))[0]:void 0,R=(C==null?void 0:C.symptoms)||[],N=(C==null?void 0:C.mood)||"";x.push({id:b,name:E.name||"",email:E.email||"",photoURL:E.photoURL||"",lastLogin:E.lastLogin||"",totalLogs:P,lastLogDate:S,lastSymptoms:R,lastMood:N})}s(x),r(!1)})()},[]);const h=async v=>{a(v),f(!0);const y=Ll(As(Kt,"periodEntries"),fh("userId","==",v.id)),x=await ud(y),T=[];x.forEach(S=>{const C=S.data();T.push({id:S.id,userId:C.userId,date:C.date,flow:C.flow,symptoms:C.symptoms,mood:C.mood,notes:C.notes,isFirstDayOfCycle:C.isFirstDayOfCycle||!1})});const E=T.length,b=T.length>0?T.map(S=>S.date).sort().reverse()[0]:null,A={};T.forEach(S=>{S.symptoms.forEach(C=>{A[C]=(A[C]||0)+1})});const D=Object.entries(A).sort(([,S],[,C])=>C-S).slice(0,5),L=T.length>0?T.sort((S,C)=>C.date.localeCompare(S.date))[0]:void 0,P=(L==null?void 0:L.mood)||"";u({totalEntries:E,lastActivity:b,topSymptoms:D,lastMood:P,email:v.email,name:v.name,photoURL:v.photoURL,lastLogin:v.lastLogin,lastLogDate:v.lastLogDate,lastSymptoms:v.lastSymptoms}),f(!1)},g=()=>{a(null),u(null)};return n?p.jsx("div",{className:"flex items-center justify-center min-h-64",children:p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):p.jsxs("div",{className:"max-w-3xl mx-auto mt-10 space-y-8",children:[p.jsxs(Ht,{children:[p.jsx(Fr,{children:p.jsx(Ur,{children:"All Users"})}),p.jsx(qt,{children:n?p.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading users..."}):i.length===0?p.jsx("div",{className:"text-center py-8 text-gray-500",children:"No users found."}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full text-left",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{className:"py-2 px-4"}),p.jsx("th",{className:"py-2 px-4",children:"Name"}),p.jsx("th",{className:"py-2 px-4",children:"Analytics"})]})}),p.jsx("tbody",{children:i.map(v=>p.jsxs("tr",{className:"border-b last:border-0",children:[p.jsx("td",{className:"py-2 px-4",children:p.jsxs("div",{className:"flex items-center justify-center w-10 h-10 relative",children:[p.jsx("img",{src:v.photoURL||"",alt:v.name,className:`w-8 h-8 rounded-full object-cover bg-gray-200 block absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 ${v.photoURL?"opacity-100":"opacity-0"}`,onError:y=>{var x;y.target.style.opacity="0",(x=y.target.nextElementSibling)==null||x.classList.remove("opacity-0")}}),p.jsxs("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:`w-8 h-8 rounded-full bg-gray-200 block absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 ${v.photoURL?"opacity-0":"opacity-100"}`,children:[p.jsx("circle",{cx:"16",cy:"16",r:"16",fill:"#e5e7eb"}),p.jsx("path",{d:"M16 17c2.761 0 5-2.239 5-5s-2.239-5-5-5-5 2.239-5 5 2.239 5 5 5zm0 2c-3.314 0-10 1.657-10 5v2h20v-2c0-3.343-6.686-5-10-5z",fill:"#b0b3b8"})]}),YE(v.lastLogin)&&p.jsx("span",{className:"absolute bottom-0 right-0 block w-3 h-3 rounded-full bg-green-500 border-2 border-white",title:"Online"})]})}),p.jsx("td",{className:"py-2 px-4 font-medium",children:v.name}),p.jsx("td",{className:"py-2 px-4",children:p.jsx(Wn,{size:"sm",variant:"outline",onClick:()=>h(v),children:"View Analytics"})})]},v.id))})]})})})]}),o&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-lg max-w-2xl w-full p-8 relative",children:[p.jsx("button",{className:"absolute top-4 right-4 text-gray-400 hover:text-gray-700 text-xl",onClick:g,"aria-label":"Close",children:""}),p.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l!=null&&l.photoURL?p.jsx("img",{src:l.photoURL,alt:l.name,className:"w-12 h-12 rounded-full"}):p.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200"}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold",children:l==null?void 0:l.name}),p.jsx("div",{className:"text-gray-500 text-sm",children:l==null?void 0:l.email}),YE(l==null?void 0:l.lastLogin)&&p.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-green-500 ml-2",title:"Online"})]})]}),p.jsx("div",{className:"print:bg-white",children:d?p.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading analytics..."}):l?p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("span",{className:"font-medium",children:"Last Login:"})," ",l.lastLogin?new Date(l.lastLogin).toLocaleString():"-"]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-medium",children:"Total Entries:"})," ",l.totalEntries]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-medium",children:"Last Log Date:"})," ",l.lastLogDate?new Date(l.lastLogDate).toLocaleDateString():"-"]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-medium",children:"Last Mood:"})," ",l.lastMood||"-"]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-medium",children:"Recent Symptoms:"})," ",l.lastSymptoms&&l.lastSymptoms.length>0?l.lastSymptoms.join(", "):"-"]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-medium",children:"Top Symptoms:"}),l.topSymptoms.length===0?p.jsx("span",{className:"ml-2 text-gray-500",children:"None"}):p.jsx("ul",{className:"ml-4 list-disc",children:l.topSymptoms.map(([v,y])=>p.jsxs("li",{children:[v," (",y,")"]},v))})]})]}):null})]})})]})},md=w.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:pe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));md.displayName="Input";const P7=()=>{const{signInWithGoogle:t,signInWithEmail:e,signUpWithEmail:n}=_f(),{toast:r}=Mh(),[i,s]=w.useState(!1),[o,a]=w.useState(!1),[l,u]=w.useState({email:"",password:"",name:""}),d=g=>{u({...l,[g.target.name]:g.target.value})},f=async()=>{try{a(!0),await t(),r({title:"Success",description:"Successfully signed in with Google!"})}catch(g){r({title:"Error",description:g.message||"Failed to sign in with Google",variant:"destructive"})}finally{a(!1)}},h=async g=>{if(g.preventDefault(),!l.email||!l.password){r({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}if(i&&!l.name){r({title:"Error",description:"Please enter your name",variant:"destructive"});return}try{a(!0),i?(await n(l.email,l.password,l.name),r({title:"Success",description:"Account created successfully!"})):(await e(l.email,l.password),r({title:"Success",description:"Successfully signed in!"}))}catch(v){r({title:"Error",description:v.message||`Failed to ${i?"sign up":"sign in"}`,variant:"destructive"})}finally{a(!1)}};return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50 flex items-center justify-center",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full mx-4",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Period Tracker"}),p.jsx("p",{className:"text-gray-600",children:"Track your cycle with confidence"})]}),p.jsxs("form",{onSubmit:h,className:"space-y-4 mb-6",children:[i&&p.jsxs("div",{children:[p.jsx(yn,{htmlFor:"name",children:"Full Name"}),p.jsx(md,{id:"name",name:"name",type:"text",placeholder:"Enter your full name",value:l.name,onChange:d,required:i})]}),p.jsxs("div",{children:[p.jsx(yn,{htmlFor:"email",children:"Email"}),p.jsx(md,{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:l.email,onChange:d,required:!0})]}),p.jsxs("div",{children:[p.jsx(yn,{htmlFor:"password",children:"Password"}),p.jsx(md,{id:"password",name:"password",type:"password",placeholder:"Enter your password",value:l.password,onChange:d,required:!0})]}),p.jsx(Wn,{type:"submit",className:"w-full",disabled:o,children:o?"Loading...":i?"Sign Up":"Sign In"})]}),p.jsxs("div",{className:"relative mb-6",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("span",{className:"w-full border-t border-gray-300"})}),p.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:p.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or continue with"})})]}),p.jsxs(Wn,{onClick:f,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-300 text-gray-700 hover:bg-gray-50",variant:"outline",disabled:o,children:[p.jsx(yD,{className:"h-5 w-5"}),"Continue with Google"]}),p.jsx("div",{className:"text-center mt-6",children:p.jsx("button",{type:"button",onClick:()=>s(!i),className:"text-sm text-blue-600 hover:text-blue-800",children:i?"Already have an account? Sign in":"Don't have an account? Sign up"})}),p.jsx("p",{className:"text-xs text-gray-500 text-center mt-6",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})})},A7=[{style:{top:"8%",left:"5%",width:"320px",height:"220px",animation:"float1 18s ease-in-out infinite"},color:"#AEE6FF",d:"M60,40 Q100,10 180,40 T260,120 Q240,200 160,180 T60,120 Q20,80 60,40Z"},{style:{top:"60%",left:"10%",width:"260px",height:"180px",animation:"float2 22s ease-in-out infinite"},color:"#FFD6EC",d:"M50,80 Q80,10 170,40 T210,120 Q200,170 120,160 T50,120 Q10,100 50,80Z"},{style:{top:"20%",right:"8%",width:"260px",height:"180px",animation:"float3 20s ease-in-out infinite"},color:"#D0B3FF",d:"M60,60 Q100,10 180,40 T220,120 Q200,170 120,160 T60,120 Q20,100 60,60Z"},{style:{bottom:"10%",right:"12%",width:"320px",height:"220px",animation:"float4 24s ease-in-out infinite"},color:"#B9FBC0",d:"M80,60 Q120,10 200,40 T260,120 Q240,200 160,180 T80,120 Q40,100 80,60Z"},{style:{top:"40%",left:"45%",width:"180px",height:"120px",animation:"float2 20s ease-in-out infinite"},color:"#FFF6A9",d:"M40,60 Q60,10 120,30 T160,80 Q150,110 90,100 T40,80 Q10,70 40,60Z"}],R7=()=>p.jsxs(p.Fragment,{children:[p.jsx("style",{children:`
      .blob-bg {
        position: fixed;
        z-index: -10;
        pointer-events: none;
        filter: blur(2px);
        opacity: 0.55;
      }
      @keyframes float1 {
        0%, 100% { transform: translateY(0) scale(1); }
        50% { transform: translateY(-30px) scale(1.04); }
      }
      @keyframes float2 {
        0%, 100% { transform: translateY(0) scale(1); }
        50% { transform: translateY(25px) scale(0.98); }
      }
      @keyframes float3 {
        0%, 100% { transform: translateY(0) scale(1); }
        50% { transform: translateY(-20px) scale(1.03); }
      }
      @keyframes float4 {
        0%, 100% { transform: translateY(0) scale(1); }
        50% { transform: translateY(35px) scale(1.01); }
      }
    `}),A7.map((t,e)=>p.jsx("svg",{className:"blob-bg",style:{position:"fixed",...t.style,minWidth:t.style.width,minHeight:t.style.height},width:t.style.width,height:t.style.height,viewBox:"0 0 280 220",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:t.d,fill:t.color})},e))]}),k7=async(t,e=100)=>{try{const n=Ll(As(Kt,"logs"),fh("userId","==",t),CP("timestamp","desc"),e),r=await ud(n),i=[];return r.forEach(s=>{const o=s.data();i.push({id:s.id,userId:o.userId,timestamp:o.timestamp.toDate(),level:o.level,message:o.message,details:o.details,component:o.component})}),i}catch(n){throw console.error("Error getting logs:",n),n}},aR=w.forwardRef(({className:t,...e},n)=>p.jsx("div",{className:"relative w-full overflow-auto",children:p.jsx("table",{ref:n,className:pe("w-full caption-bottom text-sm",t),...e})}));aR.displayName="Table";const lR=w.forwardRef(({className:t,...e},n)=>p.jsx("thead",{ref:n,className:pe("[&_tr]:border-b",t),...e}));lR.displayName="TableHeader";const cR=w.forwardRef(({className:t,...e},n)=>p.jsx("tbody",{ref:n,className:pe("[&_tr:last-child]:border-0",t),...e}));cR.displayName="TableBody";const N7=w.forwardRef(({className:t,...e},n)=>p.jsx("tfoot",{ref:n,className:pe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));N7.displayName="TableFooter";const Mg=w.forwardRef(({className:t,...e},n)=>p.jsx("tr",{ref:n,className:pe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Mg.displayName="TableRow";const go=w.forwardRef(({className:t,...e},n)=>p.jsx("th",{ref:n,className:pe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));go.displayName="TableHead";const vo=w.forwardRef(({className:t,...e},n)=>p.jsx("td",{ref:n,className:pe("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));vo.displayName="TableCell";const D7=w.forwardRef(({className:t,...e},n)=>p.jsx("caption",{ref:n,className:pe("mt-4 text-sm text-muted-foreground",t),...e}));D7.displayName="TableCaption";function O7(t,[e,n]){return Math.min(n,Math.max(e,t))}function M7(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var f0="ScrollArea",[uR,pz]=Xs(f0),[L7,Pn]=uR(f0),dR=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=t,[a,l]=w.useState(null),[u,d]=w.useState(null),[f,h]=w.useState(null),[g,v]=w.useState(null),[y,x]=w.useState(null),[T,E]=w.useState(0),[b,A]=w.useState(0),[D,L]=w.useState(!1),[P,S]=w.useState(!1),C=Be(e,N=>l(N)),R=a0(i);return p.jsx(L7,{scope:n,type:r,dir:R,scrollHideDelay:s,scrollArea:a,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:g,onScrollbarXChange:v,scrollbarXEnabled:D,onScrollbarXEnabledChange:L,scrollbarY:y,onScrollbarYChange:x,scrollbarYEnabled:P,onScrollbarYEnabledChange:S,onCornerWidthChange:E,onCornerHeightChange:A,children:p.jsx(xe.div,{dir:R,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":T+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});dR.displayName=f0;var hR="ScrollAreaViewport",fR=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,asChild:i,nonce:s,...o}=t,a=Pn(hR,n),l=w.useRef(null),u=Be(e,l,a.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:s}),p.jsx(xe.div,{"data-radix-scroll-area-viewport":"",...o,asChild:i,ref:u,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:q7({asChild:i,children:r},d=>p.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});fR.displayName=hR;var xr="ScrollAreaScrollbar",p0=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Pn(xr,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=t.orientation==="horizontal";return w.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?p.jsx(j7,{...r,ref:e,forceMount:n}):i.type==="scroll"?p.jsx(V7,{...r,ref:e,forceMount:n}):i.type==="auto"?p.jsx(pR,{...r,ref:e,forceMount:n}):i.type==="always"?p.jsx(m0,{...r,ref:e}):null});p0.displayName=xr;var j7=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Pn(xr,t.__scopeScrollArea),[s,o]=w.useState(!1);return w.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),p.jsx(Jn,{present:n||s,children:p.jsx(pR,{"data-state":s?"visible":"hidden",...r,ref:e})})}),V7=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Pn(xr,t.__scopeScrollArea),s=t.orientation==="horizontal",o=Sf(()=>l("SCROLL_END"),100),[a,l]=M7("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,i.scrollHideDelay,l]),w.useEffect(()=>{const u=i.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const g=u[d];f!==g&&(l("SCROLL"),o()),f=g};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[i.viewport,s,l,o]),p.jsx(Jn,{present:n||a!=="hidden",children:p.jsx(m0,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:ue(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:ue(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),pR=w.forwardRef((t,e)=>{const n=Pn(xr,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,o]=w.useState(!1),a=t.orientation==="horizontal",l=Sf(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:d)}},10);return wa(n.viewport,l),wa(n.content,l),p.jsx(Jn,{present:r||s,children:p.jsx(m0,{"data-state":s?"visible":"hidden",...i,ref:e})})}),m0=w.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Pn(xr,t.__scopeScrollArea),s=w.useRef(null),o=w.useRef(0),[a,l]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=wR(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,g){return W7(h,o.current,a,g)}return n==="horizontal"?p.jsx(F7,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollLeft,g=QE(h,a,i.dir);s.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?p.jsx(U7,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollTop,g=QE(h,a);s.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),F7=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Pn(xr,t.__scopeScrollArea),[o,a]=w.useState(),l=w.useRef(null),u=Be(e,l,s.onScrollbarXChange);return w.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(gR,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":bf(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),ER(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:yh(o.paddingLeft),paddingEnd:yh(o.paddingRight)}})}})}),U7=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Pn(xr,t.__scopeScrollArea),[o,a]=w.useState(),l=w.useRef(null),u=Be(e,l,s.onScrollbarYChange);return w.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(gR,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":bf(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),ER(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:yh(o.paddingTop),paddingEnd:yh(o.paddingBottom)}})}})}),[B7,mR]=uR(xr),gR=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=t,g=Pn(xr,n),[v,y]=w.useState(null),x=Be(e,C=>y(C)),T=w.useRef(null),E=w.useRef(""),b=g.viewport,A=r.content-r.viewport,D=nt(d),L=nt(l),P=Sf(f,10);function S(C){if(T.current){const R=C.clientX-T.current.left,N=C.clientY-T.current.top;u({x:R,y:N})}}return w.useEffect(()=>{const C=R=>{const N=R.target;(v==null?void 0:v.contains(N))&&D(R,A)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[b,v,A,D]),w.useEffect(L,[r,L]),wa(v,P),wa(g.content,P),p.jsx(B7,{scope:n,scrollbar:v,hasThumb:i,onThumbChange:nt(s),onThumbPointerUp:nt(o),onThumbPositionChange:L,onThumbPointerDown:nt(a),children:p.jsx(xe.div,{...h,ref:x,style:{position:"absolute",...h.style},onPointerDown:ue(t.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),T.current=v.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),S(C))}),onPointerMove:ue(t.onPointerMove,S),onPointerUp:ue(t.onPointerUp,C=>{const R=C.target;R.hasPointerCapture(C.pointerId)&&R.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=E.current,g.viewport&&(g.viewport.style.scrollBehavior=""),T.current=null})})})}),vh="ScrollAreaThumb",vR=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=mR(vh,t.__scopeScrollArea);return p.jsx(Jn,{present:n||i.hasThumb,children:p.jsx($7,{ref:e,...r})})}),$7=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=Pn(vh,n),o=mR(vh,n),{onThumbPositionChange:a}=o,l=Be(e,f=>o.onThumbChange(f)),u=w.useRef(),d=Sf(()=>{u.current&&(u.current(),u.current=void 0)},100);return w.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const g=H7(f,a);u.current=g,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,a]),p.jsx(xe.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ue(t.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),v=f.clientX-g.left,y=f.clientY-g.top;o.onThumbPointerDown({x:v,y})}),onPointerUp:ue(t.onPointerUp,o.onThumbPointerUp)})});vR.displayName=vh;var g0="ScrollAreaCorner",yR=w.forwardRef((t,e)=>{const n=Pn(g0,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(z7,{...t,ref:e}):null});yR.displayName=g0;var z7=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Pn(g0,n),[s,o]=w.useState(0),[a,l]=w.useState(0),u=!!(s&&a);return wa(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),wa(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),o(d)}),u?p.jsx(xe.div,{...r,ref:e,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function yh(t){return t?parseInt(t,10):0}function wR(t,e){const n=t/e;return isNaN(n)?0:n}function bf(t){const e=wR(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function W7(t,e,n,r="ltr"){const i=bf(n),s=i/2,o=e||s,a=i-o,l=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return _R([l,u],f)(t)}function QE(t,e,n="ltr"){const r=bf(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,l=n==="ltr"?[0,o]:[o*-1,0],u=O7(t,l);return _R([0,o],[0,a])(u)}function _R(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function ER(t,e){return t>0&&t<e}var H7=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Sf(t,e){const n=nt(t),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function wa(t,e){const n=nt(e);Kr(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}function q7(t,e){const{asChild:n,children:r}=t;if(!n)return typeof e=="function"?e(r):e;const i=w.Children.only(r);return w.cloneElement(i,{children:typeof e=="function"?e(i.props.children):e})}var xR=dR,G7=fR,K7=yR;const TR=w.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(xR,{ref:r,className:pe("relative overflow-hidden",t),...n,children:[p.jsx(G7,{className:"h-full w-full rounded-[inherit]",children:e}),p.jsx(bR,{}),p.jsx(K7,{})]}));TR.displayName=xR.displayName;const bR=w.forwardRef(({className:t,orientation:e="vertical",...n},r)=>p.jsx(p0,{ref:r,orientation:e,className:pe("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:p.jsx(vR,{className:"relative flex-1 rounded-full bg-border"})}));bR.displayName=p0.displayName;const Y7=()=>{const{user:t}=_f(),[e,n]=w.useState([]),[r,i]=w.useState(!0);w.useEffect(()=>{(async()=>{if(t)try{const a=await k7(t.uid);n(a)}catch(a){console.error("Error fetching logs:",a)}finally{i(!1)}})()},[t]);const s=o=>{switch(o){case"error":return"bg-red-100 text-red-800";case"warning":return"bg-yellow-100 text-yellow-800";case"info":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return r?p.jsx("div",{children:"Loading logs..."}):p.jsxs("div",{className:"w-full",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:"System Logs"}),p.jsx(TR,{className:"h-[600px] rounded-md border",children:p.jsxs(aR,{children:[p.jsx(lR,{children:p.jsxs(Mg,{children:[p.jsx(go,{children:"Timestamp"}),p.jsx(go,{children:"Level"}),p.jsx(go,{children:"Component"}),p.jsx(go,{children:"Message"}),p.jsx(go,{children:"Details"})]})}),p.jsx(cR,{children:e.map(o=>p.jsxs(Mg,{children:[p.jsx(vo,{children:Qn(o.timestamp,"MMM d, yyyy HH:mm:ss")}),p.jsx(vo,{children:p.jsx(pd,{className:s(o.level),children:o.level})}),p.jsx(vo,{children:o.component||"-"}),p.jsx(vo,{children:o.message}),p.jsx(vo,{children:o.details?p.jsx("pre",{className:"text-xs",children:JSON.stringify(o.details,null,2)}):"-"})]},o.id))})]})})]})},XE={Cramps:{icon:p.jsx(Zb,{className:"text-pink-400"}),ideas:["Use a heating pad on your abdomen","Try gentle yoga or stretching","Stay hydrated and rest"]},Headache:{icon:p.jsx(ED,{className:"text-purple-400"}),ideas:["Drink water and rest in a dark room","Try a warm or cold compress","Limit screen time"]},Bloating:{icon:p.jsx(TD,{className:"text-green-400"}),ideas:["Eat smaller, more frequent meals","Avoid salty foods","Try gentle movement or walking"]},Fatigue:{icon:p.jsx(AD,{className:"text-yellow-400"}),ideas:["Take short naps if needed","Get some fresh air and sunlight","Prioritize restful sleep"]},Acne:{icon:p.jsx(tS,{className:"text-blue-400"}),ideas:["Keep your skin clean and moisturized","Avoid touching your face","Use gentle skincare products"]}},Q7=({periodEntries:t})=>{const e=t.slice().reverse().find(r=>r.symptoms&&r.symptoms.length>0),n=(e==null?void 0:e.symptoms)||[];return n.length===0?p.jsx("div",{className:"max-w-2xl mx-auto mt-10",children:p.jsxs(Ht,{children:[p.jsx(Fr,{children:p.jsxs(Ur,{className:"flex items-center gap-2",children:[p.jsx(Wm,{className:"text-pink-400"}),"Relief Ideas"]})}),p.jsx(qt,{children:p.jsx("p",{className:"text-gray-600 text-center py-8",children:"Log your symptoms to get personalized relief ideas!"})})]})}):p.jsx("div",{className:"max-w-2xl mx-auto mt-10 space-y-6",children:p.jsxs(Ht,{children:[p.jsx(Fr,{children:p.jsxs(Ur,{className:"flex items-center gap-2",children:[p.jsx(Wm,{className:"text-pink-400"}),"Relief Ideas for You"]})}),p.jsx(qt,{children:p.jsx("div",{className:"space-y-6",children:n.map(r=>{var i,s;return p.jsxs("div",{className:"rounded-xl bg-white/70 shadow p-5 flex gap-4 items-start",children:[p.jsx("div",{className:"mt-1",children:((i=XE[r])==null?void 0:i.icon)||p.jsx(tS,{className:"text-gray-400"})}),p.jsxs("div",{children:[p.jsx("div",{className:"font-semibold text-lg text-gray-700 mb-1",children:r}),p.jsx("ul",{className:"list-disc pl-5 text-gray-600 space-y-1",children:(((s=XE[r])==null?void 0:s.ideas)||["Rest, hydrate, and take care!"]).map((o,a)=>p.jsx("li",{children:o},a))})]})]},r)})})})]})})},X7=()=>{const{user:t,isAdmin:e,loading:n}=_f(),[r,i]=w.useState("calendar"),[s,o]=w.useState(),{toast:a}=Mh(),[l,u]=w.useState({cycleLength:28,periodLength:5,lastPeriodStart:"2025-06-11",averageCycleLength:28}),[d,f]=w.useState([]);w.useEffect(()=>{if(t){const x=Ll(As(Kt,"periodEntries"),fh("userId","==",t.uid));return NP(x,E=>{const b=[];E.forEach(A=>{const D=A.data();b.push({id:A.id,date:D.date,flow:D.flow,symptoms:D.symptoms,mood:D.mood,notes:D.notes})}),f(b)})}},[t]);const h=x=>{o(x),i("log")},g=async x=>{try{if(x.isFirstDayOfCycle){const T={...l,lastPeriodStart:x.date};u(T)}await M9(As(Kt,"periodEntries"),{...x,userId:t==null?void 0:t.uid}),a({title:"Success",description:"Entry saved successfully!"})}catch(T){throw console.error("Detailed error saving entry:",T),a({title:"Error",description:"Failed to save entry. Please try again.",variant:"destructive"}),T}},v=x=>{o(x.date),i("log")};if(n)return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50 flex items-center justify-center",children:p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!t)return p.jsx(P7,{});const y=()=>{switch(r){case"calendar":return p.jsx(U9,{cycleData:l,periodEntries:d,onDateClick:h});case"log":return s?p.jsx(p7,{onSaveEntry:g,selectedDate:s}):p.jsx("div",{className:"text-center py-8",children:p.jsx("p",{className:"text-gray-600",children:"Please select a date from the calendar to log an entry."})});case"entries":return p.jsx(g7,{entries:d.sort((x,T)=>new Date(T.date).getTime()-new Date(x.date).getTime()),onEntryClick:v});case"insights":return p.jsx(C7,{cycleData:l,periodEntries:d});case"relief":return p.jsx(Q7,{periodEntries:d});case"admin":return e?p.jsx(I7,{}):null;case"logs":return e?p.jsx(Y7,{}):null;default:return null}};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50/50 via-purple-50/50 to-indigo-50/50",children:[p.jsx(R7,{}),p.jsxs("div",{className:"container mx-auto px-4 py-8 relative z-10",children:[p.jsx(F9,{activeTab:r,onTabChange:i}),p.jsx("main",{className:"mt-8",children:y()})]})]})},J7=()=>{const t=nC();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),p.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Z7=new UL,ez=()=>p.jsx($L,{client:Z7,children:p.jsx(vL,{children:p.jsxs(V9,{children:[p.jsx(mO,{}),p.jsx(WO,{}),p.jsx(C4,{children:p.jsxs(T4,{children:[p.jsx(tg,{path:"/",element:p.jsx(X7,{})}),p.jsx(tg,{path:"*",element:p.jsx(J7,{})})]})})]})})});Eb(document.getElementById("root")).render(p.jsx(ez,{}));
//# sourceMappingURL=index-CL-e9-Vk.js.map
